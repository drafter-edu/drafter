{"version":3,"sources":["../../node_modules/hogan.js/lib/compiler.js","../../node_modules/hogan.js/lib/template.js","../../node_modules/hogan.js/lib/hogan.js","../../src/index.ts","../../src/types/skulpt/index.ts","../../node_modules/i18next/dist/esm/i18next.js","../../locales/resources.json","../../src/i18n.ts","../../node_modules/jsx-dom/index.js","../../src/debug/header.tsx","../../src/debug/footer.tsx","../../node_modules/diff2html/src/types.ts","../../node_modules/diff2html/src/utils.ts","../../node_modules/diff2html/src/diff-parser.ts","../../node_modules/diff2html/node_modules/diff/lib/index.mjs","../../node_modules/diff2html/src/rematch.ts","../../node_modules/diff2html/src/render-utils.ts","../../node_modules/diff2html/src/file-list-renderer.ts","../../node_modules/diff2html/src/line-by-line-renderer.ts","../../node_modules/diff2html/src/side-by-side-renderer.ts","../../node_modules/diff2html/src/hoganjs-utils.ts","../../node_modules/diff2html/src/diff2html-templates.ts","../../node_modules/diff2html/src/diff2html.ts","../../src/debug/panels/testing.tsx","../../src/debug/index.tsx","../../src/skulpt-tools.ts"],"sourcesContent":["/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n","import { getSkulptFile, setupSkulpt, startServer } from \"./skulpt-tools\";\n\nexport interface DrafterInitOptions {\n    code?: string;\n    url?: string;\n    presentErrors?: boolean;\n}\n\nconst x: pyStr = new Sk.builtin.str(\"hello\");\n\nexport function runStudentCode(options: DrafterInitOptions) {\n    setupSkulpt();\n\n    if (options.code) {\n        return startServer(options.code, \"main\", options.presentErrors);\n    } else if (options.url) {\n        return fetch(options.url)\n            .then((response) => {\n                if (!response.ok) {\n                    throw new Error(\n                        \"Network response was not ok \" + response.statusText\n                    );\n                }\n                return response.text(); // assuming the server returns text content\n            })\n            .then((contents) => {\n                return startServer(contents, \"main\");\n            });\n    } else {\n        throw new Error(\"Either code or url must be provided\");\n    }\n\n    console.log(\"Drafter setup complete.\");\n}\n","import \"./types\";\n\nexport const {\n    DebugPanel: DebugPanel,\n    builtin: {\n        bool: { true$: pyTrue, false$: pyFalse },\n        none: { none$: pyNone },\n        NotImplemented: { NotImplemented$: pyNotImplemented },\n\n        bool: pyBool,\n        bytes: pyBytes,\n        dict: pyDict,\n        float_: pyFloat,\n        frozenset: pyFrozenSet,\n        func: pyFunc,\n        int_: pyInt,\n        list: pyList,\n        none: pyNoneType,\n        mappingproxy: pyMappingProxy,\n        module: pyModule,\n        object: pyObject,\n        set: pySet,\n        slice: pySlice,\n        sk_method: pyBuiltinFunctionOrMethod,\n        str: pyStr,\n        tuple: pyTuple,\n        type: pyType,\n\n        classmethod: pyClassMethod,\n        staticmethod: pyStaticMethod,\n        property: pyProperty,\n\n        BaseException: pyBaseException,\n        SystemExit: pySystemExit,\n        KeyboardInterrupt: pyKeyboardInterrupt,\n        GeneratorExit: pyGeneratorExit,\n        Exception: pyException,\n        StopIteration: pyStopIteration,\n        StopAsyncIteration: pyStopAsyncIteration,\n        ArithmeticError: pyArithmeticError,\n        FloatingPointError: pyFloatingPointError,\n        OverflowError: pyOverflowError,\n        ZeroDivisionError: pyZeroDivisionError,\n        AssertionError: pyAssertionError,\n        AttributeError: pyAttributeError,\n        BufferError: pyBufferError,\n        EOFError: pyEOFError,\n        ImportError: pyImportError,\n        ModuleNotFoundError: pyModuleNotFoundError,\n        LookupError: pyLookupError,\n        IndexError: pyIndexError,\n        KeyError: pyKeyError,\n        MemoryError: pyMemoryError,\n        NameError: pyNameError,\n        UnboundLocalError: pyUnboundLocalError,\n        OSError: pyOSError,\n        FileNotFoundError: pyFileNotFoundError,\n        TimeoutError: pyTimeoutError,\n        ReferenceError: pyReferenceError,\n        RuntimeError: pyRuntimeError,\n        NotImplementedError: pyNotImplementedError,\n        RecursionError: pyRecursionError,\n        SyntaxError: pySyntaxError,\n        IndentationError: pyIndentationError,\n        TabError: pyTabError,\n        SystemError: pySystemError,\n        TypeError: pyTypeError,\n        ValueError: pyValueError,\n        UnicodeError: pyUnicodeError,\n        UnicodeDecodeError: pyUnicodeDecodeError,\n        UnicodeEncodeError: pyUnicodeEncodeError,\n        ExternalError: pyExternalError,\n\n        checkString,\n        checkBool,\n        checkInt,\n        checkAnySet,\n        checkBytes,\n        checkCallable,\n        checkIterable,\n        checkNone,\n\n        issubclass: pyIsSubclass,\n        isinstance: pyIsInstance,\n        hasattr: pyHasAttr,\n    },\n    misceval: {\n        isTrue,\n        Suspension,\n        Break,\n        chain: chainOrSuspend,\n        tryCatch: tryCatchOrSuspend,\n        retryOptionalSuspensionOrThrow,\n        objectRepr,\n        buildClass: buildPyClass,\n        iterFor: iterForOrSuspend,\n        iterArray,\n        richCompareBool,\n        callsimArray: pyCall,\n        callsimOrSuspendArray: pyCallOrSuspend,\n        arrayFromIterable,\n        asyncToPromise: suspensionToPromise,\n        promiseToSuspension,\n    },\n    abstr: {\n        buildNativeClass,\n        copyKeywordsToNamedArgs,\n        checkArgsLen,\n        checkNoArg,\n        checkNoKwargs,\n        checkOneArg,\n        keywordArrayFromPyDict,\n        keywordArrayToPyDict,\n        iter: pyIter,\n        lookupSpecial,\n        typeLookup,\n        setUpModuleMethods,\n    },\n    ffi: { toPy, toJs, proxy },\n} = Sk;\n\nexport type { Args, Kws, CompareOp, BinOp, UnaryOp } from \"./namespace\";\nexport default Sk;\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = (obj, path, keySeparator = '.') => {\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger, options = {}) {\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger, options = {}) {\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log(...args) {\n    return this.forward(args, 'log', '', true);\n  }\n  warn(...args) {\n    return this.forward(args, 'warn', '', true);\n  }\n  error(...args) {\n    return this.forward(args, 'error', '');\n  }\n  deprecate(...args) {\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event, ...args) {\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data, options = {\n    ns: ['translation'],\n    defaultNS: 'translation'\n  }) {\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key, options = {}) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value, options = {\n    silent: false\n  }) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources, options = {\n    silent: false\n  }) {\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite, options = {\n    silent: false,\n    skipCopy: false\n  }) {\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst PATH_KEY = Symbol('i18next/PATH_KEY');\nfunction createProxy() {\n  const state = [];\n  const handler = Object.create(null);\n  let proxy;\n  handler.get = (target, key) => {\n    proxy?.revoke?.();\n    if (key === PATH_KEY) return state;\n    state.push(key);\n    proxy = Proxy.revocable(target, handler);\n    return proxy.proxy;\n  };\n  return Proxy.revocable(Object.create(null), handler).proxy;\n}\nfunction keysFromSelector(selector, opts) {\n  const {\n    [PATH_KEY]: path\n  } = selector(createProxy());\n  return path.join(opts?.keySeparator ?? '.');\n}\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services, options = {}) {\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key, o = {\n    interpolation: {}\n  }) {\n    const opt = {\n      ...o\n    };\n    if (key == null) return false;\n    const resolved = this.resolve(key, opt);\n    if (resolved?.res === undefined) return false;\n    const isObject = shouldHandleAsObject(resolved.res);\n    if (opt.returnObjects === false && isObject) {\n      return false;\n    }\n    return true;\n  }\n  extractFromKey(key, opt) {\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    let namespaces = opt.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !opt.keySeparator && !this.options.userDefinedNsSeparator && !opt.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, o, lastKey) {\n    let opt = typeof o === 'object' ? {\n      ...o\n    } : o;\n    if (typeof opt !== 'object' && this.options.overloadTranslationOptionHandler) {\n      opt = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof opt === 'object') opt = {\n      ...opt\n    };\n    if (!opt) opt = {};\n    if (keys == null) return '';\n    if (typeof keys === 'function') keys = keysFromSelector(keys, {\n      ...this.options,\n      ...opt\n    });\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = opt.returnDetails !== undefined ? opt.returnDetails : this.options.returnDetails;\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], opt);\n    const namespace = namespaces[namespaces.length - 1];\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const lng = opt.lng || this.language;\n    const appendNamespaceToCIMode = opt.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(opt)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(opt)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, opt);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = opt.joinArrays !== undefined ? opt.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n    const hasDefaultValue = Translator.hasDefaultValue(opt);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, opt) : '';\n    const defaultValueSuffixOrdinalFallback = opt.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n    const defaultValue = needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] || opt[`defaultValue${defaultValueSuffix}`] || opt[`defaultValue${defaultValueSuffixOrdinalFallback}`] || opt.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!opt.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...opt,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(opt);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, opt, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = opt.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...opt,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, opt.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(opt.lng || this.language);\n        } else {\n          lngs.push(opt.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, opt);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, opt);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, opt);\n              if (needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, opt[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, opt, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) {\n        res = `${namespace}${nsSeparator}${key}`;\n      }\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}${nsSeparator}${key}` : key, usedDefault ? res : undefined, opt);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(opt);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, opt, resolved, lastKey) {\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...opt\n      }, opt.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!opt.skipInterpolation) {\n      if (opt.interpolation) this.interpolator.init({\n        ...opt,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...opt.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (opt?.interpolation?.skipOnVariables !== undefined ? opt.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = opt.replace && !isString(opt.replace) ? opt.replace : opt;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, opt.lng || this.language || resolved.usedLng, opt);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) opt.nest = false;\n      }\n      if (!opt.lng && resolved && resolved.res) opt.lng = this.language || resolved.usedLng;\n      if (opt.nest !== false) res = this.interpolator.nest(res, (...args) => {\n        if (lastKey?.[0] === args[0] && !opt.context) {\n          this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return this.translate(...args, key);\n      }, opt);\n      if (opt.interpolation) this.interpolator.reset();\n    }\n    const postProcess = opt.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && opt.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(opt)\n        },\n        ...opt\n      } : opt, this);\n    }\n    return res;\n  }\n  resolve(keys, opt = {}) {\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, opt);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n      const needsContextHandling = opt.context !== undefined && (isString(opt.context) || typeof opt.context === 'number') && opt.context !== '';\n      const codes = opt.lngs ? opt.lngs : this.languageUtils.toResolveHierarchy(opt.lng || this.language, opt.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, opt);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, opt.count, opt);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              finalKeys.push(key + pluralSuffix);\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator || '_'}${opt.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                finalKeys.push(contextKey + pluralSuffix);\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, opt);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key, options = {}) {\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails(options = {}) {\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngScOnly = this.getScriptPartFromCode(code);\n        if (this.isSupportedCode(lngScOnly)) return found = lngScOnly;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes((fallbackCode === false ? [] : fallbackCode) || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils, options = {}) {\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code, options = {}) {\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key, options = {}) {\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count, options = {}) {\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = (data, defaultData, key, keySeparator = '.', ignoreJSONStructure = true) => {\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init(options = {}) {\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\\\))*?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc, options = {}) {\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      const keyEndIndex = /{.*}/.test(match[1]) ? match[1].lastIndexOf('}') + 1 : match[1].indexOf(this.formatSeparator);\n      if (keyEndIndex !== -1) {\n        formatters = match[1].slice(keyEndIndex).split(this.formatSeparator).map(elem => elem.trim()).filter(Boolean);\n        match[1] = match[1].slice(0, keyEndIndex);\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (formatters.length) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (v, l, o) => {\n    let optForCache = o;\n    if (o && o.interpolationkey && o.formatParams && o.formatParams[o.interpolationkey] && o[o.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [o.interpolationkey]: undefined\n      };\n    }\n    const key = l + JSON.stringify(optForCache);\n    let frm = cache[key];\n    if (!frm) {\n      frm = fn(getCleanedCode(l), o);\n      cache[key] = frm;\n    }\n    return frm(v);\n  };\n};\nconst createNonCachedFormatter = fn => (v, l, o) => fn(getCleanedCode(l), o)(v);\nclass Formatter {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.init(options);\n  }\n  init(services, options = {\n    interpolation: {}\n  }) {\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n    const cf = options.cacheInBuiltFormats ? createCachedFormatter : createNonCachedFormatter;\n    this.formats = {\n      number: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: cf((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: cf((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: cf((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng, options = {}) {\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services, options = {}) {\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName, tried = 0, wait = this.retryTimeout, callback) {\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces, options = {}, callback) {\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name, prefix = '') {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate, options = {}, clb = () => {}) {\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  },\n  cacheInBuiltFormats: true\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor(options = {}, callback) {\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init(options = {}, callback) {\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      const usingLegacyFormatFunction = this.options.interpolation.format && this.options.interpolation.format !== defOpts.interpolation.format;\n      if (usingLegacyFormatFunction) {\n        this.logger.deprecate(`init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting`);\n      }\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        if (s.formatter.init) s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = (...args) => this.store[fcName](...args);\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = (...args) => {\n        this.store[fcName](...args);\n        return this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language, callback = noop) {\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n    if (!this.resolvedLanguage && this.languages.indexOf(l) < 0 && this.store.hasLanguageSomeTranslations(l)) {\n      this.resolvedLanguage = l;\n      this.languages.unshift(l);\n    }\n  }\n  changeLanguage(lng, callback) {\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        if (this.isLanguageChangingTo === lng) {\n          setLngProps(l);\n          this.translator.changeLanguage(l);\n          this.isLanguageChangingTo = undefined;\n          this.emit('languageChanged', l);\n          this.logger.log('languageChanged', l);\n        }\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve((...args) => this.t(...args));\n      if (callback) callback(err, (...args) => this.t(...args));\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const fl = isString(lngs) ? lngs : lngs && lngs[0];\n      const l = this.store.hasLanguageSomeTranslations(fl) ? fl : this.services.languageUtils.getBestMatchFromCodes(isString(lngs) ? [lngs] : lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    const fixedT = (key, opts, ...rest) => {\n      let o;\n      if (typeof opts !== 'object') {\n        o = this.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        o = {\n          ...opts\n        };\n      }\n      o.lng = o.lng || fixedT.lng;\n      o.lngs = o.lngs || fixedT.lngs;\n      o.ns = o.ns || fixedT.ns;\n      if (o.keyPrefix !== '') o.keyPrefix = o.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = this.options.keySeparator || '.';\n      let resultKey;\n      if (o.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => {\n          if (typeof k === 'function') k = keysFromSelector(k, {\n            ...this.options,\n            ...opts\n          });\n          return `${o.keyPrefix}${keySeparator}${k}`;\n        });\n      } else {\n        if (typeof key === 'function') key = keysFromSelector(key, {\n          ...this.options,\n          ...opts\n        });\n        resultKey = o.keyPrefix ? `${o.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return this.t(resultKey, o);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t(...args) {\n    return this.translator?.translate(...args);\n  }\n  exists(...args) {\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns, options = {}) {\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    try {\n      const l = new Intl.Locale(lng);\n      if (l && l.getTextInfo) {\n        const ti = l.getTextInfo();\n        if (ti && ti.direction) return ti.direction;\n      }\n    } catch (e) {}\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    if (lng.toLowerCase().indexOf('-latn') > 1) return 'ltr';\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance(options = {}, callback) {\n    const instance = new I18n(options, callback);\n    instance.createInstance = I18n.createInstance;\n    return instance;\n  }\n  cloneInstance(options = {}, callback = noop) {\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        prev[l] = Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, prev[l]);\n        return prev;\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', (event, ...args) => {\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, keysFromSelector as keyFromSelector, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","{\n    \"en\": {\n        \"common\": {\n            \"app.title\": \"Drafter Application\",\n            \"icon.home\": \"\",\n            \"button.home\": \"Home\",\n            \"button.home.tooltip\": \"Go to Home\",\n            \"icon.reset\": \"\",\n            \"button.reset\": \"Reset\",\n            \"button.reset.tooltip\": \"Clear state, history, and return to home\",\n            \"icon.about\": \"\",\n            \"button.about\": \"About\",\n            \"button.about.tooltip\": \"Show the about page with application information\",\n            \"icon.save\": \"\",\n            \"button.save\": \"Save\",\n            \"button.save.tooltip\": \"Save current state to local storage\",\n            \"icon.load\": \"\",\n            \"button.load\": \"Load\",\n            \"button.load.tooltip\": \"Load previous state from local storage\",\n            \"icon.download\": \"\",\n            \"button.download\": \"Download\",\n            \"button.download.tooltip\": \"Download current state as a JSON file\",\n            \"icon.upload\": \"\",\n            \"button.upload\": \"Upload\",\n            \"button.upload.tooltip\": \"Upload a JSON file to restore state\",\n            \"icon.toggle\": \"\",\n            \"button.toggle\": \"Toggle\",\n            \"button.toggle.tooltip\": \"Hide the debug panel (CTRL+Q twice to show again)\",\n            \"icon.close\": \"\",\n            \"button.close\": \"Close\",\n            \"button.close.tooltip\": \"Close the server connection and this page.\",\n\n            \"footer.route\": \"Route: \"\n        }\n    },\n    \"es\": {\n        \"common\": {\n            \"app.title\": \"Aplicacin Drafter\",\n            \"icon.home\": \"\",\n            \"icon.reset\": \"\",\n            \"button.reset\": \"Reiniciar\",\n            \"button.home\": \"Inicio\",\n            \"icon.save\": \"\",\n            \"button.save\": \"Guardar\",\n            \"icon.load\": \"\",\n            \"button.load\": \"Cargar\",\n            \"icon.download\": \"\",\n            \"button.download\": \"Descargar\",\n            \"icon.upload\": \"\",\n            \"button.upload\": \"Subir\",\n            \"icon.toggle\": \"\",\n            \"button.toggle\": \"Alternar\",\n            \"icon.close\": \"\",\n            \"button.close\": \"Cerrar\"\n        }\n    }\n}\n","import i18next from \"i18next\";\nimport resources from \"../locales/resources.json\";\n\nexport const defaultNS = \"common\";\n\ni18next.init({\n    lng: \"en\",\n    fallbackLng: \"en\",\n    debug: false,\n\n    ns: [defaultNS],\n    defaultNS,\n\n    resources,\n});\n\nexport const t = i18next.t.bind(i18next);\nexport const i18n = i18next;\n","/* eslint-disable */\nconst keys = Object.keys;\nfunction identity(value) {\n  return value;\n}\nfunction isBoolean(val) {\n  return typeof val === \"boolean\";\n}\nfunction isElement(val) {\n  return val && typeof val.nodeType === \"number\";\n}\nfunction isString(val) {\n  return typeof val === \"string\";\n}\nfunction isNumber(val) {\n  return typeof val === \"number\";\n}\nfunction isObject(val) {\n  return typeof val === \"object\" ? val !== null : isFunction(val);\n}\nfunction isFunction(val) {\n  return typeof val === \"function\";\n}\nfunction isComponentClass(Component) {\n  return !!(Component && Component.isComponent);\n}\nfunction isArrayLike(obj) {\n  return (\n    isObject(obj) &&\n    typeof obj.length === \"number\" &&\n    typeof obj.nodeType !== \"number\"\n  );\n}\nfunction forEach(value, fn) {\n  if (!value) return;\n  for (const key of keys(value)) {\n    fn(value[key], key);\n  }\n}\n\nfunction createRef() {\n  return Object.seal({\n    current: null,\n  });\n}\nfunction isRef(maybeRef) {\n  return isObject(maybeRef) && \"current\" in maybeRef;\n}\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found on\n * https://github.com/facebook/react/blob/b87aabdfe1b7461e7331abb3601d9e6bb27544bc/LICENSE\n */\n\n/**\n * CSS properties which accept numbers but are not in units of \"px\".\n */\nconst isUnitlessNumber = {\n  animationIterationCount: 0,\n  borderImageOutset: 0,\n  borderImageSlice: 0,\n  borderImageWidth: 0,\n  boxFlex: 0,\n  boxFlexGroup: 0,\n  boxOrdinalGroup: 0,\n  columnCount: 0,\n  columns: 0,\n  flex: 0,\n  flexGrow: 0,\n  flexPositive: 0,\n  flexShrink: 0,\n  flexNegative: 0,\n  flexOrder: 0,\n  gridArea: 0,\n  gridRow: 0,\n  gridRowEnd: 0,\n  gridRowSpan: 0,\n  gridRowStart: 0,\n  gridColumn: 0,\n  gridColumnEnd: 0,\n  gridColumnSpan: 0,\n  gridColumnStart: 0,\n  fontWeight: 0,\n  lineClamp: 0,\n  lineHeight: 0,\n  opacity: 0,\n  order: 0,\n  orphans: 0,\n  tabSize: 0,\n  widows: 0,\n  zIndex: 0,\n  zoom: 0,\n  // SVG-related properties\n  fillOpacity: 0,\n  floodOpacity: 0,\n  stopOpacity: 0,\n  strokeDasharray: 0,\n  strokeDashoffset: 0,\n  strokeMiterlimit: 0,\n  strokeOpacity: 0,\n  strokeWidth: 0,\n};\n\n/**\n * @param prefix vendor-specific prefix, eg: Webkit\n * @param key style name, eg: transitionDuration\n * @return style name prefixed with `prefix`, properly camelCased, eg:\n * WebkitTransitionDuration\n */\nfunction prefixKey(prefix, key) {\n  return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n}\n\n/**\n * Support style names that may come passed in prefixed by adding permutations\n * of vendor prefixes.\n */\nconst prefixes = [\"Webkit\", \"ms\", \"Moz\", \"O\"];\n// Using Object.keys here, or else the vanilla for-in loop makes IE8 go into an\n// infinite loop, because it iterates over the newly added props too.\nkeys(isUnitlessNumber).forEach((prop) => {\n  prefixes.forEach((prefix) => {\n    isUnitlessNumber[prefixKey(prefix, prop)] = 0; // isUnitlessNumber[prop]\n  });\n});\n\nconst jsxDomType = Symbol.for(\"jsx-dom:type\");\nvar JsxDomType = /*#__PURE__*/ (function (JsxDomType) {\n  JsxDomType[\"ShadowRoot\"] = \"ShadowRoot\";\n  return JsxDomType;\n})(JsxDomType || {});\nfunction ShadowRoot(_ref) {\n  let { children, ref, ...attr } = _ref;\n  return {\n    [jsxDomType]: JsxDomType.ShadowRoot,\n    ref,\n    attr,\n    children,\n  };\n}\nfunction isShadowRoot(el) {\n  return el != null && el[jsxDomType] === JsxDomType.ShadowRoot;\n}\n\nconst SVGNamespace = \"http://www.w3.org/2000/svg\";\nconst XLinkNamespace = \"http://www.w3.org/1999/xlink\";\nconst XMLNamespace = \"http://www.w3.org/XML/1998/namespace\";\n\n// https://facebook.github.io/react/docs/jsx-in-depth.html#booleans-null-and-undefined-are-ignored\n// Emulate JSX Expression logic to ignore certain type of children or className.\nfunction isVisibleChild(value) {\n  return !isBoolean(value) && value != null;\n}\n\n/**\n * Convert a `value` to a className string.\n * `value` can be a string, an array or a `Dictionary<boolean>`.\n */\nfunction className(value) {\n  if (Array.isArray(value)) {\n    return value.map(className).filter(Boolean).join(\" \");\n  } else if (isObject(value)) {\n    if (Symbol.iterator in value) {\n      return className(Array.from(value));\n    }\n    return keys(value)\n      .filter((k) => value[k])\n      .join(\" \");\n  } else if (isVisibleChild(value)) {\n    return \"\" + value;\n  } else {\n    return \"\";\n  }\n}\nconst svg = {\n  animate: 0,\n  circle: 0,\n  clipPath: 0,\n  defs: 0,\n  desc: 0,\n  ellipse: 0,\n  feBlend: 0,\n  feColorMatrix: 0,\n  feComponentTransfer: 0,\n  feComposite: 0,\n  feConvolveMatrix: 0,\n  feDiffuseLighting: 0,\n  feDisplacementMap: 0,\n  feDistantLight: 0,\n  feFlood: 0,\n  feFuncA: 0,\n  feFuncB: 0,\n  feFuncG: 0,\n  feFuncR: 0,\n  feGaussianBlur: 0,\n  feImage: 0,\n  feMerge: 0,\n  feMergeNode: 0,\n  feMorphology: 0,\n  feOffset: 0,\n  fePointLight: 0,\n  feSpecularLighting: 0,\n  feSpotLight: 0,\n  feTile: 0,\n  feTurbulence: 0,\n  filter: 0,\n  foreignObject: 0,\n  g: 0,\n  image: 0,\n  line: 0,\n  linearGradient: 0,\n  marker: 0,\n  mask: 0,\n  metadata: 0,\n  path: 0,\n  pattern: 0,\n  polygon: 0,\n  polyline: 0,\n  radialGradient: 0,\n  rect: 0,\n  stop: 0,\n  svg: 0,\n  switch: 0,\n  symbol: 0,\n  text: 0,\n  textPath: 0,\n  tspan: 0,\n  use: 0,\n  view: 0,\n};\nconst nonPresentationSVGAttributes =\n  /^(a(ll|t|u)|base[FP]|c(al|lipPathU|on)|di|ed|ex|filter[RU]|g(lyphR|r)|ke|l(en|im)|ma(rker[HUW]|s)|n|pat|pr|point[^e]|re[^n]|s[puy]|st[^or]|ta|textL|vi|xC|y|z)/;\nfunction createFactory(tag) {\n  return createElement.bind(null, tag);\n}\nfunction Fragment(attr) {\n  const fragment = document.createDocumentFragment();\n  appendChild(attr.children, fragment);\n  return fragment;\n}\nclass Component {\n  static isComponent = true;\n  constructor(props) {\n    this.props = props;\n  }\n  render() {\n    return null;\n  }\n}\nfunction initComponentClass(Class, attr, children) {\n  attr = {\n    ...attr,\n    children,\n  };\n  const instance = new Class(attr);\n  const node = instance.render();\n  if (\"ref\" in attr) {\n    attachRef(attr.ref, instance);\n  }\n  return node;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction jsx(tag, _ref) {\n  let { children, ...attr } = _ref;\n  if (!attr.namespaceURI && svg[tag] === 0) {\n    attr = {\n      ...attr,\n      namespaceURI: SVGNamespace,\n    };\n  }\n  let node;\n  if (isString(tag)) {\n    node = attr.namespaceURI\n      ? document.createElementNS(attr.namespaceURI, tag)\n      : document.createElement(tag);\n    attributes(attr, node);\n    appendChild(children, node);\n\n    // Select `option` elements in `select`\n    if (node instanceof window.HTMLSelectElement && attr.value != null) {\n      if (attr.multiple === true && Array.isArray(attr.value)) {\n        const values = attr.value.map((value) => String(value));\n        node\n          .querySelectorAll(\"option\")\n          .forEach(\n            (option) => (option.selected = values.includes(option.value)),\n          );\n      } else {\n        node.value = attr.value;\n      }\n    }\n    attachRef(attr.ref, node);\n  } else if (isFunction(tag)) {\n    // Custom elements.\n    if (isObject(tag.defaultProps)) {\n      attr = {\n        ...tag.defaultProps,\n        ...attr,\n      };\n    }\n    node = isComponentClass(tag)\n      ? initComponentClass(tag, attr, children)\n      : tag({\n          ...attr,\n          children,\n        });\n  } else {\n    throw new TypeError(`Invalid JSX element type: ${tag}`);\n  }\n  return node;\n}\nfunction createElement(tag, attr) {\n  for (\n    var _len = arguments.length,\n      children = new Array(_len > 2 ? _len - 2 : 0),\n      _key2 = 2;\n    _key2 < _len;\n    _key2++\n  ) {\n    children[_key2 - 2] = arguments[_key2];\n  }\n  if (isString(attr) || Array.isArray(attr)) {\n    children.unshift(attr);\n    attr = {};\n  }\n  attr = attr || {};\n  if (attr.children != null && !children.length) {\n    ({ children, ...attr } = attr);\n  }\n  return jsx(\n    tag,\n    {\n      ...attr,\n      children,\n    },\n    attr.key,\n  );\n}\nfunction attachRef(ref, node) {\n  if (isRef(ref)) {\n    ref.current = node;\n  } else if (isFunction(ref)) {\n    ref(node);\n  }\n}\nfunction appendChild(child, node) {\n  if (isArrayLike(child)) {\n    appendChildren(child, node);\n  } else if (isString(child) || isNumber(child)) {\n    appendChildToNode(document.createTextNode(child), node);\n  } else if (child === null) {\n    appendChildToNode(document.createComment(\"\"), node);\n  } else if (isElement(child)) {\n    appendChildToNode(child, node);\n  } else if (isShadowRoot(child)) {\n    const shadowRoot = node.attachShadow(child.attr);\n    appendChild(child.children, shadowRoot);\n    attachRef(child.ref, shadowRoot);\n  }\n}\nfunction appendChildren(children, node) {\n  for (const child of [...children]) {\n    appendChild(child, node);\n  }\n  return node;\n}\nfunction appendChildToNode(child, node) {\n  if (node instanceof window.HTMLTemplateElement) {\n    node.content.appendChild(child);\n  } else {\n    node.appendChild(child);\n  }\n}\nfunction normalizeAttribute(s, separator) {\n  return s.replace(/[A-Z]/g, (match) => separator + match.toLowerCase());\n}\nfunction style(node, value) {\n  if (value == null || value === false);\n  else if (Array.isArray(value)) {\n    value.forEach((v) => style(node, v));\n  } else if (isString(value)) {\n    node.setAttribute(\"style\", value);\n  } else if (isObject(value)) {\n    forEach(value, (val, key) => {\n      if (key.indexOf(\"-\") === 0) {\n        // CSS custom properties (variables) start with `-` (e.g. `--my-variable`)\n        // and must be assigned via `setProperty`.\n        node.style.setProperty(key, val);\n      } else if (isNumber(val) && isUnitlessNumber[key] !== 0) {\n        node.style[key] = val + \"px\";\n      } else {\n        node.style[key] = val;\n      }\n    });\n  }\n}\nfunction attribute(key, value, node) {\n  switch (key) {\n    case \"xlinkActuate\":\n    case \"xlinkArcrole\":\n    case \"xlinkHref\":\n    case \"xlinkRole\":\n    case \"xlinkShow\":\n    case \"xlinkTitle\":\n    case \"xlinkType\":\n      attrNS(node, XLinkNamespace, normalizeAttribute(key, \":\"), value);\n      return;\n    case \"xmlnsXlink\":\n      attr(node, normalizeAttribute(key, \":\"), value);\n      return;\n    case \"xmlBase\":\n    case \"xmlLang\":\n    case \"xmlSpace\":\n      attrNS(node, XMLNamespace, normalizeAttribute(key, \":\"), value);\n      return;\n  }\n  switch (key) {\n    case \"htmlFor\":\n      attr(node, \"for\", value);\n      return;\n    case \"dataset\":\n      forEach(value, (dataValue, dataKey) => {\n        if (dataValue != null) {\n          node.dataset[dataKey] = dataValue;\n        }\n      });\n      return;\n    case \"innerHTML\":\n    case \"innerText\":\n    case \"textContent\":\n      if (isVisibleChild(value)) {\n        node[key] = value;\n      }\n      return;\n    case \"dangerouslySetInnerHTML\":\n      if (isObject(value)) {\n        node.innerHTML = value[\"__html\"];\n      }\n      return;\n    case \"value\":\n      if (value == null || node instanceof window.HTMLSelectElement) {\n        // skip nullish values\n        // for `<select>` apply value after appending `<option>` elements\n        return;\n      } else if (node instanceof window.HTMLTextAreaElement) {\n        node.value = value;\n        return;\n      }\n      // use attribute for other elements\n      break;\n    case \"spellCheck\":\n      node.spellcheck = value;\n      return;\n    case \"class\":\n    case \"className\":\n      if (isFunction(value)) {\n        value(node);\n      } else {\n        attr(node, \"class\", className(value));\n      }\n      return;\n    case \"ref\":\n    case \"namespaceURI\":\n      return;\n    case \"style\":\n      style(node, value);\n      return;\n    case \"on\":\n    case \"onCapture\":\n      forEach(value, (eventHandler, eventName) => {\n        node.addEventListener(eventName, eventHandler, key === \"onCapture\");\n      });\n      return;\n    // fallthrough\n  }\n  if (isFunction(value)) {\n    if (key[0] === \"o\" && key[1] === \"n\") {\n      let attribute = key.toLowerCase();\n      const useCapture = attribute.endsWith(\"capture\");\n      if (attribute === \"ondoubleclick\") {\n        attribute = \"ondblclick\";\n      } else if (useCapture && attribute === \"ondoubleclickcapture\") {\n        attribute = \"ondblclickcapture\";\n      }\n      if (!useCapture && node[attribute] === null) {\n        // use property when possible PR #17\n        node[attribute] = value;\n      } else if (useCapture) {\n        node.addEventListener(\n          attribute.substring(2, attribute.length - 7),\n          value,\n          true,\n        );\n      } else {\n        let eventName;\n        if (attribute in window) {\n          // standard event\n          // the JSX attribute could have been \"onMouseOver\" and the\n          // member name \"onmouseover\" is on the window's prototype\n          // so let's add the listener \"mouseover\", which is all lowercased\n          const standardEventName = attribute.substring(2);\n          eventName = standardEventName;\n        } else {\n          // custom event\n          // the JSX attribute could have been \"onMyCustomEvent\"\n          // so let's trim off the \"on\" prefix and lowercase the first character\n          // and add the listener \"myCustomEvent\"\n          // except for the first character, we keep the event name case\n          const customEventName = attribute[2] + key.slice(3);\n          eventName = customEventName;\n        }\n        node.addEventListener(eventName, value);\n      }\n    }\n  } else if (isObject(value)) {\n    node[key] = value;\n  } else if (value === true) {\n    attr(node, key, \"\");\n  } else if (value !== false && value != null) {\n    if (node instanceof SVGElement && !nonPresentationSVGAttributes.test(key)) {\n      attr(node, normalizeAttribute(key, \"-\"), value);\n    } else {\n      attr(node, key, value);\n    }\n  }\n}\nfunction attr(node, key, value) {\n  node.setAttribute(key, value);\n}\nfunction attrNS(node, namespace, key, value) {\n  node.setAttributeNS(namespace, key, value);\n}\nfunction attributes(attr, node) {\n  for (const key of keys(attr)) {\n    attribute(key, attr[key], node);\n  }\n  return node;\n}\n\nfunction useText(initialValue) {\n  const text = new Text();\n  Object.defineProperty(text, \"toString\", {\n    value() {\n      return this.textContent;\n    },\n  });\n  function setText(value) {\n    text.textContent = value;\n  }\n  if (initialValue != null) {\n    setText(initialValue);\n  }\n  return [text, setText];\n}\nfunction useClassList(initialValue) {\n  const div = document.createElement(\"div\");\n  if (initialValue != null) {\n    div.className = className(initialValue);\n  }\n  let list = div.classList;\n  function ClassList(value) {\n    value.setAttribute(\"class\", list.value);\n    list = value.classList;\n  }\n  Object.defineProperties(\n    ClassList,\n    Object.getOwnPropertyDescriptors({\n      get size() {\n        return list.length;\n      },\n      get value() {\n        return list.value;\n      },\n      add() {\n        list.add(...arguments);\n      },\n      remove() {\n        list.remove(...arguments);\n      },\n      toggle(token, force) {\n        list.toggle(token, force);\n      },\n      contains(token) {\n        return list.contains(token);\n      },\n    }),\n  );\n  return ClassList;\n}\n\nfunction useMemo(factory) {\n  return factory();\n}\nfunction forwardRef(render) {\n  return (_ref) => {\n    let { ref, ...props } = _ref;\n    return render(props, ref ?? createRef());\n  };\n}\nfunction useImperativeHandle(ref, init) {\n  attachRef(ref, init());\n}\n\nconst cache = /* @__PURE__ */ new Map();\nconst createStyledComponent = (name) =>\n  function (list) {\n    for (\n      var _len = arguments.length,\n        interpolations = new Array(_len > 1 ? _len - 1 : 0),\n        _key = 1;\n      _key < _len;\n      _key++\n    ) {\n      interpolations[_key - 1] = arguments[_key];\n    }\n    return (_ref) => {\n      let { style, ...props } = _ref;\n      const lastIndex = list.length - 1;\n      const css =\n        list.slice(0, lastIndex).reduce((p, s, i) => {\n          const interpolation = interpolations[i];\n          const current =\n            typeof interpolation === \"function\"\n              ? interpolation(props)\n              : interpolation;\n          return p + s + current;\n        }, \"\") + list[lastIndex];\n      return createElement(name, {\n        style: [css, style],\n        ...props,\n      });\n    };\n  };\nconst baseStyled = (customComponent) => createStyledComponent(customComponent);\nconst styled = /* @__PURE__ */ new Proxy(baseStyled, {\n  get(_, name) {\n    return setIfAbsent(cache, name, () => createStyledComponent(name));\n  },\n});\nfunction setIfAbsent(map, key, getValue) {\n  if (map.has(key)) {\n    return map.get(key);\n  } else {\n    const value = getValue(key);\n    map.set(key, value);\n    return value;\n  }\n}\n\nvar index = {\n  Component,\n  PureComponent: Component,\n  createElement,\n  Fragment,\n  ShadowRoot,\n};\nfunction preventDefault(event) {\n  event.preventDefault();\n  return event;\n}\nfunction stopPropagation(event) {\n  event.stopPropagation();\n  return event;\n}\n\nexport {\n  Component,\n  Fragment,\n  Component as PureComponent,\n  SVGNamespace,\n  ShadowRoot,\n  Fragment as StrictMode,\n  className,\n  createElement,\n  createFactory,\n  createRef,\n  index as default,\n  forwardRef,\n  createElement as h,\n  isRef,\n  jsx,\n  jsx as jsxs,\n  identity as memo,\n  preventDefault,\n  stopPropagation,\n  styled,\n  identity as useCallback,\n  useClassList,\n  useImperativeHandle,\n  useMemo,\n  createRef as useRef,\n  useText,\n};\n","import { t } from \"../i18n\";\n\nexport class DebugHeaderBar {\n    private headerElement: HTMLElement;\n\n    constructor(siteName: string) {\n        this.headerElement = document.querySelector(\n            \".drafter-header--\"\n        ) as HTMLElement;\n\n        if (!this.headerElement) {\n            throw new Error(\"Header element not found\");\n        }\n\n        const content = this.createHeaderBar();\n        this.headerElement.appendChild(content);\n    }\n\n    private createHeaderBar() {\n        const title = <span>{t(\"app.title\")}</span>;\n        const hotButtons = this.createHotButtons();\n        return (\n            <div className=\"drafter-header-bar\">\n                {title}\n                {hotButtons}\n            </div>\n        );\n    }\n\n    private createHotButtons() {\n        return (\n            <div className=\"drafter-header-hot-buttons\">\n                <button title={t(\"button.home\")} class=\"drafter-home-button\">\n                    {t(\"icon.home\")}\n                </button>\n                <button title={t(\"button.reset\")} class=\"drafter-reset-button\">\n                    {t(\"icon.reset\")}\n                </button>\n                <button title={t(\"button.about\")} class=\"drafter-about-button\">\n                    {t(\"icon.about\")}\n                </button>\n                <button title={t(\"button.save\")} class=\"drafter-save-button\">\n                    {t(\"icon.save\")}\n                </button>\n                <button title={t(\"button.load\")} class=\"drafter-load-button\">\n                    {t(\"icon.load\")}\n                </button>\n                <button\n                    title={t(\"button.download\")}\n                    class=\"drafter-download-button\"\n                >\n                    {t(\"icon.download\")}\n                </button>\n                <button\n                    title={t(\"button.toggle\")}\n                    class=\"drafter-toggle-button\"\n                >\n                    {t(\"icon.toggle\")}\n                </button>\n                <button title={t(\"button.close\")} class=\"drafter-close-button\">\n                    {t(\"icon.close\")}\n                </button>\n            </div>\n        );\n    }\n\n    public setTitle(title: string) {\n        this.headerElement.innerHTML = `<span>${title}</span>`;\n    }\n}\n","import { t } from \"../i18n\";\n\nexport class DebugFooterBar {\n    private footerElement: HTMLElement;\n    private routeElement: HTMLElement;\n\n    constructor() {\n        this.footerElement = document.querySelector(\n            \".drafter-footer--\"\n        ) as HTMLElement;\n\n        if (!this.footerElement) {\n            throw new Error(\"Footer element not found\");\n        }\n\n        const content = this.createFooterBar();\n        this.footerElement.appendChild(content);\n        this.routeElement = this.footerElement.querySelector(\n            \".drafter-footer-route\"\n        ) as HTMLElement;\n    }\n\n    private createFooterBar() {\n        return (\n            <div className=\"drafter-footer-bar\">\n                <span>{t(\"footer.route\")}</span>\n                <span className=\"drafter-footer-route\"></span>\n            </div>\n        );\n    }\n\n    public setRoute(route: string) {\n        this.routeElement.textContent = route;\n    }\n}\n",null,null,null,"function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var _options$timeout;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    var self = this;\n    function done(value) {\n      value = self.postProcess(value, options);\n      if (callback) {\n        setTimeout(function () {\n          callback(value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    }\n\n    // Allow subclasses to massage the input prior to running\n    oldString = this.castInput(oldString, options);\n    newString = this.castInput(newString, options);\n    oldString = this.removeEmpty(this.tokenize(oldString, options));\n    newString = this.removeEmpty(this.tokenize(newString, options));\n    var newLen = newString.length,\n      oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    if (options.maxEditLength != null) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n    var maxExecutionTime = (_options$timeout = options.timeout) !== null && _options$timeout !== void 0 ? _options$timeout : Infinity;\n    var abortAfterTimestamp = Date.now() + maxExecutionTime;\n    var bestPath = [{\n      oldPos: -1,\n      lastComponent: undefined\n    }];\n\n    // Seed editLength = 0, i.e. the content starts with the same values\n    var newPos = this.extractCommon(bestPath[0], newString, oldString, 0, options);\n    if (bestPath[0].oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n      // Identity per the equality and tokenizer\n      return done(buildValues(self, bestPath[0].lastComponent, newString, oldString, self.useLongestToken));\n    }\n\n    // Once we hit the right edge of the edit graph on some diagonal k, we can\n    // definitely reach the end of the edit graph in no more than k edits, so\n    // there's no point in considering any moves to diagonal k+1 any more (from\n    // which we're guaranteed to need at least k+1 more edits).\n    // Similarly, once we've reached the bottom of the edit graph, there's no\n    // point considering moves to lower diagonals.\n    // We record this fact by setting minDiagonalToConsider and\n    // maxDiagonalToConsider to some finite value once we've hit the edge of\n    // the edit graph.\n    // This optimization is not faithful to the original algorithm presented in\n    // Myers's paper, which instead pointlessly extends D-paths off the end of\n    // the edit graph - see page 7 of Myers's paper which notes this point\n    // explicitly and illustrates it with a diagram. This has major performance\n    // implications for some common scenarios. For instance, to compute a diff\n    // where the new text simply appends d characters on the end of the\n    // original text of length n, the true Myers algorithm will take O(n+d^2)\n    // time while this optimization needs only O(n+d) time.\n    var minDiagonalToConsider = -Infinity,\n      maxDiagonalToConsider = Infinity;\n\n    // Main worker method. checks all permutations of a given edit length for acceptance.\n    function execEditLength() {\n      for (var diagonalPath = Math.max(minDiagonalToConsider, -editLength); diagonalPath <= Math.min(maxDiagonalToConsider, editLength); diagonalPath += 2) {\n        var basePath = void 0;\n        var removePath = bestPath[diagonalPath - 1],\n          addPath = bestPath[diagonalPath + 1];\n        if (removePath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n        var canAdd = false;\n        if (addPath) {\n          // what newPos will be after we do an insertion:\n          var addPathNewPos = addPath.oldPos - diagonalPath;\n          canAdd = addPath && 0 <= addPathNewPos && addPathNewPos < newLen;\n        }\n        var canRemove = removePath && removePath.oldPos + 1 < oldLen;\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        }\n\n        // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the old string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        if (!canRemove || canAdd && removePath.oldPos < addPath.oldPos) {\n          basePath = self.addToPath(addPath, true, false, 0, options);\n        } else {\n          basePath = self.addToPath(removePath, false, true, 1, options);\n        }\n        newPos = self.extractCommon(basePath, newString, oldString, diagonalPath, options);\n        if (basePath.oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n          // If we have hit the end of both strings, then we are done\n          return done(buildValues(self, basePath.lastComponent, newString, oldString, self.useLongestToken));\n        } else {\n          bestPath[diagonalPath] = basePath;\n          if (basePath.oldPos + 1 >= oldLen) {\n            maxDiagonalToConsider = Math.min(maxDiagonalToConsider, diagonalPath - 1);\n          }\n          if (newPos + 1 >= newLen) {\n            minDiagonalToConsider = Math.max(minDiagonalToConsider, diagonalPath + 1);\n          }\n        }\n      }\n      editLength++;\n    }\n\n    // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          if (editLength > maxEditLength || Date.now() > abortAfterTimestamp) {\n            return callback();\n          }\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength && Date.now() <= abortAfterTimestamp) {\n        var ret = execEditLength();\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  addToPath: function addToPath(path, added, removed, oldPosInc, options) {\n    var last = path.lastComponent;\n    if (last && !options.oneChangePerToken && last.added === added && last.removed === removed) {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: last.count + 1,\n          added: added,\n          removed: removed,\n          previousComponent: last.previousComponent\n        }\n      };\n    } else {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: 1,\n          added: added,\n          removed: removed,\n          previousComponent: last\n        }\n      };\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath, options) {\n    var newLen = newString.length,\n      oldLen = oldString.length,\n      oldPos = basePath.oldPos,\n      newPos = oldPos - diagonalPath,\n      commonCount = 0;\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(oldString[oldPos + 1], newString[newPos + 1], options)) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n      if (options.oneChangePerToken) {\n        basePath.lastComponent = {\n          count: 1,\n          previousComponent: basePath.lastComponent,\n          added: false,\n          removed: false\n        };\n      }\n    }\n    if (commonCount && !options.oneChangePerToken) {\n      basePath.lastComponent = {\n        count: commonCount,\n        previousComponent: basePath.lastComponent,\n        added: false,\n        removed: false\n      };\n    }\n    basePath.oldPos = oldPos;\n    return newPos;\n  },\n  equals: function equals(left, right, options) {\n    if (options.comparator) {\n      return options.comparator(left, right);\n    } else {\n      return left === right || options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return Array.from(value);\n  },\n  join: function join(chars) {\n    return chars.join('');\n  },\n  postProcess: function postProcess(changeObjects) {\n    return changeObjects;\n  }\n};\nfunction buildValues(diff, lastComponent, newString, oldString, useLongestToken) {\n  // First we convert our linked list of components in reverse order to an\n  // array in the right order:\n  var components = [];\n  var nextComponent;\n  while (lastComponent) {\n    components.push(lastComponent);\n    nextComponent = lastComponent.previousComponent;\n    delete lastComponent.previousComponent;\n    lastComponent = nextComponent;\n  }\n  components.reverse();\n  var componentPos = 0,\n    componentLen = components.length,\n    newPos = 0,\n    oldPos = 0;\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n      newPos += component.count;\n\n      // Common case\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count;\n    }\n  }\n  return components;\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction longestCommonPrefix(str1, str2) {\n  var i;\n  for (i = 0; i < str1.length && i < str2.length; i++) {\n    if (str1[i] != str2[i]) {\n      return str1.slice(0, i);\n    }\n  }\n  return str1.slice(0, i);\n}\nfunction longestCommonSuffix(str1, str2) {\n  var i;\n\n  // Unlike longestCommonPrefix, we need a special case to handle all scenarios\n  // where we return the empty string since str1.slice(-0) will return the\n  // entire string.\n  if (!str1 || !str2 || str1[str1.length - 1] != str2[str2.length - 1]) {\n    return '';\n  }\n  for (i = 0; i < str1.length && i < str2.length; i++) {\n    if (str1[str1.length - (i + 1)] != str2[str2.length - (i + 1)]) {\n      return str1.slice(-i);\n    }\n  }\n  return str1.slice(-i);\n}\nfunction replacePrefix(string, oldPrefix, newPrefix) {\n  if (string.slice(0, oldPrefix.length) != oldPrefix) {\n    throw Error(\"string \".concat(JSON.stringify(string), \" doesn't start with prefix \").concat(JSON.stringify(oldPrefix), \"; this is a bug\"));\n  }\n  return newPrefix + string.slice(oldPrefix.length);\n}\nfunction replaceSuffix(string, oldSuffix, newSuffix) {\n  if (!oldSuffix) {\n    return string + newSuffix;\n  }\n  if (string.slice(-oldSuffix.length) != oldSuffix) {\n    throw Error(\"string \".concat(JSON.stringify(string), \" doesn't end with suffix \").concat(JSON.stringify(oldSuffix), \"; this is a bug\"));\n  }\n  return string.slice(0, -oldSuffix.length) + newSuffix;\n}\nfunction removePrefix(string, oldPrefix) {\n  return replacePrefix(string, oldPrefix, '');\n}\nfunction removeSuffix(string, oldSuffix) {\n  return replaceSuffix(string, oldSuffix, '');\n}\nfunction maximumOverlap(string1, string2) {\n  return string2.slice(0, overlapCount(string1, string2));\n}\n\n// Nicked from https://stackoverflow.com/a/60422853/1709587\nfunction overlapCount(a, b) {\n  // Deal with cases where the strings differ in length\n  var startA = 0;\n  if (a.length > b.length) {\n    startA = a.length - b.length;\n  }\n  var endB = b.length;\n  if (a.length < b.length) {\n    endB = a.length;\n  }\n  // Create a back-reference for each index\n  //   that should be followed in case of a mismatch.\n  //   We only need B to make these references:\n  var map = Array(endB);\n  var k = 0; // Index that lags behind j\n  map[0] = 0;\n  for (var j = 1; j < endB; j++) {\n    if (b[j] == b[k]) {\n      map[j] = map[k]; // skip over the same character (optional optimisation)\n    } else {\n      map[j] = k;\n    }\n    while (k > 0 && b[j] != b[k]) {\n      k = map[k];\n    }\n    if (b[j] == b[k]) {\n      k++;\n    }\n  }\n  // Phase 2: use these references while iterating over A\n  k = 0;\n  for (var i = startA; i < a.length; i++) {\n    while (k > 0 && a[i] != b[k]) {\n      k = map[k];\n    }\n    if (a[i] == b[k]) {\n      k++;\n    }\n  }\n  return k;\n}\n\n/**\n * Returns true if the string consistently uses Windows line endings.\n */\nfunction hasOnlyWinLineEndings(string) {\n  return string.includes('\\r\\n') && !string.startsWith('\\n') && !string.match(/[^\\r]\\n/);\n}\n\n/**\n * Returns true if the string consistently uses Unix line endings.\n */\nfunction hasOnlyUnixLineEndings(string) {\n  return !string.includes('\\r\\n') && string.includes('\\n');\n}\n\n// Based on https://en.wikipedia.org/wiki/Latin_script_in_Unicode\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 008000FF\n//  - U+00D7   Multiplication sign\n//  - U+00F7   Division sign\n// Latin Extended-A, 0100017F\n// Latin Extended-B, 0180024F\n// IPA Extensions, 025002AF\n// Spacing Modifier Letters, 02B002FF\n//  - U+02C7   &#711;  Caron\n//  - U+02D8   &#728;  Breve\n//  - U+02D9   &#729;  Dot Above\n//  - U+02DA   &#730;  Ring Above\n//  - U+02DB   &#731;  Ogonek\n//  - U+02DC   &#732;  Small Tilde\n//  - U+02DD   &#733;  Double Acute Accent\n// Latin Extended Additional, 1E001EFF\nvar extendedWordChars = \"a-zA-Z0-9_\\\\u{C0}-\\\\u{FF}\\\\u{D8}-\\\\u{F6}\\\\u{F8}-\\\\u{2C6}\\\\u{2C8}-\\\\u{2D7}\\\\u{2DE}-\\\\u{2FF}\\\\u{1E00}-\\\\u{1EFF}\";\n\n// Each token is one of the following:\n// - A punctuation mark plus the surrounding whitespace\n// - A word plus the surrounding whitespace\n// - Pure whitespace (but only in the special case where this the entire text\n//   is just whitespace)\n//\n// We have to include surrounding whitespace in the tokens because the two\n// alternative approaches produce horribly broken results:\n// * If we just discard the whitespace, we can't fully reproduce the original\n//   text from the sequence of tokens and any attempt to render the diff will\n//   get the whitespace wrong.\n// * If we have separate tokens for whitespace, then in a typical text every\n//   second token will be a single space character. But this often results in\n//   the optimal diff between two texts being a perverse one that preserves\n//   the spaces between words but deletes and reinserts actual common words.\n//   See https://github.com/kpdecker/jsdiff/issues/160#issuecomment-1866099640\n//   for an example.\n//\n// Keeping the surrounding whitespace of course has implications for .equals\n// and .join, not just .tokenize.\n\n// This regex does NOT fully implement the tokenization rules described above.\n// Instead, it gives runs of whitespace their own \"token\". The tokenize method\n// then handles stitching whitespace tokens onto adjacent word or punctuation\n// tokens.\nvar tokenizeIncludingWhitespace = new RegExp(\"[\".concat(extendedWordChars, \"]+|\\\\s+|[^\").concat(extendedWordChars, \"]\"), 'ug');\nvar wordDiff = new Diff();\nwordDiff.equals = function (left, right, options) {\n  if (options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n  return left.trim() === right.trim();\n};\nwordDiff.tokenize = function (value) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var parts;\n  if (options.intlSegmenter) {\n    if (options.intlSegmenter.resolvedOptions().granularity != 'word') {\n      throw new Error('The segmenter passed must have a granularity of \"word\"');\n    }\n    parts = Array.from(options.intlSegmenter.segment(value), function (segment) {\n      return segment.segment;\n    });\n  } else {\n    parts = value.match(tokenizeIncludingWhitespace) || [];\n  }\n  var tokens = [];\n  var prevPart = null;\n  parts.forEach(function (part) {\n    if (/\\s/.test(part)) {\n      if (prevPart == null) {\n        tokens.push(part);\n      } else {\n        tokens.push(tokens.pop() + part);\n      }\n    } else if (/\\s/.test(prevPart)) {\n      if (tokens[tokens.length - 1] == prevPart) {\n        tokens.push(tokens.pop() + part);\n      } else {\n        tokens.push(prevPart + part);\n      }\n    } else {\n      tokens.push(part);\n    }\n    prevPart = part;\n  });\n  return tokens;\n};\nwordDiff.join = function (tokens) {\n  // Tokens being joined here will always have appeared consecutively in the\n  // same text, so we can simply strip off the leading whitespace from all the\n  // tokens except the first (and except any whitespace-only tokens - but such\n  // a token will always be the first and only token anyway) and then join them\n  // and the whitespace around words and punctuation will end up correct.\n  return tokens.map(function (token, i) {\n    if (i == 0) {\n      return token;\n    } else {\n      return token.replace(/^\\s+/, '');\n    }\n  }).join('');\n};\nwordDiff.postProcess = function (changes, options) {\n  if (!changes || options.oneChangePerToken) {\n    return changes;\n  }\n  var lastKeep = null;\n  // Change objects representing any insertion or deletion since the last\n  // \"keep\" change object. There can be at most one of each.\n  var insertion = null;\n  var deletion = null;\n  changes.forEach(function (change) {\n    if (change.added) {\n      insertion = change;\n    } else if (change.removed) {\n      deletion = change;\n    } else {\n      if (insertion || deletion) {\n        // May be false at start of text\n        dedupeWhitespaceInChangeObjects(lastKeep, deletion, insertion, change);\n      }\n      lastKeep = change;\n      insertion = null;\n      deletion = null;\n    }\n  });\n  if (insertion || deletion) {\n    dedupeWhitespaceInChangeObjects(lastKeep, deletion, insertion, null);\n  }\n  return changes;\n};\nfunction diffWords(oldStr, newStr, options) {\n  // This option has never been documented and never will be (it's clearer to\n  // just call `diffWordsWithSpace` directly if you need that behavior), but\n  // has existed in jsdiff for a long time, so we retain support for it here\n  // for the sake of backwards compatibility.\n  if ((options === null || options === void 0 ? void 0 : options.ignoreWhitespace) != null && !options.ignoreWhitespace) {\n    return diffWordsWithSpace(oldStr, newStr, options);\n  }\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction dedupeWhitespaceInChangeObjects(startKeep, deletion, insertion, endKeep) {\n  // Before returning, we tidy up the leading and trailing whitespace of the\n  // change objects to eliminate cases where trailing whitespace in one object\n  // is repeated as leading whitespace in the next.\n  // Below are examples of the outcomes we want here to explain the code.\n  // I=insert, K=keep, D=delete\n  // 1. diffing 'foo bar baz' vs 'foo baz'\n  //    Prior to cleanup, we have K:'foo ' D:' bar ' K:' baz'\n  //    After cleanup, we want:   K:'foo ' D:'bar ' K:'baz'\n  //\n  // 2. Diffing 'foo bar baz' vs 'foo qux baz'\n  //    Prior to cleanup, we have K:'foo ' D:' bar ' I:' qux ' K:' baz'\n  //    After cleanup, we want K:'foo ' D:'bar' I:'qux' K:' baz'\n  //\n  // 3. Diffing 'foo\\nbar baz' vs 'foo baz'\n  //    Prior to cleanup, we have K:'foo ' D:'\\nbar ' K:' baz'\n  //    After cleanup, we want K'foo' D:'\\nbar' K:' baz'\n  //\n  // 4. Diffing 'foo baz' vs 'foo\\nbar baz'\n  //    Prior to cleanup, we have K:'foo\\n' I:'\\nbar ' K:' baz'\n  //    After cleanup, we ideally want K'foo' I:'\\nbar' K:' baz'\n  //    but don't actually manage this currently (the pre-cleanup change\n  //    objects don't contain enough information to make it possible).\n  //\n  // 5. Diffing 'foo   bar baz' vs 'foo  baz'\n  //    Prior to cleanup, we have K:'foo  ' D:'   bar ' K:'  baz'\n  //    After cleanup, we want K:'foo  ' D:' bar ' K:'baz'\n  //\n  // Our handling is unavoidably imperfect in the case where there's a single\n  // indel between keeps and the whitespace has changed. For instance, consider\n  // diffing 'foo\\tbar\\nbaz' vs 'foo baz'. Unless we create an extra change\n  // object to represent the insertion of the space character (which isn't even\n  // a token), we have no way to avoid losing information about the texts'\n  // original whitespace in the result we return. Still, we do our best to\n  // output something that will look sensible if we e.g. print it with\n  // insertions in green and deletions in red.\n\n  // Between two \"keep\" change objects (or before the first or after the last\n  // change object), we can have either:\n  // * A \"delete\" followed by an \"insert\"\n  // * Just an \"insert\"\n  // * Just a \"delete\"\n  // We handle the three cases separately.\n  if (deletion && insertion) {\n    var oldWsPrefix = deletion.value.match(/^\\s*/)[0];\n    var oldWsSuffix = deletion.value.match(/\\s*$/)[0];\n    var newWsPrefix = insertion.value.match(/^\\s*/)[0];\n    var newWsSuffix = insertion.value.match(/\\s*$/)[0];\n    if (startKeep) {\n      var commonWsPrefix = longestCommonPrefix(oldWsPrefix, newWsPrefix);\n      startKeep.value = replaceSuffix(startKeep.value, newWsPrefix, commonWsPrefix);\n      deletion.value = removePrefix(deletion.value, commonWsPrefix);\n      insertion.value = removePrefix(insertion.value, commonWsPrefix);\n    }\n    if (endKeep) {\n      var commonWsSuffix = longestCommonSuffix(oldWsSuffix, newWsSuffix);\n      endKeep.value = replacePrefix(endKeep.value, newWsSuffix, commonWsSuffix);\n      deletion.value = removeSuffix(deletion.value, commonWsSuffix);\n      insertion.value = removeSuffix(insertion.value, commonWsSuffix);\n    }\n  } else if (insertion) {\n    // The whitespaces all reflect what was in the new text rather than\n    // the old, so we essentially have no information about whitespace\n    // insertion or deletion. We just want to dedupe the whitespace.\n    // We do that by having each change object keep its trailing\n    // whitespace and deleting duplicate leading whitespace where\n    // present.\n    if (startKeep) {\n      insertion.value = insertion.value.replace(/^\\s*/, '');\n    }\n    if (endKeep) {\n      endKeep.value = endKeep.value.replace(/^\\s*/, '');\n    }\n    // otherwise we've got a deletion and no insertion\n  } else if (startKeep && endKeep) {\n    var newWsFull = endKeep.value.match(/^\\s*/)[0],\n      delWsStart = deletion.value.match(/^\\s*/)[0],\n      delWsEnd = deletion.value.match(/\\s*$/)[0];\n\n    // Any whitespace that comes straight after startKeep in both the old and\n    // new texts, assign to startKeep and remove from the deletion.\n    var newWsStart = longestCommonPrefix(newWsFull, delWsStart);\n    deletion.value = removePrefix(deletion.value, newWsStart);\n\n    // Any whitespace that comes straight before endKeep in both the old and\n    // new texts, and hasn't already been assigned to startKeep, assign to\n    // endKeep and remove from the deletion.\n    var newWsEnd = longestCommonSuffix(removePrefix(newWsFull, newWsStart), delWsEnd);\n    deletion.value = removeSuffix(deletion.value, newWsEnd);\n    endKeep.value = replacePrefix(endKeep.value, newWsFull, newWsEnd);\n\n    // If there's any whitespace from the new text that HASN'T already been\n    // assigned, assign it to the start:\n    startKeep.value = replaceSuffix(startKeep.value, newWsFull, newWsFull.slice(0, newWsFull.length - newWsEnd.length));\n  } else if (endKeep) {\n    // We are at the start of the text. Preserve all the whitespace on\n    // endKeep, and just remove whitespace from the end of deletion to the\n    // extent that it overlaps with the start of endKeep.\n    var endKeepWsPrefix = endKeep.value.match(/^\\s*/)[0];\n    var deletionWsSuffix = deletion.value.match(/\\s*$/)[0];\n    var overlap = maximumOverlap(deletionWsSuffix, endKeepWsPrefix);\n    deletion.value = removeSuffix(deletion.value, overlap);\n  } else if (startKeep) {\n    // We are at the END of the text. Preserve all the whitespace on\n    // startKeep, and just remove whitespace from the start of deletion to\n    // the extent that it overlaps with the end of startKeep.\n    var startKeepWsSuffix = startKeep.value.match(/\\s*$/)[0];\n    var deletionWsPrefix = deletion.value.match(/^\\s*/)[0];\n    var _overlap = maximumOverlap(startKeepWsSuffix, deletionWsPrefix);\n    deletion.value = removePrefix(deletion.value, _overlap);\n  }\n}\nvar wordWithSpaceDiff = new Diff();\nwordWithSpaceDiff.tokenize = function (value) {\n  // Slightly different to the tokenizeIncludingWhitespace regex used above in\n  // that this one treats each individual newline as a distinct tokens, rather\n  // than merging them into other surrounding whitespace. This was requested\n  // in https://github.com/kpdecker/jsdiff/issues/180 &\n  //    https://github.com/kpdecker/jsdiff/issues/211\n  var regex = new RegExp(\"(\\\\r?\\\\n)|[\".concat(extendedWordChars, \"]+|[^\\\\S\\\\n\\\\r]+|[^\").concat(extendedWordChars, \"]\"), 'ug');\n  return value.match(regex) || [];\n};\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordWithSpaceDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n  return defaults;\n}\n\nvar lineDiff = new Diff();\nlineDiff.tokenize = function (value, options) {\n  if (options.stripTrailingCr) {\n    // remove one \\r before \\n to match GNU diff's --strip-trailing-cr behavior\n    value = value.replace(/\\r\\n/g, '\\n');\n  }\n  var retLines = [],\n    linesAndNewlines = value.split(/(\\n|\\r\\n)/);\n\n  // Ignore the final empty token that occurs if the string ends with a new line\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  }\n\n  // Merge the content and line separators into single tokens\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n    if (i % 2 && !options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      retLines.push(line);\n    }\n  }\n  return retLines;\n};\nlineDiff.equals = function (left, right, options) {\n  // If we're ignoring whitespace, we need to normalise lines by stripping\n  // whitespace before checking equality. (This has an annoying interaction\n  // with newlineIsToken that requires special handling: if newlines get their\n  // own token, then we DON'T want to trim the *newline* tokens down to empty\n  // strings, since this would cause us to treat whitespace-only line content\n  // as equal to a separator between lines, which would be weird and\n  // inconsistent with the documented behavior of the options.)\n  if (options.ignoreWhitespace) {\n    if (!options.newlineIsToken || !left.includes('\\n')) {\n      left = left.trim();\n    }\n    if (!options.newlineIsToken || !right.includes('\\n')) {\n      right = right.trim();\n    }\n  } else if (options.ignoreNewlineAtEof && !options.newlineIsToken) {\n    if (left.endsWith('\\n')) {\n      left = left.slice(0, -1);\n    }\n    if (right.endsWith('\\n')) {\n      right = right.slice(0, -1);\n    }\n  }\n  return Diff.prototype.equals.call(this, left, right, options);\n};\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\n\n// Kept for backwards compatibility. This is a rather arbitrary wrapper method\n// that just calls `diffLines` with `ignoreWhitespace: true`. It's confusing to\n// have two ways to do exactly the same thing in the API, so we no longer\n// document this one (library users should explicitly use `diffLines` with\n// `ignoreWhitespace: true` instead) but we keep it around to maintain\n// compatibility with code that used old versions.\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar jsonDiff = new Diff();\n// Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\njsonDiff.castInput = function (value, options) {\n  var undefinedReplacement = options.undefinedReplacement,\n    _options$stringifyRep = options.stringifyReplacer,\n    stringifyReplacer = _options$stringifyRep === void 0 ? function (k, v) {\n      return typeof v === 'undefined' ? undefinedReplacement : v;\n    } : _options$stringifyRep;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\njsonDiff.equals = function (left, right, options) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'), options);\n};\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n}\n\n// This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n  var i;\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n  var canonicalizedObj;\n  if ('[object Array]' === Object.prototype.toString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n    var sortedKeys = [],\n      _key;\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (Object.prototype.hasOwnProperty.call(obj, _key)) {\n        sortedKeys.push(_key);\n      }\n    }\n    sortedKeys.sort();\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction unixToWin(patch) {\n  if (Array.isArray(patch)) {\n    return patch.map(unixToWin);\n  }\n  return _objectSpread2(_objectSpread2({}, patch), {}, {\n    hunks: patch.hunks.map(function (hunk) {\n      return _objectSpread2(_objectSpread2({}, hunk), {}, {\n        lines: hunk.lines.map(function (line, i) {\n          var _hunk$lines;\n          return line.startsWith('\\\\') || line.endsWith('\\r') || (_hunk$lines = hunk.lines[i + 1]) !== null && _hunk$lines !== void 0 && _hunk$lines.startsWith('\\\\') ? line : line + '\\r';\n        })\n      });\n    })\n  });\n}\nfunction winToUnix(patch) {\n  if (Array.isArray(patch)) {\n    return patch.map(winToUnix);\n  }\n  return _objectSpread2(_objectSpread2({}, patch), {}, {\n    hunks: patch.hunks.map(function (hunk) {\n      return _objectSpread2(_objectSpread2({}, hunk), {}, {\n        lines: hunk.lines.map(function (line) {\n          return line.endsWith('\\r') ? line.substring(0, line.length - 1) : line;\n        })\n      });\n    })\n  });\n}\n\n/**\n * Returns true if the patch consistently uses Unix line endings (or only involves one line and has\n * no line endings).\n */\nfunction isUnix(patch) {\n  if (!Array.isArray(patch)) {\n    patch = [patch];\n  }\n  return !patch.some(function (index) {\n    return index.hunks.some(function (hunk) {\n      return hunk.lines.some(function (line) {\n        return !line.startsWith('\\\\') && line.endsWith('\\r');\n      });\n    });\n  });\n}\n\n/**\n * Returns true if the patch uses Windows line endings and only Windows line endings.\n */\nfunction isWin(patch) {\n  if (!Array.isArray(patch)) {\n    patch = [patch];\n  }\n  return patch.some(function (index) {\n    return index.hunks.some(function (hunk) {\n      return hunk.lines.some(function (line) {\n        return line.endsWith('\\r');\n      });\n    });\n  }) && patch.every(function (index) {\n    return index.hunks.every(function (hunk) {\n      return hunk.lines.every(function (line, i) {\n        var _hunk$lines2;\n        return line.startsWith('\\\\') || line.endsWith('\\r') || ((_hunk$lines2 = hunk.lines[i + 1]) === null || _hunk$lines2 === void 0 ? void 0 : _hunk$lines2.startsWith('\\\\'));\n      });\n    });\n  });\n}\n\nfunction parsePatch(uniDiff) {\n  var diffstr = uniDiff.split(/\\n/),\n    list = [],\n    i = 0;\n  function parseIndex() {\n    var index = {};\n    list.push(index);\n\n    // Parse diff metadata\n    while (i < diffstr.length) {\n      var line = diffstr[i];\n\n      // File header found, end parsing diff metadata\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      }\n\n      // Diff index\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n      if (header) {\n        index.index = header[1];\n      }\n      i++;\n    }\n\n    // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n    parseFileHeader(index);\n    parseFileHeader(index);\n\n    // Parse hunks\n    index.hunks = [];\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n      if (/^(Index:\\s|diff\\s|\\-\\-\\-\\s|\\+\\+\\+\\s|===================================================================)/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line) {\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  }\n\n  // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)\\r?$/.exec(diffstr[i]);\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  }\n\n  // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n      chunkHeaderLine = diffstr[i++],\n      chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: []\n    };\n\n    // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n    var addCount = 0,\n      removeCount = 0;\n    for (; i < diffstr.length && (removeCount < hunk.oldLines || addCount < hunk.newLines || (_diffstr$i = diffstr[i]) !== null && _diffstr$i !== void 0 && _diffstr$i.startsWith('\\\\')); i++) {\n      var _diffstr$i;\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        throw new Error(\"Hunk at line \".concat(chunkHeaderIndex + 1, \" contained invalid line \").concat(diffstr[i]));\n      }\n    }\n\n    // Handle the empty block count case\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    }\n\n    // Perform sanity checking\n    if (addCount !== hunk.newLines) {\n      throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n    }\n    if (removeCount !== hunk.oldLines) {\n      throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n    }\n    return hunk;\n  }\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n    backwardExhausted = false,\n    forwardExhausted = false,\n    localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      }\n\n      // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n      if (start + localOffset <= maxLine) {\n        return start + localOffset;\n      }\n      forwardExhausted = true;\n    }\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      }\n\n      // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n      if (minLine <= start - localOffset) {\n        return start - localOffset++;\n      }\n      backwardExhausted = true;\n      return iterator();\n    }\n\n    // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n    uniDiff = uniDiff[0];\n  }\n  if (options.autoConvertLineEndings || options.autoConvertLineEndings == null) {\n    if (hasOnlyWinLineEndings(source) && isUnix(uniDiff)) {\n      uniDiff = unixToWin(uniDiff);\n    } else if (hasOnlyUnixLineEndings(source) && isWin(uniDiff)) {\n      uniDiff = winToUnix(uniDiff);\n    }\n  }\n\n  // Apply the diff to the input\n  var lines = source.split('\\n'),\n    hunks = uniDiff.hunks,\n    compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n      return line === patchContent;\n    },\n    fuzzFactor = options.fuzzFactor || 0,\n    minLine = 0;\n  if (fuzzFactor < 0 || !Number.isInteger(fuzzFactor)) {\n    throw new Error('fuzzFactor must be a non-negative integer');\n  }\n\n  // Special case for empty patch.\n  if (!hunks.length) {\n    return source;\n  }\n\n  // Before anything else, handle EOFNL insertion/removal. If the patch tells us to make a change\n  // to the EOFNL that is redundant/impossible - i.e. to remove a newline that's not there, or add a\n  // newline that already exists - then we either return false and fail to apply the patch (if\n  // fuzzFactor is 0) or simply ignore the problem and do nothing (if fuzzFactor is >0).\n  // If we do need to remove/add a newline at EOF, this will always be in the final hunk:\n  var prevLine = '',\n    removeEOFNL = false,\n    addEOFNL = false;\n  for (var i = 0; i < hunks[hunks.length - 1].lines.length; i++) {\n    var line = hunks[hunks.length - 1].lines[i];\n    if (line[0] == '\\\\') {\n      if (prevLine[0] == '+') {\n        removeEOFNL = true;\n      } else if (prevLine[0] == '-') {\n        addEOFNL = true;\n      }\n    }\n    prevLine = line;\n  }\n  if (removeEOFNL) {\n    if (addEOFNL) {\n      // This means the final line gets changed but doesn't have a trailing newline in either the\n      // original or patched version. In that case, we do nothing if fuzzFactor > 0, and if\n      // fuzzFactor is 0, we simply validate that the source file has no trailing newline.\n      if (!fuzzFactor && lines[lines.length - 1] == '') {\n        return false;\n      }\n    } else if (lines[lines.length - 1] == '') {\n      lines.pop();\n    } else if (!fuzzFactor) {\n      return false;\n    }\n  } else if (addEOFNL) {\n    if (lines[lines.length - 1] != '') {\n      lines.push('');\n    } else if (!fuzzFactor) {\n      return false;\n    }\n  }\n\n  /**\n   * Checks if the hunk can be made to fit at the provided location with at most `maxErrors`\n   * insertions, substitutions, or deletions, while ensuring also that:\n   * - lines deleted in the hunk match exactly, and\n   * - wherever an insertion operation or block of insertion operations appears in the hunk, the\n   *   immediately preceding and following lines of context match exactly\n   *\n   * `toPos` should be set such that lines[toPos] is meant to match hunkLines[0].\n   *\n   * If the hunk can be applied, returns an object with properties `oldLineLastI` and\n   * `replacementLines`. Otherwise, returns null.\n   */\n  function applyHunk(hunkLines, toPos, maxErrors) {\n    var hunkLinesI = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    var lastContextLineMatched = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var patchedLines = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n    var patchedLinesLength = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    var nConsecutiveOldContextLines = 0;\n    var nextContextLineMustMatch = false;\n    for (; hunkLinesI < hunkLines.length; hunkLinesI++) {\n      var hunkLine = hunkLines[hunkLinesI],\n        operation = hunkLine.length > 0 ? hunkLine[0] : ' ',\n        content = hunkLine.length > 0 ? hunkLine.substr(1) : hunkLine;\n      if (operation === '-') {\n        if (compareLine(toPos + 1, lines[toPos], operation, content)) {\n          toPos++;\n          nConsecutiveOldContextLines = 0;\n        } else {\n          if (!maxErrors || lines[toPos] == null) {\n            return null;\n          }\n          patchedLines[patchedLinesLength] = lines[toPos];\n          return applyHunk(hunkLines, toPos + 1, maxErrors - 1, hunkLinesI, false, patchedLines, patchedLinesLength + 1);\n        }\n      }\n      if (operation === '+') {\n        if (!lastContextLineMatched) {\n          return null;\n        }\n        patchedLines[patchedLinesLength] = content;\n        patchedLinesLength++;\n        nConsecutiveOldContextLines = 0;\n        nextContextLineMustMatch = true;\n      }\n      if (operation === ' ') {\n        nConsecutiveOldContextLines++;\n        patchedLines[patchedLinesLength] = lines[toPos];\n        if (compareLine(toPos + 1, lines[toPos], operation, content)) {\n          patchedLinesLength++;\n          lastContextLineMatched = true;\n          nextContextLineMustMatch = false;\n          toPos++;\n        } else {\n          if (nextContextLineMustMatch || !maxErrors) {\n            return null;\n          }\n\n          // Consider 3 possibilities in sequence:\n          // 1. lines contains a *substitution* not included in the patch context, or\n          // 2. lines contains an *insertion* not included in the patch context, or\n          // 3. lines contains a *deletion* not included in the patch context\n          // The first two options are of course only possible if the line from lines is non-null -\n          // i.e. only option 3 is possible if we've overrun the end of the old file.\n          return lines[toPos] && (applyHunk(hunkLines, toPos + 1, maxErrors - 1, hunkLinesI + 1, false, patchedLines, patchedLinesLength + 1) || applyHunk(hunkLines, toPos + 1, maxErrors - 1, hunkLinesI, false, patchedLines, patchedLinesLength + 1)) || applyHunk(hunkLines, toPos, maxErrors - 1, hunkLinesI + 1, false, patchedLines, patchedLinesLength);\n        }\n      }\n    }\n\n    // Before returning, trim any unmodified context lines off the end of patchedLines and reduce\n    // toPos (and thus oldLineLastI) accordingly. This allows later hunks to be applied to a region\n    // that starts in this hunk's trailing context.\n    patchedLinesLength -= nConsecutiveOldContextLines;\n    toPos -= nConsecutiveOldContextLines;\n    patchedLines.length = patchedLinesLength;\n    return {\n      patchedLines: patchedLines,\n      oldLineLastI: toPos - 1\n    };\n  }\n  var resultLines = [];\n\n  // Search best fit offsets for each hunk based on the previous ones\n  var prevHunkOffset = 0;\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var hunk = hunks[_i];\n    var hunkResult = void 0;\n    var maxLine = lines.length - hunk.oldLines + fuzzFactor;\n    var toPos = void 0;\n    for (var maxErrors = 0; maxErrors <= fuzzFactor; maxErrors++) {\n      toPos = hunk.oldStart + prevHunkOffset - 1;\n      var iterator = distanceIterator(toPos, minLine, maxLine);\n      for (; toPos !== undefined; toPos = iterator()) {\n        hunkResult = applyHunk(hunk.lines, toPos, maxErrors);\n        if (hunkResult) {\n          break;\n        }\n      }\n      if (hunkResult) {\n        break;\n      }\n    }\n    if (!hunkResult) {\n      return false;\n    }\n\n    // Copy everything from the end of where we applied the last hunk to the start of this hunk\n    for (var _i2 = minLine; _i2 < toPos; _i2++) {\n      resultLines.push(lines[_i2]);\n    }\n\n    // Add the lines produced by applying the hunk:\n    for (var _i3 = 0; _i3 < hunkResult.patchedLines.length; _i3++) {\n      var _line = hunkResult.patchedLines[_i3];\n      resultLines.push(_line);\n    }\n\n    // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n    minLine = hunkResult.oldLineLastI + 1;\n\n    // Note the offset between where the patch said the hunk should've applied and where we\n    // applied it, so we can adjust future hunks accordingly:\n    prevHunkOffset = toPos + 1 - hunk.oldStart;\n  }\n\n  // Copy over the rest of the lines from the old text\n  for (var _i4 = minLine; _i4 < lines.length; _i4++) {\n    resultLines.push(lines[_i4]);\n  }\n  return resultLines.join('\\n');\n}\n\n// Wrapper that supports multiple file patches via callbacks.\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n  var currentIndex = 0;\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n    if (!index) {\n      return options.complete();\n    }\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n        processIndex();\n      });\n    });\n  }\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n  if (typeof options === 'function') {\n    options = {\n      callback: options\n    };\n  }\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n  if (options.newlineIsToken) {\n    throw new Error('newlineIsToken may not be used with patch-generation functions, only with diffing functions');\n  }\n  if (!options.callback) {\n    return diffLinesResultToPatch(diffLines(oldStr, newStr, options));\n  } else {\n    var _options = options,\n      _callback = _options.callback;\n    diffLines(oldStr, newStr, _objectSpread2(_objectSpread2({}, options), {}, {\n      callback: function callback(diff) {\n        var patch = diffLinesResultToPatch(diff);\n        _callback(patch);\n      }\n    }));\n  }\n  function diffLinesResultToPatch(diff) {\n    // STEP 1: Build up the patch with no \"\\ No newline at end of file\" lines and with the arrays\n    //         of lines containing trailing newline characters. We'll tidy up later...\n\n    if (!diff) {\n      return;\n    }\n    diff.push({\n      value: '',\n      lines: []\n    }); // Append an empty value to make cleanup easier\n\n    function contextLines(lines) {\n      return lines.map(function (entry) {\n        return ' ' + entry;\n      });\n    }\n    var hunks = [];\n    var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n    var _loop = function _loop() {\n      var current = diff[i],\n        lines = current.lines || splitLines(current.value);\n      current.lines = lines;\n      if (current.added || current.removed) {\n        var _curRange;\n        // If we have previous context, start with that\n        if (!oldRangeStart) {\n          var prev = diff[i - 1];\n          oldRangeStart = oldLine;\n          newRangeStart = newLine;\n          if (prev) {\n            curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n            oldRangeStart -= curRange.length;\n            newRangeStart -= curRange.length;\n          }\n        }\n\n        // Output our changes\n        (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n          return (current.added ? '+' : '-') + entry;\n        })));\n\n        // Track the updated file position\n        if (current.added) {\n          newLine += lines.length;\n        } else {\n          oldLine += lines.length;\n        }\n      } else {\n        // Identical context lines. Track line changes\n        if (oldRangeStart) {\n          // Close out any changes that have been output (or join overlapping)\n          if (lines.length <= options.context * 2 && i < diff.length - 2) {\n            var _curRange2;\n            // Overlapping\n            (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n          } else {\n            var _curRange3;\n            // end the range and output\n            var contextSize = Math.min(lines.length, options.context);\n            (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n            var _hunk = {\n              oldStart: oldRangeStart,\n              oldLines: oldLine - oldRangeStart + contextSize,\n              newStart: newRangeStart,\n              newLines: newLine - newRangeStart + contextSize,\n              lines: curRange\n            };\n            hunks.push(_hunk);\n            oldRangeStart = 0;\n            newRangeStart = 0;\n            curRange = [];\n          }\n        }\n        oldLine += lines.length;\n        newLine += lines.length;\n      }\n    };\n    for (var i = 0; i < diff.length; i++) {\n      _loop();\n    }\n\n    // Step 2: eliminate the trailing `\\n` from each line of each hunk, and, where needed, add\n    //         \"\\ No newline at end of file\".\n    for (var _i = 0, _hunks = hunks; _i < _hunks.length; _i++) {\n      var hunk = _hunks[_i];\n      for (var _i2 = 0; _i2 < hunk.lines.length; _i2++) {\n        if (hunk.lines[_i2].endsWith('\\n')) {\n          hunk.lines[_i2] = hunk.lines[_i2].slice(0, -1);\n        } else {\n          hunk.lines.splice(_i2 + 1, 0, '\\\\ No newline at end of file');\n          _i2++; // Skip the line we just added, then continue iterating\n        }\n      }\n    }\n    return {\n      oldFileName: oldFileName,\n      newFileName: newFileName,\n      oldHeader: oldHeader,\n      newHeader: newHeader,\n      hunks: hunks\n    };\n  }\n}\nfunction formatPatch(diff) {\n  if (Array.isArray(diff)) {\n    return diff.map(formatPatch).join('\\n');\n  }\n  var ret = [];\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i];\n    // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n  return ret.join('\\n') + '\\n';\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  var _options2;\n  if (typeof options === 'function') {\n    options = {\n      callback: options\n    };\n  }\n  if (!((_options2 = options) !== null && _options2 !== void 0 && _options2.callback)) {\n    var patchObj = structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options);\n    if (!patchObj) {\n      return;\n    }\n    return formatPatch(patchObj);\n  } else {\n    var _options3 = options,\n      _callback2 = _options3.callback;\n    structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, _objectSpread2(_objectSpread2({}, options), {}, {\n      callback: function callback(patchObj) {\n        if (!patchObj) {\n          _callback2();\n        } else {\n          _callback2(formatPatch(patchObj));\n        }\n      }\n    }));\n  }\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\n/**\n * Split `text` into an array of lines, including the trailing newline character (where present)\n */\nfunction splitLines(text) {\n  var hasTrailingNl = text.endsWith('\\n');\n  var result = text.split('\\n').map(function (line) {\n    return line + '\\n';\n  });\n  if (hasTrailingNl) {\n    result.pop();\n  } else {\n    result.push(result.pop().slice(0, -1));\n  }\n  return result;\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n    oldLines = _calcOldNewLineCount.oldLines,\n    newLines = _calcOldNewLineCount.newLines;\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {};\n\n  // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n  ret.hunks = [];\n  var mineIndex = 0,\n    theirsIndex = 0,\n    mineOffset = 0,\n    theirsOffset = 0;\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n        oldStart: Infinity\n      },\n      theirsCurrent = theirs.hunks[theirsIndex] || {\n        oldStart: Infinity\n      };\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n  return ret;\n}\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n    return structuredPatch(undefined, undefined, base, param);\n  }\n  return param;\n}\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n      offset: mineOffset,\n      lines: mineLines,\n      index: 0\n    },\n    their = {\n      offset: theirOffset,\n      lines: theirLines,\n      index: 0\n    };\n\n  // Handle any leading content\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine);\n\n  // Now in the overlap content. Scan through and select the best changes from each.\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n      theirCurrent = their.lines[their.index];\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  }\n\n  // Now push anything that may be remaining\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n    theirChanges = collectChange(their);\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n    return;\n  }\n  conflict(hunk, myChanges, theirChanges);\n}\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n    theirChanges = collectContext(their, myChanges);\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\nfunction collectChange(state) {\n  var ret = [],\n    operation = state.lines[state.index][0];\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index];\n\n    // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n  return ret;\n}\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n    merged = [],\n    matchIndex = 0,\n    contextChanges = false,\n    conflicted = false;\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n      match = matchChanges[matchIndex];\n\n    // Once we've hit our add, then we are done\n    if (match[0] === '+') {\n      break;\n    }\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++;\n\n    // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n    if (change[0] === '+') {\n      conflicted = true;\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n  if (conflicted) {\n    return changes;\n  }\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n  state.index += delta;\n  return true;\n}\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\nfunction reversePatch(structuredPatch) {\n  if (Array.isArray(structuredPatch)) {\n    return structuredPatch.map(reversePatch).reverse();\n  }\n  return _objectSpread2(_objectSpread2({}, structuredPatch), {}, {\n    oldFileName: structuredPatch.newFileName,\n    oldHeader: structuredPatch.newHeader,\n    newFileName: structuredPatch.oldFileName,\n    newHeader: structuredPatch.oldHeader,\n    hunks: structuredPatch.hunks.map(function (hunk) {\n      return {\n        oldLines: hunk.newLines,\n        oldStart: hunk.newStart,\n        newLines: hunk.oldLines,\n        newStart: hunk.oldStart,\n        lines: hunk.lines.map(function (l) {\n          if (l.startsWith('-')) {\n            return \"+\".concat(l.slice(1));\n          }\n          if (l.startsWith('+')) {\n            return \"-\".concat(l.slice(1));\n          }\n          return l;\n        })\n      };\n    })\n  });\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n    change,\n    operation;\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n    ret.push([operation, change.value]);\n  }\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n    ret.push(escapeHTML(change.value));\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n  return ret.join('');\n}\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\nexport { Diff, applyPatch, applyPatches, canonicalize, convertChangesToDMP, convertChangesToXML, createPatch, createTwoFilesPatch, diffArrays, diffChars, diffCss, diffJson, diffLines, diffSentences, diffTrimmedLines, diffWords, diffWordsWithSpace, formatPatch, merge, parsePatch, reversePatch, structuredPatch };\n",null,null,null,null,null,null,null,null,"import * as Diff2Html from \"diff2html\";\nimport type { TestCaseEvent } from \"../telemetry/tests\";\nimport { decodeHtmlEntities } from \"../utils\";\n\nexport class TestPanel {\n    private tests: TestCaseEvent[] = [];\n\n    public renderTest(testCase: TestCaseEvent): void {\n        this.tests.push(testCase);\n        const testList = document.getElementById(\n            \"drafter-debug-current-tests-content-list\"\n        );\n        if (!testList) {\n            throw new Error(\"DebugPanel: Tests section not found.\");\n        }\n\n        const statusIcon = testCase.passed ? \"\" : \"\";\n        const statusClass = testCase.passed ? \"test-passed\" : \"test-failed\";\n\n        const testElement = (\n            <div class={`test-case ${statusClass}`}>\n                <div class=\"test-case-header\">\n                    <span class=\"test-status\">{statusIcon}</span>\n                    <span class=\"test-line\">Line {testCase.line}</span>\n                    <code class=\"test-caller\">{testCase.caller}</code>\n                </div>\n                <div class=\"test-case-diff\"></div>\n                {/* {!testCase.passed && testCase.diff_html && (\n                    <div\n                        dangerouslySetInnerHTML={{\n                            __html: decodeHtmlEntities(testCase.diff_html),\n                        }}\n                    ></div>\n                    // <details class=\"test-diff\">\n                    //     <summary>Show Difference</summary>\n\n                    // </details>\n                )} */}\n            </div>\n        );\n\n        testList.appendChild(testElement);\n\n        if (!testCase.passed) {\n            const diffString = testCase.diff_html;\n\n            console.log(diffString);\n\n            const diffContainer = testElement.querySelector(\".test-case-diff\");\n            if (diffContainer) {\n                diffContainer.innerHTML = Diff2Html.html(diffString, {\n                    drawFileList: false,\n                    matching: \"words\",\n                    diffStyle: \"char\",\n                    outputFormat: \"side-by-side\",\n                    // outputFormat: \"line-by-line\",\n                });\n            } else {\n                throw new Error(\"DebugPanel: Diff container not found.\");\n            }\n        }\n    }\n\n    public updateTestSummary(): void {\n        const summaryElement = document.getElementById(\n            \"drafter-debug-current-tests-summary\"\n        );\n        if (!summaryElement) {\n            throw new Error(\"DebugPanel: Test summary section not found.\");\n        }\n\n        const totalTests = this.tests.length;\n        const passedTests = this.tests.filter((t) => t.passed).length;\n        const failedTests = totalTests - passedTests;\n\n        summaryElement.replaceChildren(\n            <div class=\"test-summary\">\n                <strong>Summary:</strong>\n                <div>Total Tests: {totalTests}</div>\n                <div> Passed: {passedTests}</div>\n                <div> Failed: {failedTests}</div>\n            </div>\n        );\n    }\n}\n","import type { TelemetryEvent } from \"./telemetry\";\nimport { t } from \"../i18n\";\nimport { DebugHeaderBar } from \"./header\";\nimport { DebugFooterBar } from \"./footer\";\nimport type { ClientBridgeWrapperInterface } from \"../types/client_bridge_wrapper\";\nimport type { TestCaseEvent } from \"./telemetry/tests\";\nimport { decodeHtmlEntities } from \"./utils\";\nimport { TestPanel } from \"./panels/testing\";\n\nexport class DebugPanel {\n    private panelElement: HTMLElement | null = null;\n    private contentElement: HTMLElement | null = null;\n    private events: TelemetryEvent[] = [];\n    private pageHistory: any[] = [];\n    private currentState: any = null;\n    private errors: any[] = [];\n    private warnings: any[] = [];\n    private isVisible: boolean = true;\n    private headerBar: DebugHeaderBar | null = null;\n    private footerBar: DebugFooterBar | null = null;\n    private testingPanel: TestPanel | null = null;\n\n    constructor(\n        private containerId: string,\n        private clientBridge: ClientBridgeWrapperInterface\n    ) {\n        this.initialize();\n    }\n\n    private initialize() {\n        const container = document.getElementById(this.containerId);\n        if (!container) {\n            console.error(\n                `DebugPanel: Container with id '${this.containerId}' not found.`\n            );\n            return;\n        }\n\n        this.panelElement = this.createPanelStructure();\n        container.appendChild(this.panelElement);\n        this.contentElement = this.panelElement.querySelector(\n            \".drafter-debug-content\"\n        );\n        this.headerBar = new DebugHeaderBar(\"\");\n        this.footerBar = new DebugFooterBar();\n        this.testingPanel = new TestPanel();\n        this.attachEventHandlers();\n    }\n\n    public setHeaderTitle(title: string) {\n        if (this.headerBar) {\n            this.headerBar.setTitle(title);\n        }\n    }\n    public setRoute(route: string) {\n        if (this.footerBar) {\n            this.footerBar.setRoute(route);\n        }\n    }\n\n    private createPanelStructure(): HTMLElement {\n        const panel = document.createElement(\"div\");\n        panel.className = \"drafter-debug-panel\";\n        panel.id = \"drafter-debug-panel\";\n\n        const ui = (\n            <div class=\"drafter-debug-panel\">\n                <div class=\"drafter-debug-header-left\">\n                    <div>\n                        <div class=\"drafter-debug-header-title\">\n                            Debug Panel\n                        </div>\n                        <div class=\"drafter-debug-header-subtitle\"></div>\n                    </div>\n                    <div class=\"drafter-debug-header-buttons\">\n                        <a href=\"#drafter-debug-warnings\">Warnings</a> |\n                        <a href=\"#drafter-debug-errors\">Errors</a> |\n                        <a href=\"#drafter-debug-current-route\">Current Route</a>{\" \"}\n                        |<a href=\"#drafter-debug-state\">State</a> |\n                        <a href=\"#drafter-debug-history\">History</a> |\n                        <a href=\"#drafter-debug-routes\">Routes</a> |\n                        <a href=\"#drafter-debug-events\">Events</a>\n                    </div>\n                </div>\n                {this.createActionButtons()}\n                <div class=\"drafter-debug-content\">\n                    <div\n                        class=\"drafter-debug-section\"\n                        id=\"drafter-debug-routes\"\n                    >\n                        <div class=\"drafter-debug-section-header\">\n                            <h4>Registered Routes</h4>\n                        </div>\n                        <div id=\"drafter-routes-list\"></div>\n                    </div>\n                    <div\n                        class=\"drafter-debug-section\"\n                        id=\"drafter-debug-current-route\"\n                    ></div>\n                    <div class=\"drafter-debug-section\" id=\"drafter-debug-state\">\n                        <div class=\"drafter-debug-section-header\">\n                            <h4>Current State</h4>\n                        </div>\n                        <div id=\"drafter-debug-current-state-content\"></div>\n                    </div>\n                    <div\n                        class=\"drafter-debug-section\"\n                        id=\"drafter-debug-history\"\n                    ></div>\n                    <div class=\"drafter-debug-section\" id=\"drafter-debug-tests\">\n                        <div class=\"drafter-debug-section-header\">\n                            <h4>Your Tests</h4>\n                        </div>\n                        <div id=\"drafter-debug-current-tests-content\">\n                            <div id=\"drafter-debug-current-tests-summary\"></div>\n                            <br></br>\n                            <strong>Details: </strong>\n                            <div id=\"drafter-debug-current-tests-content-list\"></div>\n                        </div>\n                    </div>\n                    <div\n                        class=\"drafter-debug-section\"\n                        id=\"drafter-debug-errors\"\n                    ></div>\n                    <div\n                        class=\"drafter-debug-section\"\n                        id=\"drafter-debug-events\"\n                    ></div>\n                </div>\n            </div>\n        );\n        panel.appendChild(ui);\n\n        return panel;\n    }\n\n    private createActionButtons() {\n        return (\n            <div class=\"drafter-debug-actions\">\n                <button\n                    id=\"drafter-home-btn\"\n                    title={t(\"button.home.tooltip\")}\n                    class=\"drafter-home-button\"\n                >\n                    {t(\"icon.home\")} {t(\"button.home\")}\n                </button>\n                <button\n                    id=\"debug-reset-btn\"\n                    title={t(\"button.reset.tooltip\")}\n                    class=\"drafter-reset-button\"\n                >\n                    {t(\"icon.reset\")} {t(\"button.reset\")}\n                </button>\n            </div>\n        );\n    }\n\n    private attachEventHandlers(): void {\n        const homeButtons = document.querySelectorAll(\".drafter-home-button\");\n        homeButtons.forEach((button) => {\n            button.addEventListener(\"click\", (event) => {\n                event.preventDefault();\n                this.clientBridge.goto(\"index\");\n            });\n        });\n    }\n\n    private renderState(newState: any): void {\n        const section = document.getElementById(\n            \"drafter-debug-current-state-content\"\n        );\n        if (!section) {\n            throw new Error(\"DebugPanel: State section not found.\");\n        }\n\n        const stateContent = (\n            <div class=\"state-content\">\n                <div dangerouslySetInnerHTML={{ __html: newState }}></div>\n            </div>\n        );\n\n        section.replaceChildren(stateContent);\n    }\n\n    private renderRoute(route: string, signature: string): void {\n        const section = document.getElementById(\"drafter-routes-list\");\n        if (!section) {\n            throw new Error(\"DebugPanel: Routes section not found.\");\n        }\n\n        const newRouteItem = (\n            <div class=\"route-signature\">\n                <strong>{route}</strong>:<pre>{signature}</pre>\n            </div>\n        );\n\n        section.appendChild(newRouteItem);\n    }\n\n    public handleEvent(event: TelemetryEvent): void {\n        this.events.push(event);\n        switch (event.data?.event_type) {\n            case \"RouteAdded\":\n                this.renderRoute(event.data.url, event.data.signature);\n                break;\n            case \"UpdatedState\":\n                this.currentState = event.data.html;\n                this.renderState(this.currentState);\n                break;\n            case \"TestCaseEvent\":\n                this.testingPanel?.renderTest(event.data);\n                this.testingPanel?.updateTestSummary();\n                break;\n            default:\n                // console.warn(\n                //     `DebugPanel: Unhandled event type '${event.event_type}'`\n                // );\n                break;\n        }\n    }\n}\n","import Sk from \"./types/skulpt/\";\nimport type { pyBaseException, pyStr } from \"./types/skulpt/\";\nimport { DebugPanel } from \"./debug\";\n\nexport function builtinRead(path: string) {\n    if (\n        Sk.builtinFiles === undefined ||\n        Sk.builtinFiles[\"files\"][path] === undefined\n    )\n        throw \"File not found: '\" + path + \"'\";\n    return Sk.builtinFiles[\"files\"][path];\n}\n\nconst preStyle = `background-color: #f0f0f0; padding: 4px; border: 1px solid lightgrey; margin: 0px`;\n\nexport function setupSkulpt() {\n    if (typeof Sk === \"undefined\") {\n        console.error(\n            \"Skulpt (global `Sk`) not found. Ensure skulpt.js and skulpt-stdlib.js are loaded before drafter.js (served from your Python assets or a CDN).\"\n        );\n        throw new Error(\"Skulpt not found\");\n    }\n    // console.log(Sk);\n    if (typeof Sk.environ == \"undefined\") {\n        Sk.environ = new Sk.builtin.dict();\n    }\n    Sk.environ.set$item(\n        new Sk.builtin.str(\"DRAFTER_SKULPT\"),\n        Sk.builtin.bool.true$\n    );\n\n    Sk.configure({\n        read: builtinRead,\n        __future__: Sk.python3,\n    });\n\n    Sk.inBrowser = false;\n\n    if (typeof Sk.console === \"undefined\") {\n        Sk.console = {};\n    }\n    Sk.console.drafter = {};\n    Sk.console.printPILImage = function (tag: any) {\n        document.body.append(tag.image);\n    };\n    Sk.console.plot = function (chart: any) {\n        let container = document.createElement(\"div\");\n        document.body.append(container);\n        return { html: [container] };\n    };\n    Sk.console.getWidth = function () {\n        return 300;\n    };\n    Sk.console.getHeight = function () {\n        return 300;\n    };\n    Sk.console.drafter.handleError = function (code: any, message: any) {\n        document.body.innerHTML = `<h1>Error Running Site!</h1><div>There was an error running your site. Here is the error message:</div><div><pre style=\"${preStyle}\">${code}: ${message}</pre></div>`;\n    };\n\n    Sk.DebugPanel = DebugPanel;\n\n    // Example: touch the global so TS keeps types and users see it's available\n    // (no-op to avoid side effects)\n    void Sk;\n}\n\nexport function saveSkulptFile(path: string, contents: string) {\n    if (Sk.builtinFiles === undefined) {\n        Sk.builtinFiles = { files: {} };\n    }\n    Sk.builtinFiles[\"files\"][path] = contents;\n}\n\nexport async function startServer(\n    pythonCode: string,\n    mainFilename = \"main\",\n    presentErrors = true\n): Promise<void> {\n    saveSkulptFile(mainFilename + \".py\", pythonCode);\n    try {\n        return Sk.misceval\n            .asyncToPromise(() => {\n                return Sk.importMainWithBody(\n                    mainFilename,\n                    false,\n                    pythonCode,\n                    true\n                );\n            })\n            .then((result) => {\n                console.log(result.$d);\n                return result;\n            })\n            .catch((error) => {\n                if (!presentErrors) {\n                    //throw error;\n                    const errorMessage = convertSkulptError(\n                        error as pyBaseException,\n                        mainFilename + \".py\",\n                        pythonCode,\n                        false\n                    );\n                    throw errorMessage;\n                }\n                showError(error, mainFilename + \".py\", pythonCode);\n            });\n    } catch (error) {\n        if (!presentErrors) {\n            // throw error;\n            const errorMessage = convertSkulptError(\n                error as pyBaseException,\n                mainFilename + \".py\",\n                pythonCode,\n                false\n            );\n            throw errorMessage;\n        }\n        showError(error as pyBaseException, mainFilename + \".py\", pythonCode);\n    }\n}\n\nfunction showError(\n    err: pyBaseException,\n    filenameExecuted: string,\n    code: string\n) {\n    console.error(err);\n    console.error(err.args.v[0].v);\n    document.body.innerHTML = [\n        \"<h1>Error Running Site!</h1><div>There was an error running your site. Here is the error message:</div><div>\",\n        presentRunError(err, filenameExecuted, code),\n        \"</div>\",\n    ].join(\"\\n\");\n}\n\nfunction presentRunError(\n    error: pyBaseException,\n    filenameExecuted: string,\n    code: string\n) {\n    let label = error.tp$name;\n    let category = \"runtime\";\n    let message = convertSkulptError(error, filenameExecuted, code);\n\n    return message;\n}\n\nfunction buildTraceback(\n    error: pyBaseException,\n    filenameExecuted: string,\n    code: string\n) {\n    return error.traceback.reverse().map((frame) => {\n        if (!frame) {\n            return \"??\";\n        }\n        let lineno = frame.lineno;\n        let file = `File <code class=\"filename\">\"${frame.filename}\"</code>, `;\n        let line = `on line <code class=\"lineno\">${lineno}</code>, `;\n        let scope =\n            frame.scope !== \"<module>\" && frame.scope !== undefined\n                ? `in scope ${frame.scope}`\n                : \"\";\n        let source = \"\";\n        // console.log(filenameExecuted, frame.filename, code);\n        if (frame.source !== undefined) {\n            source = `\\n<pre style=\"${preStyle}\"><code>${frame.source}</code></pre>`;\n        } else if (filenameExecuted === frame.filename && code) {\n            const lines = code.split(\"\\n\");\n            const lineIndex = lineno - 1;\n            const lineContent = lines[lineIndex];\n            source = `\\n<pre style=\"${preStyle}\"><code>${lineContent}</code></pre>`;\n        }\n        return file + line + scope + source;\n    });\n}\n\nfunction buildTracebackNoHTML(\n    error: pyBaseException,\n    filenameExecuted: string,\n    code: string\n) {\n    return error.traceback.reverse().map((frame) => {\n        if (!frame) {\n            return \"??\";\n        }\n        let lineno = frame.lineno;\n        let file = `File \"${frame.filename}\", `;\n        let line = `on line ${lineno}, `;\n        let scope =\n            frame.scope !== \"<module>\" && frame.scope !== undefined\n                ? `in scope ${frame.scope}`\n                : \"\";\n        let source = \"\";\n        // console.log(filenameExecuted, frame.filename, code);\n        if (frame.source !== undefined) {\n            source = \"\" + frame.source;\n        } else if (filenameExecuted === frame.filename && code) {\n            const lines = code.split(\"\\n\");\n            const lineIndex = lineno - 1;\n            const lineContent = lines[lineIndex];\n            source = lineContent;\n        }\n        return file + line + scope + source;\n    });\n}\n\nfunction convertSkulptError(\n    error: pyBaseException,\n    filenameExecuted: string,\n    code: string,\n    withFrame: boolean = true\n) {\n    let name = error.tp$name;\n    let args = Sk.ffi.remapToJs(error.args);\n    let top = `${name}: ${args[0]}`;\n    let traceback = \"\";\n    if (name === \"TimeoutError\") {\n        if (error.err && error.err.traceback && error.err.traceback.length) {\n            const allFrames = (\n                withFrame ? buildTraceback : buildTracebackNoHTML\n            )(error.err, filenameExecuted, code);\n            const result = [\"Traceback:\"];\n            if (allFrames.length > 5) {\n                result.push(\n                    ...allFrames.slice(0, 3),\n                    `... Hiding ${\n                        allFrames.length - 3\n                    } other stack frames ...,`,\n                    ...allFrames.slice(-3, -2)\n                );\n            } else {\n                result.push(...allFrames);\n            }\n            traceback = result.join(\"\\n<br>\");\n        }\n    } else if (error.traceback && error.traceback.length) {\n        traceback =\n            (withFrame ? \"<strong>Traceback:</strong><br>\\n\" : \"Traceback:\\n\") +\n            (withFrame ? buildTraceback : buildTracebackNoHTML)(\n                error,\n                filenameExecuted,\n                code\n            ).join(\"\\n<br>\");\n    }\n    if (!withFrame) {\n        return top + \"\\n\" + traceback;\n    }\n    return `<pre style=\"${preStyle}\">${top}</pre>\\n<br>\\n${traceback}\\n<br>\\n<div>\n    <p><strong>Advice:</strong><br>\n    Some common things to check:\n    <ul>\n    <li>Check your site to make sure it has no errors and runs fine when not deployed.</li>\n    <li>Make sure you are not using third party libraries or modules that are not supported (e.g., <code>threading</code>).</li>\n    <li>Check that you are correctly referencing any files or images you are using.</li>\n    </ul>\n    </p>\n    </div>`;\n}\n\nexport function getSkulptFile(\n    path: string,\n    okayIfNotFound = true\n): string | undefined {\n    if (\n        Sk.builtinFiles !== undefined &&\n        Sk.builtinFiles[\"files\"][path] !== undefined\n    ) {\n        return Sk.builtinFiles[\"files\"][path];\n    } else {\n        if (okayIfNotFound) {\n            return undefined;\n        } else {\n            throw new Error(\"File not found: '\" + path + \"'\");\n        }\n    }\n}\n"],"mappings":"+oBAAA,IAAAA,GAAAC,GAAAC,IAAA,EAeC,SAAUC,EAAO,CAGhB,IAAIC,EAAgB,KAChBC,EAAQ,MACRC,EAAY,MACZC,EAAM,MACNC,EAAS,MACTC,EAAW,SACXC,EAAgB,SAEpBP,EAAM,KAAO,CACX,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,EAAK,EAC7B,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,GAAM,EACtC,IAAK,GAAI,IAAK,GAAI,GAAM,EAC1B,EAEAA,EAAM,KAAO,SAAcQ,EAAMC,EAAY,CAC3C,IAAIC,EAAMF,EAAK,OACXG,EAAU,EACVC,EAAc,EACdC,EAAS,EACTC,EAAQH,EACRI,EAAU,KACVC,EAAM,KACNC,EAAM,GACNC,EAAS,CAAC,EACVC,EAAU,GACVC,EAAI,EACJC,EAAY,EACZC,EAAO,KACPC,EAAO,KAEX,SAASC,IAAS,CACZP,EAAI,OAAS,IACfC,EAAO,KAAK,CAAC,IAAK,KAAM,KAAM,IAAI,OAAOD,CAAG,CAAC,CAAC,EAC9CA,EAAM,GAEV,CAEA,SAASQ,IAAmB,CAE1B,QADIC,EAAkB,GACbC,EAAIN,EAAWM,EAAIT,EAAO,OAAQS,IAIzC,GAHAD,EACG1B,EAAM,KAAKkB,EAAOS,CAAC,EAAE,GAAG,EAAI3B,EAAM,KAAK,IACvCkB,EAAOS,CAAC,EAAE,KAAO,MAAQT,EAAOS,CAAC,EAAE,KAAK,MAAM1B,CAAa,IAAM,KAChE,CAACyB,EACH,MAAO,GAIX,OAAOA,CACT,CAEA,SAASE,GAAWC,EAAaC,EAAW,CAG1C,GAFAN,GAAO,EAEHK,GAAeJ,GAAiB,EAClC,QAASE,GAAIN,EAAWU,GAAMJ,GAAIT,EAAO,OAAQS,KAC3CT,EAAOS,EAAC,EAAE,QACPI,GAAOb,EAAOS,GAAE,CAAC,IAAMI,GAAK,KAAO,MAEtCA,GAAK,OAASb,EAAOS,EAAC,EAAE,KAAK,SAAS,GAExCT,EAAO,OAAOS,GAAG,CAAC,QAGZG,GACVZ,EAAO,KAAK,CAAC,IAAI;AAAA,CAAI,CAAC,EAGxBC,EAAU,GACVE,EAAYH,EAAO,MACrB,CAEA,SAASc,GAAiBxB,EAAMyB,EAAO,CACrC,IAAIC,GAAQ,IAAMX,EACdY,GAAa3B,EAAK,QAAQ0B,GAAOD,CAAK,EACtCxB,GAAa2B,EACX5B,EAAK,UAAUA,EAAK,QAAQ,IAAKyB,CAAK,EAAI,EAAGE,EAAU,CACzD,EAAE,MAAM,GAAG,EAEf,OAAAb,EAAOb,GAAW,CAAC,EACnBc,EAAOd,GAAWA,GAAW,OAAS,CAAC,EAEhC0B,GAAaD,GAAM,OAAS,CACrC,CAQA,IANIzB,IACFA,EAAaA,EAAW,MAAM,GAAG,EACjCa,EAAOb,EAAW,CAAC,EACnBc,EAAOd,EAAW,CAAC,GAGhBW,EAAI,EAAGA,EAAIV,EAAKU,IACfN,GAASH,EACP0B,EAAUf,EAAMd,EAAMY,CAAC,GACzB,EAAEA,EACFI,GAAO,EACPV,EAAQF,GAEJJ,EAAK,OAAOY,CAAC,GAAK;AAAA,EACpBQ,GAAWT,CAAO,EAElBF,GAAOT,EAAK,OAAOY,CAAC,EAGfN,GAASF,GAClBQ,GAAKE,EAAK,OAAS,EACnBN,EAAMhB,EAAM,KAAKQ,EAAK,OAAOY,EAAI,CAAC,CAAC,EACnCL,EAAUC,EAAMR,EAAK,OAAOY,EAAI,CAAC,EAAI,KACjCL,GAAW,KACbK,EAAIY,GAAiBxB,EAAMY,CAAC,EAC5BN,EAAQH,IAEJK,GACFI,IAEFN,EAAQD,GAEVM,EAAUC,GAENiB,EAAUd,EAAMf,EAAMY,CAAC,GACzBF,EAAO,KAAK,CAAC,IAAKH,EAAS,EAAGqB,EAAKnB,CAAG,EAAG,KAAMK,EAAM,KAAMC,EAC9C,EAAIR,GAAW,IAAOI,EAAUG,EAAK,OAASF,EAAIG,EAAK,MAAM,CAAC,EAC3EN,EAAM,GACNG,GAAKG,EAAK,OAAS,EACnBT,EAAQH,EACJI,GAAW,MACTQ,GAAQ,KACVH,IAEAkB,EAAkBpB,EAAOA,EAAO,OAAS,CAAC,CAAC,IAI/CD,GAAOT,EAAK,OAAOY,CAAC,EAK1B,OAAAQ,GAAWT,EAAS,EAAI,EAEjBD,CACT,EAEA,SAASoB,EAAkBC,EAAO,CAC5BA,EAAM,EAAE,OAAOA,EAAM,EAAE,OAAS,CAAC,IAAM,MACzCA,EAAM,EAAIA,EAAM,EAAE,UAAU,EAAGA,EAAM,EAAE,OAAS,CAAC,EAErD,CAEA,SAASH,EAAKI,EAAG,CACf,OAAIA,EAAE,KACGA,EAAE,KAAK,EAGTA,EAAE,QAAQ,aAAc,EAAE,CACnC,CAEA,SAASH,EAAUrB,EAAKR,EAAMyB,EAAO,CACnC,GAAIzB,EAAK,OAAOyB,CAAK,GAAKjB,EAAI,OAAO,CAAC,EACpC,MAAO,GAGT,QAASI,EAAI,EAAGqB,EAAIzB,EAAI,OAAQI,EAAIqB,EAAGrB,IACrC,GAAIZ,EAAK,OAAOyB,EAAQb,CAAC,GAAKJ,EAAI,OAAOI,CAAC,EACxC,MAAO,GAIX,MAAO,EACT,CAGA,IAAIsB,EAAiB,CAAC,GAAM,GAAM,KAAM,GAAM,EAAK,GAAM,IAAK,EAAI,EAElE,SAASC,EAAUzB,EAAQ0B,EAAMC,EAAOC,EAAY,CAClD,IAAIC,EAAe,CAAC,EAChBC,EAAS,KACTC,EAAO,KACPV,EAAQ,KAIZ,IAFAU,EAAOJ,EAAMA,EAAM,OAAS,CAAC,EAEtB3B,EAAO,OAAS,GAAG,CAGxB,GAFAqB,EAAQrB,EAAO,MAAM,EAEjB+B,GAAQA,EAAK,KAAO,KAAO,EAAEV,EAAM,OAAOG,GAC5C,MAAM,IAAI,MAAM,iCAAiC,EAGnD,GAAI1C,EAAM,KAAKuC,EAAM,GAAG,GAAKvC,EAAM,KAAK,GAAQkD,EAASX,EAAOO,CAAU,EACxED,EAAM,KAAKN,CAAK,EAChBA,EAAM,MAAQI,EAAUzB,EAAQqB,EAAM,IAAKM,EAAOC,CAAU,UACnDP,EAAM,KAAO,IAAK,CAC3B,GAAIM,EAAM,SAAW,EACnB,MAAM,IAAI,MAAM,gCAAkCN,EAAM,CAAC,EAG3D,GADAS,EAASH,EAAM,IAAI,EACfN,EAAM,GAAKS,EAAO,GAAK,CAACG,EAASZ,EAAM,EAAGS,EAAO,EAAGF,CAAU,EAChE,MAAM,IAAI,MAAM,kBAAoBE,EAAO,EAAI,QAAUT,EAAM,CAAC,EAElE,OAAAS,EAAO,IAAMT,EAAM,EACZQ,CACT,MAAWR,EAAM,KAAO;AAAA,IACtBA,EAAM,KAAQrB,EAAO,QAAU,GAAOA,EAAO,CAAC,EAAE,KAAO;AAAA,GAGzD6B,EAAa,KAAKR,CAAK,CACzB,CAEA,GAAIM,EAAM,OAAS,EACjB,MAAM,IAAI,MAAM,wBAA0BA,EAAM,IAAI,EAAE,CAAC,EAGzD,OAAOE,CACT,CAEA,SAASG,EAASX,EAAOa,EAAM,CAC7B,QAAShC,EAAI,EAAGqB,EAAIW,EAAK,OAAQhC,EAAIqB,EAAGrB,IACtC,GAAIgC,EAAKhC,CAAC,EAAE,GAAKmB,EAAM,EACrB,OAAAA,EAAM,IAAM,IACL,EAGb,CAEA,SAASY,EAASjB,EAAOmB,EAAMD,EAAM,CACnC,QAAShC,EAAI,EAAGqB,EAAIW,EAAK,OAAQhC,EAAIqB,EAAGrB,IACtC,GAAIgC,EAAKhC,CAAC,EAAE,GAAKc,GAASkB,EAAKhC,CAAC,EAAE,GAAKiC,EACrC,MAAO,EAGb,CAEA,SAASC,EAAuBC,EAAK,CACnC,IAAIC,EAAQ,CAAC,EACb,QAASC,KAAOF,EACdC,EAAM,KAAK,IAAME,EAAID,CAAG,EAAI,yBAA2BF,EAAIE,CAAG,EAAI,GAAG,EAEvE,MAAO,KAAOD,EAAM,KAAK,GAAG,EAAI,IAClC,CAEA,SAASG,EAAkBC,EAAS,CAClC,IAAIC,EAAW,CAAC,EAChB,QAASJ,KAAOG,EAAQ,SACtBC,EAAS,KAAK,IAAMH,EAAID,CAAG,EAAI,YAAcC,EAAIE,EAAQ,SAASH,CAAG,EAAE,IAAI,EAAI,MAAQE,EAAkBC,EAAQ,SAASH,CAAG,CAAC,EAAI,GAAG,EAEvI,MAAO,cAAgBI,EAAS,KAAK,GAAG,EAAI,YAAcP,EAAuBM,EAAQ,IAAI,CAC/F,CAEA5D,EAAM,UAAY,SAAS4D,EAASpD,EAAMsD,EAAS,CACjD,MAAO,6BAA+B9D,EAAM,SAAS4D,EAAQ,IAAI,EAAI,MAAQD,EAAkBC,CAAO,EAAK,GAC7G,EAEA,IAAIG,EAAW,EACf/D,EAAM,SAAW,SAASgE,EAAMxD,EAAMsD,EAAS,CAC7CC,EAAW,EACX,IAAIE,EAAU,CAAE,KAAM,GAAI,KAAM,CAAC,EAAG,SAAU,CAAC,CAAE,EAGjD,OAFAjE,EAAM,KAAKgE,EAAMC,CAAO,EAEpBH,EAAQ,SACH,KAAK,UAAUG,EAASzD,EAAMsD,CAAO,EAGvC,KAAK,aAAaG,EAASzD,EAAMsD,CAAO,CACjD,EAEA9D,EAAM,SAAW,SAASkE,EAAM,CAC9B,MAAO,2BAA6BA,EAAO,gBAC7C,EAEAlE,EAAM,SAAWA,EAAM,SAEvBA,EAAM,aAAe,SAAS4D,EAASpD,EAAMsD,EAAS,CACpD,IAAIK,EAAW,KAAK,aAAaP,CAAO,EACxC,OAAAO,EAAS,KAAO,IAAI,SAAS,IAAK,IAAK,IAAK,KAAK,SAASP,EAAQ,IAAI,CAAC,EAChE,IAAI,KAAK,SAASO,EAAU3D,EAAM,KAAMsD,CAAO,CACxD,EAEA9D,EAAM,aAAe,SAAS4D,EAAS,CACrC,IAAIH,EAAKU,EAAW,CAAC,KAAM,CAAC,EAAG,SAAUP,EAAQ,SAAU,KAAMA,EAAQ,IAAI,EAC7E,IAAKH,KAAOU,EAAS,SACnBA,EAAS,SAASV,CAAG,EAAI,KAAK,aAAaU,EAAS,SAASV,CAAG,CAAC,EAEnE,IAAKA,KAAOG,EAAQ,KAClBO,EAAS,KAAKV,CAAG,EAAI,IAAI,SAAS,IAAK,IAAK,IAAK,IAAKG,EAAQ,KAAKH,CAAG,CAAC,EAEzE,OAAOU,CACT,EAEA,SAAST,EAAIlB,EAAG,CACd,OAAOA,EAAE,QAAQnC,EAAQ,MAAM,EACtB,QAAQH,EAAO,KAAM,EACrB,QAAQC,EAAU,KAAK,EACvB,QAAQC,EAAK,KAAK,EAClB,QAAQE,EAAU,SAAS,EAC3B,QAAQC,EAAe,SAAS,CAC3C,CAEA,SAAS6D,EAAa5B,EAAG,CACvB,MAAQ,CAACA,EAAE,QAAQ,GAAG,EAAK,IAAM,GACnC,CAEA,SAAS6B,EAAcC,EAAML,EAAS,CACpC,IAAIM,EAAS,KAAON,EAAQ,QAAU,IAClCO,EAAMD,EAASD,EAAK,EAAIP,IAC5B,OAAAE,EAAQ,SAASO,CAAG,EAAI,CAAC,KAAMF,EAAK,EAAG,SAAU,CAAC,CAAC,EACnDL,EAAQ,MAAQ,aAAgBP,EAAIc,CAAG,EAAI,WAAaF,EAAK,QAAU,IAAM,OACtEE,CACT,CAEAxE,EAAM,QAAU,CACd,IAAK,SAASsE,EAAML,EAAS,CAC3BA,EAAQ,MAAQ,YAAcG,EAAaE,EAAK,CAAC,EAAI,KAAOZ,EAAIY,EAAK,CAAC,EAAI,kBAC/CA,EAAK,EAAI,IAAMA,EAAK,IAAM,KAAOA,EAAK,KAAO,IAAMA,EAAK,KAAO,gCAE1FtE,EAAM,KAAKsE,EAAK,MAAOL,CAAO,EAC9BA,EAAQ,MAAQ,cAClB,EAEA,IAAK,SAASK,EAAML,EAAS,CAC3BA,EAAQ,MAAQ,aAAeG,EAAaE,EAAK,CAAC,EAAI,KAAOZ,EAAIY,EAAK,CAAC,EAAI,2BAC3EtE,EAAM,KAAKsE,EAAK,MAAOL,CAAO,EAC9BA,EAAQ,MAAQ,IAClB,EAEA,IAAKI,EACL,IAAK,SAASC,EAAML,EAAS,CAC3B,IAAIQ,EAAM,CAAC,SAAU,CAAC,EAAG,KAAM,GAAI,KAAM,CAAC,EAAG,UAAW,EAAI,EAC5DzE,EAAM,KAAKsE,EAAK,MAAOG,CAAG,EAC1B,IAAIN,EAAWF,EAAQ,SAASI,EAAcC,EAAML,CAAO,CAAC,EAC5DE,EAAS,KAAOM,EAAI,KACpBN,EAAS,SAAWM,EAAI,QAC1B,EAEA,EAAK,SAASH,EAAML,EAAS,CAC3B,IAAIQ,EAAM,CAAC,KAAM,CAAC,EAAG,KAAM,GAAI,SAAUR,EAAQ,SAAU,OAAQK,EAAK,CAAC,EACzEtE,EAAM,KAAKsE,EAAK,MAAOG,CAAG,EAC1BR,EAAQ,KAAKK,EAAK,CAAC,EAAIG,EAAI,KACtBR,EAAQ,YACXA,EAAQ,MAAQ,UAAYP,EAAIY,EAAK,CAAC,EAAI,YAE9C,EAEA,KAAM,SAASA,EAAML,EAAS,CAC5BA,EAAQ,MAAQS,EAAM,SAAWJ,EAAK,KAAO,GAAK,OAAO,CAC3D,EAEA,GAAM,SAASA,EAAML,EAAS,CAC5BA,EAAQ,MAAQ,aAAeG,EAAaE,EAAK,CAAC,EAAI,KAAOZ,EAAIY,EAAK,CAAC,EAAI,aAC7E,EAEA,GAAM,SAASA,EAAML,EAAS,CAC5BA,EAAQ,MAAQS,EAAM,IAAMhB,EAAIY,EAAK,IAAI,EAAI,GAAG,CAClD,EAEA,IAAKK,EAEL,IAAKA,CACP,EAEA,SAASA,EAAaL,EAAML,EAAS,CACnCA,EAAQ,MAAQ,aAAeG,EAAaE,EAAK,CAAC,EAAI,KAAOZ,EAAIY,EAAK,CAAC,EAAI,aAC7E,CAEA,SAASI,EAAMlC,EAAG,CAChB,MAAO,OAASA,EAAI,IACtB,CAEAxC,EAAM,KAAO,SAAS4E,EAAUX,EAAS,CAEvC,QADIY,EACKzD,EAAI,EAAGqB,EAAImC,EAAS,OAAQxD,EAAIqB,EAAGrB,IAC1CyD,EAAO7E,EAAM,QAAQ4E,EAASxD,CAAC,EAAE,GAAG,EACpCyD,GAAQA,EAAKD,EAASxD,CAAC,EAAG6C,CAAO,EAEnC,OAAOA,CACT,EAEAjE,EAAM,MAAQ,SAASkB,EAAQV,EAAMsD,EAAS,CAC5C,OAAAA,EAAUA,GAAW,CAAC,EACfnB,EAAUzB,EAAQ,GAAI,CAAC,EAAG4C,EAAQ,aAAe,CAAC,CAAC,CAC5D,EAEA9D,EAAM,MAAQ,CAAC,EAEfA,EAAM,SAAW,SAASQ,EAAMsD,EAAS,CACvC,MAAO,CAACtD,EAAM,CAAC,CAACsD,EAAQ,SAAU,CAAC,CAACA,EAAQ,cAAeA,EAAQ,WAAY,CAAC,CAACA,EAAQ,QAAQ,EAAE,KAAK,IAAI,CAC9G,EAEA9D,EAAM,QAAU,SAASQ,EAAMsD,EAAS,CACtCA,EAAUA,GAAW,CAAC,EACtB,IAAIL,EAAMzD,EAAM,SAASQ,EAAMsD,CAAO,EAClCK,EAAW,KAAK,MAAMV,CAAG,EAE7B,GAAIU,EAAU,CACZ,IAAIN,EAAWM,EAAS,SACxB,QAASW,KAAQjB,EACf,OAAOA,EAASiB,CAAI,EAAE,SAExB,OAAOX,CACT,CAEA,OAAAA,EAAW,KAAK,SAAS,KAAK,MAAM,KAAK,KAAK3D,EAAMsD,EAAQ,UAAU,EAAGtD,EAAMsD,CAAO,EAAGtD,EAAMsD,CAAO,EAC/F,KAAK,MAAML,CAAG,EAAIU,CAC3B,CACF,GAAG,OAAOpE,GAAY,IAAcA,GAAU,KAAK,ICtanD,IAAAgF,GAAAC,GAAAC,IAAA,CAeA,IAAIC,GAAQ,CAAC,GAEZ,SAAUA,EAAO,CAChBA,EAAM,SAAW,SAAUC,EAASC,EAAMC,EAAUC,EAAS,CAC3DH,EAAUA,GAAW,CAAC,EACtB,KAAK,EAAIA,EAAQ,MAAQ,KAAK,EAC9B,KAAK,EAAIE,EACT,KAAK,QAAUC,GAAW,CAAC,EAC3B,KAAK,KAAOF,GAAQ,GACpB,KAAK,SAAWD,EAAQ,UAAY,CAAC,EACrC,KAAK,KAAOA,EAAQ,MAAQ,CAAC,EAC7B,KAAK,IAAM,EACb,EAEAD,EAAM,SAAS,UAAY,CAEzB,EAAG,SAAUK,EAASC,EAAUC,EAAQ,CAAE,MAAO,EAAI,EAGrD,EAAGC,EAGH,EAAGC,EAEH,OAAQ,SAAgBJ,EAASC,EAAUC,EAAQ,CACjD,OAAO,KAAK,GAAG,CAACF,CAAO,EAAGC,GAAY,CAAC,EAAGC,CAAM,CAClD,EAGA,GAAI,SAAUF,EAASC,EAAUC,EAAQ,CACvC,OAAO,KAAK,EAAEF,EAASC,EAAUC,CAAM,CACzC,EAGA,GAAI,SAASG,EAAQJ,EAAU,CAC7B,IAAIK,EAAU,KAAK,SAASD,CAAM,EAG9BE,EAAWN,EAASK,EAAQ,IAAI,EACpC,GAAIA,EAAQ,UAAYA,EAAQ,MAAQC,EACtC,OAAOD,EAAQ,SAGjB,GAAI,OAAOC,GAAY,SAAU,CAC/B,GAAI,CAAC,KAAK,EACR,MAAM,IAAI,MAAM,wBAAwB,EAE1CA,EAAW,KAAK,EAAE,QAAQA,EAAU,KAAK,OAAO,CAClD,CAEA,GAAI,CAACA,EACH,OAAO,KAMT,GAFA,KAAK,SAASF,CAAM,EAAE,KAAOE,EAEzBD,EAAQ,KAAM,CAEXL,EAAS,YAAWA,EAAS,UAAY,CAAC,GAC/C,IAAK,OAAOK,EAAQ,KACbL,EAAS,UAAU,GAAG,IACzBA,EAAS,UAAU,GAAG,EAAK,KAAK,YAAc,QAAaA,EAAS,UAAU,KAAK,SAAS,EAAKA,EAAS,UAAU,KAAK,SAAS,EAAI,KAAK,MAG/IM,EAAWC,EAAyBD,EAAUD,EAAQ,KAAMA,EAAQ,SAClE,KAAK,UAAW,KAAK,cAAeL,EAAS,SAAS,CAC1D,CACA,YAAK,SAASI,CAAM,EAAE,SAAWE,EAE1BA,CACT,EAGA,GAAI,SAASF,EAAQL,EAASC,EAAUC,EAAQ,CAC9C,IAAII,EAAU,KAAK,GAAGD,EAAQJ,CAAQ,EACtC,OAAKK,EAIEA,EAAQ,GAAGN,EAASC,EAAUC,CAAM,EAHlC,EAIX,EAGA,GAAI,SAASF,EAASC,EAAUQ,EAAS,CACvC,IAAIC,EAAOV,EAAQA,EAAQ,OAAS,CAAC,EAErC,GAAI,CAACW,EAAQD,CAAI,EAAG,CAClBD,EAAQT,EAASC,EAAU,IAAI,EAC/B,MACF,CAEA,QAASW,EAAI,EAAGA,EAAIF,EAAK,OAAQE,IAC/BZ,EAAQ,KAAKU,EAAKE,CAAC,CAAC,EACpBH,EAAQT,EAASC,EAAU,IAAI,EAC/BD,EAAQ,IAAI,CAEhB,EAGA,EAAG,SAASa,EAAKC,EAAKb,EAAUc,EAAUC,EAAOC,EAAKC,EAAM,CAC1D,IAAIC,EAEJ,OAAIR,EAAQE,CAAG,GAAKA,EAAI,SAAW,EAC1B,IAGL,OAAOA,GAAO,aAChBA,EAAM,KAAK,GAAGA,EAAKC,EAAKb,EAAUc,EAAUC,EAAOC,EAAKC,CAAI,GAG9DC,EAAO,CAAC,CAACN,EAEL,CAACE,GAAYI,GAAQL,GACvBA,EAAI,KAAM,OAAOD,GAAO,SAAYA,EAAMC,EAAIA,EAAI,OAAS,CAAC,CAAC,EAGxDK,EACT,EAGA,EAAG,SAASC,EAAKN,EAAKb,EAAUoB,EAAa,CAC3C,IAAIC,EACAC,EAAQH,EAAI,MAAM,GAAG,EACrBP,EAAM,KAAK,EAAEU,EAAM,CAAC,EAAGT,EAAKb,EAAUoB,CAAW,EACjDG,EAAa,KAAK,QAAQ,SAC1BC,EAAK,KAET,GAAIL,IAAQ,KAAOT,EAAQG,EAAIA,EAAI,OAAS,CAAC,CAAC,EAC5CD,EAAMC,EAAIA,EAAI,OAAS,CAAC,MAExB,SAASF,EAAI,EAAGA,EAAIW,EAAM,OAAQX,IAChCU,EAAQI,EAAYH,EAAMX,CAAC,EAAGC,EAAKW,CAAU,EACzCF,IAAU,QACZG,EAAKZ,EACLA,EAAMS,GAENT,EAAM,GAKZ,OAAIQ,GAAe,CAACR,EACX,IAGL,CAACQ,GAAe,OAAOR,GAAO,aAChCC,EAAI,KAAKW,CAAE,EACXZ,EAAM,KAAK,GAAGA,EAAKC,EAAKb,CAAQ,EAChCa,EAAI,IAAI,GAGHD,EACT,EAGA,EAAG,SAASO,EAAKN,EAAKb,EAAUoB,EAAa,CAM3C,QALIR,EAAM,GACNc,EAAI,KACJL,EAAQ,GACRE,EAAa,KAAK,QAAQ,SAErBZ,EAAIE,EAAI,OAAS,EAAGF,GAAK,EAAGA,IAGnC,GAFAe,EAAIb,EAAIF,CAAC,EACTC,EAAMa,EAAYN,EAAKO,EAAGH,CAAU,EAChCX,IAAQ,OAAW,CACrBS,EAAQ,GACR,KACF,CAGF,OAAKA,GAID,CAACD,GAAe,OAAOR,GAAO,aAChCA,EAAM,KAAK,GAAGA,EAAKC,EAAKb,CAAQ,GAG3BY,GAPGQ,EAAe,GAAQ,EAQnC,EAGA,GAAI,SAASO,EAAMH,EAAIxB,EAAUJ,EAAMqB,EAAM,CAC3C,IAAIW,EAAU,KAAK,QAAQ,WAE3B,YAAK,QAAQ,WAAaX,EAC1B,KAAK,EAAE,KAAK,GAAGd,EAAewB,EAAK,KAAKH,EAAI5B,CAAI,CAAC,EAAG4B,EAAIxB,CAAQ,CAAC,EACjE,KAAK,QAAQ,WAAa4B,EAEnB,EACT,EAGA,GAAI,SAAShC,EAAM4B,EAAIxB,EAAU,CAC/B,GAAI,KAAK,QAAQ,cACf,MAAM,IAAI,MAAM,2BAA2B,EAE7C,OAAO,KAAK,EAAE,QAAQJ,EAAM,KAAK,OAAO,EAAE,OAAO4B,EAAIxB,CAAQ,CAC/D,EAGA,EAAG,SAAS6B,EAAG,CAAE,KAAK,KAAOA,CAAG,EAEhC,GAAI,UAAW,CAAE,IAAIC,EAAI,KAAK,IAAK,YAAK,IAAM,GAAWA,CAAG,EAG5D,GAAI,SAASH,EAAMd,EAAKb,EAAUc,EAAUC,EAAOC,EAAKC,EAAM,CAC5D,IAAIc,EACAP,EAAKX,EAAIA,EAAI,OAAS,CAAC,EACvBmB,EAASL,EAAK,KAAKH,CAAE,EAEzB,OAAI,OAAOQ,GAAU,WACflB,EACK,IAEPiB,EAAc,KAAK,WAAa,KAAK,UAAY,KAAK,SAAS,KAAK,SAAS,EAAK,KAAK,SAAS,KAAK,SAAS,EAAI,KAAK,KAChH,KAAK,GAAGC,EAAQR,EAAIxB,EAAU+B,EAAW,UAAUhB,EAAOC,CAAG,EAAGC,CAAI,GAIxEe,CACT,EAGA,GAAI,SAASL,EAAMd,EAAKb,EAAU,CAChC,IAAIwB,EAAKX,EAAIA,EAAI,OAAS,CAAC,EACvBmB,EAASL,EAAK,KAAKH,CAAE,EAEzB,OAAI,OAAOQ,GAAU,WACZ,KAAK,GAAG7B,EAAe6B,EAAO,KAAKR,CAAE,CAAC,EAAGA,EAAIxB,CAAQ,EAGvDgC,CACT,EAEA,IAAK,SAASC,EAAMlC,EAASC,EAAUC,EAAQ,CAC7C,IAAIiC,EAAI,KAAK,KAAKD,CAAI,EAClBC,IACF,KAAK,UAAYD,EACjBC,EAAEnC,EAASC,EAAU,KAAMC,CAAM,EACjC,KAAK,UAAY,GAErB,CAEF,EAGA,SAASwB,EAAYN,EAAKgB,EAAOZ,EAAY,CAC3C,IAAIX,EAEJ,OAAIuB,GAAS,OAAOA,GAAS,WAEvBA,EAAMhB,CAAG,IAAM,OACjBP,EAAMuB,EAAMhB,CAAG,EAGNI,GAAcY,EAAM,KAAO,OAAOA,EAAM,KAAO,aACxDvB,EAAMuB,EAAM,IAAIhB,CAAG,IAIhBP,CACT,CAEA,SAASL,EAAyB6B,EAAUC,EAAMrC,EAAUsC,EAAWC,EAAeC,EAAW,CAC/F,SAASC,GAAkB,CAAC,CAC5BA,EAAgB,UAAYL,EAC5B,SAASM,GAAgB,CAAC,CAC1BA,EAAc,UAAYN,EAAS,KACnC,IAAIjB,EACAd,EAAU,IAAIoC,EAClBpC,EAAQ,KAAO,IAAIqC,EACnBrC,EAAQ,SAAW,CAAC,EACpBA,EAAQ,IAAM,GAEdiC,EAAYA,GAAa,CAAC,EAC1BjC,EAAQ,UAAYiC,EACpBjC,EAAQ,SAAWmC,EACnB,IAAKrB,KAAOkB,EACLC,EAAUnB,CAAG,IAAGmB,EAAUnB,CAAG,EAAIkB,EAAKlB,CAAG,GAEhD,IAAKA,KAAOmB,EACVjC,EAAQ,KAAKc,CAAG,EAAImB,EAAUnB,CAAG,EAGnCoB,EAAgBA,GAAiB,CAAC,EAClClC,EAAQ,cAAgBkC,EACxB,IAAKpB,KAAOnB,EACLuC,EAAcpB,CAAG,IAAGoB,EAAcpB,CAAG,EAAInB,EAASmB,CAAG,GAE5D,IAAKA,KAAOoB,EACVlC,EAAQ,SAASc,CAAG,EAAIoB,EAAcpB,CAAG,EAG3C,OAAOd,CACT,CAEA,IAAIsC,EAAO,KACPC,EAAM,KACNC,EAAM,KACNC,EAAQ,MACRC,EAAQ,MACRC,EAAS,YAEb,SAAS7C,EAAeS,EAAK,CAC3B,OAAO,OAAQA,GAAqC,EAAQ,CAC9D,CAEA,SAASV,EAAY+C,EAAK,CACxB,OAAAA,EAAM9C,EAAe8C,CAAG,EACjBD,EAAO,KAAKC,CAAG,EACpBA,EACG,QAAQN,EAAM,OAAO,EACrB,QAAQC,EAAK,MAAM,EACnB,QAAQC,EAAK,MAAM,EACnB,QAAQC,EAAO,OAAO,EACtB,QAAQC,EAAO,QAAQ,EAC1BE,CACJ,CAEA,IAAIvC,EAAU,MAAM,SAAW,SAASwC,EAAG,CACzC,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,gBAC/C,CAEF,GAAG,OAAOzD,GAAY,IAAcA,GAAUC,EAAK,ICpVnD,IAAAyD,GAAAC,GAAA,CAAAC,GAAAC,KAAA,CAiBA,IAAIC,GAAQ,KACZA,GAAM,SAAW,KAAsB,SACvCA,GAAM,SAAWA,GAAM,SACvBD,GAAO,QAAUC,KCpBjB,IAAAC,GAAA,GAAAC,GAAAD,GAAA,oBAAAE,KCEO,GAAM,CACT,WAAYC,GACZ,QAAS,CACL,KAAM,CAAE,MAAOC,GAAQ,OAAQC,EAAQ,EACvC,KAAM,CAAE,MAAOC,EAAO,EACtB,eAAgB,CAAE,gBAAiBC,EAAiB,EAEpD,KAAMC,GACN,MAAOC,GACP,KAAMC,GACN,OAAQC,GACR,UAAWC,GACX,KAAMC,GACN,KAAMC,GACN,KAAMC,GACN,KAAMC,GACN,aAAcC,GACd,OAAQC,GACR,OAAQC,GACR,IAAKC,GACL,MAAOC,GACP,UAAWC,GACX,IAAKC,GACL,MAAOC,GACP,KAAMC,GAEN,YAAaC,GACb,aAAcC,GACd,SAAUC,GAEV,cAAeC,GACf,WAAYC,GACZ,kBAAmBC,GACnB,cAAeC,GACf,UAAWC,GACX,cAAeC,GACf,mBAAoBC,GACpB,gBAAiBC,GACjB,mBAAoBC,GACpB,cAAeC,GACf,kBAAmBC,GACnB,eAAgBC,GAChB,eAAgBC,GAChB,YAAaC,GACb,SAAUC,GACV,YAAaC,GACb,oBAAqBC,GACrB,YAAaC,GACb,WAAYC,GACZ,SAAUC,GACV,YAAaC,GACb,UAAWC,GACX,kBAAmBC,GACnB,QAASC,GACT,kBAAmBC,GACnB,aAAcC,GACd,eAAgBC,GAChB,aAAcC,GACd,oBAAqBC,GACrB,eAAgBC,GAChB,YAAaC,GACb,iBAAkBC,GAClB,SAAUC,GACV,YAAaC,GACb,UAAWC,GACX,WAAYC,GACZ,aAAcC,GACd,mBAAoBC,GACpB,mBAAoBC,GACpB,cAAeC,GAEf,YAAAC,GACA,UAAAC,GACA,SAAAC,GACA,YAAAC,GACA,WAAAC,GACA,cAAAC,GACA,cAAAC,GACA,UAAAC,GAEA,WAAYC,GACZ,WAAYC,GACZ,QAASC,EACb,EACA,SAAU,CACN,OAAAC,GACA,WAAAC,GACA,MAAAC,GACA,MAAOC,GACP,SAAUC,GACV,+BAAAC,GACA,WAAAC,GACA,WAAYC,GACZ,QAASC,GACT,UAAAC,GACA,gBAAAC,GACA,aAAcC,GACd,sBAAuBC,GACvB,kBAAAC,GACA,eAAgBC,GAChB,oBAAAC,EACJ,EACA,MAAO,CACH,iBAAAC,GACA,wBAAAC,GACA,aAAAC,GACA,WAAAC,GACA,cAAAC,GACA,YAAAC,GACA,uBAAAC,GACA,qBAAAC,GACA,KAAMC,GACN,cAAAC,GACA,WAAAC,GACA,mBAAAC,EACJ,EACA,IAAK,CAAE,KAAAC,GAAM,KAAAC,GAAM,MAAAC,EAAM,CAC7B,EAAI,GAGGC,EAAQ,GC1Hf,IAAMC,EAAWC,GAAO,OAAOA,GAAQ,SACjCC,GAAQ,IAAM,CAClB,IAAIC,EACAC,EACEC,EAAU,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/CJ,EAAMG,EACNF,EAAMG,CACR,CAAC,EACD,OAAAF,EAAQ,QAAUF,EAClBE,EAAQ,OAASD,EACVC,CACT,EACMG,GAAaC,GACbA,GAAU,KAAa,GACpB,GAAKA,EAERC,GAAO,CAACC,EAAGC,EAAGC,IAAM,CACxBF,EAAE,QAAQG,GAAK,CACTF,EAAEE,CAAC,IAAGD,EAAEC,CAAC,EAAIF,EAAEE,CAAC,EACtB,CAAC,CACH,EACMC,GAA4B,OAC5BC,GAAWC,GAAOA,GAAOA,EAAI,QAAQ,KAAK,EAAI,GAAKA,EAAI,QAAQF,GAA2B,GAAG,EAAIE,EACjGC,GAAuBT,GAAU,CAACA,GAAUT,EAASS,CAAM,EAC3DU,GAAgB,CAACV,EAAQW,EAAMC,IAAU,CAC7C,IAAMC,EAAStB,EAASoB,CAAI,EAAWA,EAAK,MAAM,GAAG,EAArBA,EAC5BG,EAAa,EACjB,KAAOA,EAAaD,EAAM,OAAS,GAAG,CACpC,GAAIJ,GAAqBT,CAAM,EAAG,MAAO,CAAC,EAC1C,IAAMQ,EAAMD,GAASM,EAAMC,CAAU,CAAC,EAClC,CAACd,EAAOQ,CAAG,GAAKI,IAAOZ,EAAOQ,CAAG,EAAI,IAAII,GACzC,OAAO,UAAU,eAAe,KAAKZ,EAAQQ,CAAG,EAClDR,EAASA,EAAOQ,CAAG,EAEnBR,EAAS,CAAC,EAEZ,EAAEc,CACJ,CACA,OAAIL,GAAqBT,CAAM,EAAU,CAAC,EACnC,CACL,IAAKA,EACL,EAAGO,GAASM,EAAMC,CAAU,CAAC,CAC/B,CACF,EACMC,GAAU,CAACf,EAAQW,EAAMK,IAAa,CAC1C,GAAM,CACJ,IAAAxB,EACA,EAAAyB,CACF,EAAIP,GAAcV,EAAQW,EAAM,MAAM,EACtC,GAAInB,IAAQ,QAAamB,EAAK,SAAW,EAAG,CAC1CnB,EAAIyB,CAAC,EAAID,EACT,MACF,CACA,IAAIE,EAAIP,EAAKA,EAAK,OAAS,CAAC,EACxBQ,EAAIR,EAAK,MAAM,EAAGA,EAAK,OAAS,CAAC,EACjCS,EAAOV,GAAcV,EAAQmB,EAAG,MAAM,EAC1C,KAAOC,EAAK,MAAQ,QAAaD,EAAE,QACjCD,EAAI,GAAGC,EAAEA,EAAE,OAAS,CAAC,CAAC,IAAID,CAAC,GAC3BC,EAAIA,EAAE,MAAM,EAAGA,EAAE,OAAS,CAAC,EAC3BC,EAAOV,GAAcV,EAAQmB,EAAG,MAAM,EAClCC,GAAM,KAAO,OAAOA,EAAK,IAAI,GAAGA,EAAK,CAAC,IAAIF,CAAC,EAAE,EAAM,MACrDE,EAAK,IAAM,QAGfA,EAAK,IAAI,GAAGA,EAAK,CAAC,IAAIF,CAAC,EAAE,EAAIF,CAC/B,EACMK,GAAW,CAACrB,EAAQW,EAAMK,EAAUM,IAAW,CACnD,GAAM,CACJ,IAAA9B,EACA,EAAAyB,CACF,EAAIP,GAAcV,EAAQW,EAAM,MAAM,EACtCnB,EAAIyB,CAAC,EAAIzB,EAAIyB,CAAC,GAAK,CAAC,EACpBzB,EAAIyB,CAAC,EAAE,KAAKD,CAAQ,CACtB,EACMO,GAAU,CAACvB,EAAQW,IAAS,CAChC,GAAM,CACJ,IAAAnB,EACA,EAAAyB,CACF,EAAIP,GAAcV,EAAQW,CAAI,EAC9B,GAAKnB,GACA,OAAO,UAAU,eAAe,KAAKA,EAAKyB,CAAC,EAChD,OAAOzB,EAAIyB,CAAC,CACd,EACMO,GAAsB,CAACC,EAAMC,EAAalB,IAAQ,CACtD,IAAMmB,EAAQJ,GAAQE,EAAMjB,CAAG,EAC/B,OAAImB,IAAU,OACLA,EAEFJ,GAAQG,EAAalB,CAAG,CACjC,EACMoB,GAAa,CAACC,EAAQC,EAAQC,IAAc,CAChD,QAAWC,KAAQF,EACbE,IAAS,aAAeA,IAAS,gBAC/BA,KAAQH,EACNtC,EAASsC,EAAOG,CAAI,CAAC,GAAKH,EAAOG,CAAI,YAAa,QAAUzC,EAASuC,EAAOE,CAAI,CAAC,GAAKF,EAAOE,CAAI,YAAa,OAC5GD,IAAWF,EAAOG,CAAI,EAAIF,EAAOE,CAAI,GAEzCJ,GAAWC,EAAOG,CAAI,EAAGF,EAAOE,CAAI,EAAGD,CAAS,EAGlDF,EAAOG,CAAI,EAAIF,EAAOE,CAAI,GAIhC,OAAOH,CACT,EACMI,GAAcC,GAAOA,EAAI,QAAQ,sCAAuC,MAAM,EAChFC,GAAa,CACf,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,QACP,EACMC,GAASX,GACTlC,EAASkC,CAAI,EACRA,EAAK,QAAQ,aAActB,GAAKgC,GAAWhC,CAAC,CAAC,EAE/CsB,EAEHY,GAAN,KAAkB,CAChB,YAAYC,EAAU,CACpB,KAAK,SAAWA,EAChB,KAAK,UAAY,IAAI,IACrB,KAAK,YAAc,CAAC,CACtB,CACA,UAAUC,EAAS,CACjB,IAAMC,EAAkB,KAAK,UAAU,IAAID,CAAO,EAClD,GAAIC,IAAoB,OACtB,OAAOA,EAET,IAAMC,EAAY,IAAI,OAAOF,CAAO,EACpC,OAAI,KAAK,YAAY,SAAW,KAAK,UACnC,KAAK,UAAU,OAAO,KAAK,YAAY,MAAM,CAAC,EAEhD,KAAK,UAAU,IAAIA,EAASE,CAAS,EACrC,KAAK,YAAY,KAAKF,CAAO,EACtBE,CACT,CACF,EACMC,GAAQ,CAAC,IAAK,IAAK,IAAK,IAAK,GAAG,EAChCC,GAAiC,IAAIN,GAAY,EAAE,EACnDO,GAAsB,CAACpC,EAAKqC,EAAaC,IAAiB,CAC9DD,EAAcA,GAAe,GAC7BC,EAAeA,GAAgB,GAC/B,IAAMC,EAAgBL,GAAM,OAAOM,GAAKH,EAAY,QAAQG,CAAC,EAAI,GAAKF,EAAa,QAAQE,CAAC,EAAI,CAAC,EACjG,GAAID,EAAc,SAAW,EAAG,MAAO,GACvC,IAAME,EAAIN,GAA+B,UAAU,IAAII,EAAc,IAAIC,GAAKA,IAAM,IAAM,MAAQA,CAAC,EAAE,KAAK,GAAG,CAAC,GAAG,EAC7GE,EAAU,CAACD,EAAE,KAAKzC,CAAG,EACzB,GAAI,CAAC0C,EAAS,CACZ,IAAMC,EAAK3C,EAAI,QAAQsC,CAAY,EAC/BK,EAAK,GAAK,CAACF,EAAE,KAAKzC,EAAI,UAAU,EAAG2C,CAAE,CAAC,IACxCD,EAAU,GAEd,CACA,OAAOA,CACT,EACME,GAAW,CAAC5D,EAAKmB,EAAMmC,EAAe,MAAQ,CAClD,GAAI,CAACtD,EAAK,OACV,GAAIA,EAAImB,CAAI,EACV,OAAK,OAAO,UAAU,eAAe,KAAKnB,EAAKmB,CAAI,EAC5CnB,EAAImB,CAAI,EADuC,OAGxD,IAAM0C,EAAS1C,EAAK,MAAMmC,CAAY,EAClCQ,EAAU9D,EACd,QAAS+D,EAAI,EAAGA,EAAIF,EAAO,QAAS,CAClC,GAAI,CAACC,GAAW,OAAOA,GAAY,SACjC,OAEF,IAAIE,EACAC,EAAW,GACf,QAASC,EAAIH,EAAGG,EAAIL,EAAO,OAAQ,EAAEK,EAMnC,GALIA,IAAMH,IACRE,GAAYX,GAEdW,GAAYJ,EAAOK,CAAC,EACpBF,EAAOF,EAAQG,CAAQ,EACnBD,IAAS,OAAW,CACtB,GAAI,CAAC,SAAU,SAAU,SAAS,EAAE,QAAQ,OAAOA,CAAI,EAAI,IAAME,EAAIL,EAAO,OAAS,EACnF,SAEFE,GAAKG,EAAIH,EAAI,EACb,KACF,CAEFD,EAAUE,CACZ,CACA,OAAOF,CACT,EACMK,GAAiBC,GAAQA,GAAM,QAAQ,IAAK,GAAG,EAE/CC,GAAgB,CACpB,KAAM,SACN,IAAIC,EAAM,CACR,KAAK,OAAO,MAAOA,CAAI,CACzB,EACA,KAAKA,EAAM,CACT,KAAK,OAAO,OAAQA,CAAI,CAC1B,EACA,MAAMA,EAAM,CACV,KAAK,OAAO,QAASA,CAAI,CAC3B,EACA,OAAOC,EAAMD,EAAM,CACjB,UAAUC,CAAI,GAAG,QAAQ,QAASD,CAAI,CACxC,CACF,EACME,GAAN,MAAMC,CAAO,CACX,YAAYC,EAAgBC,EAAU,CAAC,EAAG,CACxC,KAAK,KAAKD,EAAgBC,CAAO,CACnC,CACA,KAAKD,EAAgBC,EAAU,CAAC,EAAG,CACjC,KAAK,OAASA,EAAQ,QAAU,WAChC,KAAK,OAASD,GAAkBL,GAChC,KAAK,QAAUM,EACf,KAAK,MAAQA,EAAQ,KACvB,CACA,OAAOL,EAAM,CACX,OAAO,KAAK,QAAQA,EAAM,MAAO,GAAI,EAAI,CAC3C,CACA,QAAQA,EAAM,CACZ,OAAO,KAAK,QAAQA,EAAM,OAAQ,GAAI,EAAI,CAC5C,CACA,SAASA,EAAM,CACb,OAAO,KAAK,QAAQA,EAAM,QAAS,EAAE,CACvC,CACA,aAAaA,EAAM,CACjB,OAAO,KAAK,QAAQA,EAAM,OAAQ,uBAAwB,EAAI,CAChE,CACA,QAAQA,EAAMM,EAAKC,EAAQC,EAAW,CACpC,OAAIA,GAAa,CAAC,KAAK,MAAc,MACjC/E,EAASuE,EAAK,CAAC,CAAC,IAAGA,EAAK,CAAC,EAAI,GAAGO,CAAM,GAAG,KAAK,MAAM,IAAIP,EAAK,CAAC,CAAC,IAC5D,KAAK,OAAOM,CAAG,EAAEN,CAAI,EAC9B,CACA,OAAOS,EAAY,CACjB,OAAO,IAAIN,EAAO,KAAK,OAAQ,CAE3B,OAAQ,GAAG,KAAK,MAAM,IAAIM,CAAU,IAEtC,GAAG,KAAK,OACV,CAAC,CACH,CACA,MAAMJ,EAAS,CACb,OAAAA,EAAUA,GAAW,KAAK,QAC1BA,EAAQ,OAASA,EAAQ,QAAU,KAAK,OACjC,IAAIF,EAAO,KAAK,OAAQE,CAAO,CACxC,CACF,EACIK,EAAa,IAAIR,GAEfS,GAAN,KAAmB,CACjB,aAAc,CACZ,KAAK,UAAY,CAAC,CACpB,CACA,GAAGC,EAAQC,EAAU,CACnB,OAAAD,EAAO,MAAM,GAAG,EAAE,QAAQE,GAAS,CAC5B,KAAK,UAAUA,CAAK,IAAG,KAAK,UAAUA,CAAK,EAAI,IAAI,KACxD,IAAMC,EAAe,KAAK,UAAUD,CAAK,EAAE,IAAID,CAAQ,GAAK,EAC5D,KAAK,UAAUC,CAAK,EAAE,IAAID,EAAUE,EAAe,CAAC,CACtD,CAAC,EACM,IACT,CACA,IAAID,EAAOD,EAAU,CACnB,GAAK,KAAK,UAAUC,CAAK,EACzB,IAAI,CAACD,EAAU,CACb,OAAO,KAAK,UAAUC,CAAK,EAC3B,MACF,CACA,KAAK,UAAUA,CAAK,EAAE,OAAOD,CAAQ,EACvC,CACA,KAAKC,KAAUd,EAAM,CACf,KAAK,UAAUc,CAAK,GACP,MAAM,KAAK,KAAK,UAAUA,CAAK,EAAE,QAAQ,CAAC,EAClD,QAAQ,CAAC,CAACE,EAAUC,CAAa,IAAM,CAC5C,QAASxB,EAAI,EAAGA,EAAIwB,EAAexB,IACjCuB,EAAS,GAAGhB,CAAI,CAEpB,CAAC,EAEC,KAAK,UAAU,GAAG,GACL,MAAM,KAAK,KAAK,UAAU,GAAG,EAAE,QAAQ,CAAC,EAChD,QAAQ,CAAC,CAACgB,EAAUC,CAAa,IAAM,CAC5C,QAASxB,EAAI,EAAGA,EAAIwB,EAAexB,IACjCuB,EAAS,MAAMA,EAAU,CAACF,EAAO,GAAGd,CAAI,CAAC,CAE7C,CAAC,CAEL,CACF,EAEMkB,GAAN,cAA4BP,EAAa,CACvC,YAAYhD,EAAM0C,EAAU,CAC1B,GAAI,CAAC,aAAa,EAClB,UAAW,aACb,EAAG,CACD,MAAM,EACN,KAAK,KAAO1C,GAAQ,CAAC,EACrB,KAAK,QAAU0C,EACX,KAAK,QAAQ,eAAiB,SAChC,KAAK,QAAQ,aAAe,KAE1B,KAAK,QAAQ,sBAAwB,SACvC,KAAK,QAAQ,oBAAsB,GAEvC,CACA,cAAcc,EAAI,CACZ,KAAK,QAAQ,GAAG,QAAQA,CAAE,EAAI,GAChC,KAAK,QAAQ,GAAG,KAAKA,CAAE,CAE3B,CACA,iBAAiBA,EAAI,CACnB,IAAMC,EAAQ,KAAK,QAAQ,GAAG,QAAQD,CAAE,EACpCC,EAAQ,IACV,KAAK,QAAQ,GAAG,OAAOA,EAAO,CAAC,CAEnC,CACA,YAAYC,EAAKF,EAAIzE,EAAK2D,EAAU,CAAC,EAAG,CACtC,IAAMrB,EAAeqB,EAAQ,eAAiB,OAAYA,EAAQ,aAAe,KAAK,QAAQ,aACxFiB,EAAsBjB,EAAQ,sBAAwB,OAAYA,EAAQ,oBAAsB,KAAK,QAAQ,oBAC/GxD,EACAwE,EAAI,QAAQ,GAAG,EAAI,GACrBxE,EAAOwE,EAAI,MAAM,GAAG,GAEpBxE,EAAO,CAACwE,EAAKF,CAAE,EACXzE,IACE,MAAM,QAAQA,CAAG,EACnBG,EAAK,KAAK,GAAGH,CAAG,EACPjB,EAASiB,CAAG,GAAKsC,EAC1BnC,EAAK,KAAK,GAAGH,EAAI,MAAMsC,CAAY,CAAC,EAEpCnC,EAAK,KAAKH,CAAG,IAInB,IAAM6E,EAAS9D,GAAQ,KAAK,KAAMZ,CAAI,EAMtC,MALI,CAAC0E,GAAU,CAACJ,GAAM,CAACzE,GAAO2E,EAAI,QAAQ,GAAG,EAAI,KAC/CA,EAAMxE,EAAK,CAAC,EACZsE,EAAKtE,EAAK,CAAC,EACXH,EAAMG,EAAK,MAAM,CAAC,EAAE,KAAK,GAAG,GAE1B0E,GAAU,CAACD,GAAuB,CAAC7F,EAASiB,CAAG,EAAU6E,EACtDjC,GAAS,KAAK,OAAO+B,CAAG,IAAIF,CAAE,EAAGzE,EAAKsC,CAAY,CAC3D,CACA,YAAYqC,EAAKF,EAAIzE,EAAKmB,EAAOwC,EAAU,CACzC,OAAQ,EACV,EAAG,CACD,IAAMrB,EAAeqB,EAAQ,eAAiB,OAAYA,EAAQ,aAAe,KAAK,QAAQ,aAC1FxD,EAAO,CAACwE,EAAKF,CAAE,EACfzE,IAAKG,EAAOA,EAAK,OAAOmC,EAAetC,EAAI,MAAMsC,CAAY,EAAItC,CAAG,GACpE2E,EAAI,QAAQ,GAAG,EAAI,KACrBxE,EAAOwE,EAAI,MAAM,GAAG,EACpBxD,EAAQsD,EACRA,EAAKtE,EAAK,CAAC,GAEb,KAAK,cAAcsE,CAAE,EACrBlE,GAAQ,KAAK,KAAMJ,EAAMgB,CAAK,EACzBwC,EAAQ,QAAQ,KAAK,KAAK,QAASgB,EAAKF,EAAIzE,EAAKmB,CAAK,CAC7D,CACA,aAAawD,EAAKF,EAAIK,EAAWnB,EAAU,CACzC,OAAQ,EACV,EAAG,CACD,QAAW9D,KAAKiF,GACV/F,EAAS+F,EAAUjF,CAAC,CAAC,GAAK,MAAM,QAAQiF,EAAUjF,CAAC,CAAC,IAAG,KAAK,YAAY8E,EAAKF,EAAI5E,EAAGiF,EAAUjF,CAAC,EAAG,CACpG,OAAQ,EACV,CAAC,EAEE8D,EAAQ,QAAQ,KAAK,KAAK,QAASgB,EAAKF,EAAIK,CAAS,CAC5D,CACA,kBAAkBH,EAAKF,EAAIK,EAAWC,EAAMxD,EAAWoC,EAAU,CAC/D,OAAQ,GACR,SAAU,EACZ,EAAG,CACD,IAAIxD,EAAO,CAACwE,EAAKF,CAAE,EACfE,EAAI,QAAQ,GAAG,EAAI,KACrBxE,EAAOwE,EAAI,MAAM,GAAG,EACpBI,EAAOD,EACPA,EAAYL,EACZA,EAAKtE,EAAK,CAAC,GAEb,KAAK,cAAcsE,CAAE,EACrB,IAAIO,EAAOjE,GAAQ,KAAK,KAAMZ,CAAI,GAAK,CAAC,EACnCwD,EAAQ,WAAUmB,EAAY,KAAK,MAAM,KAAK,UAAUA,CAAS,CAAC,GACnEC,EACF3D,GAAW4D,EAAMF,EAAWvD,CAAS,EAErCyD,EAAO,CACL,GAAGA,EACH,GAAGF,CACL,EAEFvE,GAAQ,KAAK,KAAMJ,EAAM6E,CAAI,EACxBrB,EAAQ,QAAQ,KAAK,KAAK,QAASgB,EAAKF,EAAIK,CAAS,CAC5D,CACA,qBAAqBH,EAAKF,EAAI,CACxB,KAAK,kBAAkBE,EAAKF,CAAE,GAChC,OAAO,KAAK,KAAKE,CAAG,EAAEF,CAAE,EAE1B,KAAK,iBAAiBA,CAAE,EACxB,KAAK,KAAK,UAAWE,EAAKF,CAAE,CAC9B,CACA,kBAAkBE,EAAKF,EAAI,CACzB,OAAO,KAAK,YAAYE,EAAKF,CAAE,IAAM,MACvC,CACA,kBAAkBE,EAAKF,EAAI,CACzB,OAAKA,IAAIA,EAAK,KAAK,QAAQ,WACpB,KAAK,YAAYE,EAAKF,CAAE,CACjC,CACA,kBAAkBE,EAAK,CACrB,OAAO,KAAK,KAAKA,CAAG,CACtB,CACA,4BAA4BA,EAAK,CAC/B,IAAM1D,EAAO,KAAK,kBAAkB0D,CAAG,EAEvC,MAAO,CAAC,EADE1D,GAAQ,OAAO,KAAKA,CAAI,GAAK,CAAC,GAC7B,KAAKgE,GAAKhE,EAAKgE,CAAC,GAAK,OAAO,KAAKhE,EAAKgE,CAAC,CAAC,EAAE,OAAS,CAAC,CACjE,CACA,QAAS,CACP,OAAO,KAAK,IACd,CACF,EAEIC,GAAgB,CAClB,WAAY,CAAC,EACb,iBAAiBC,EAAQ,CACvB,KAAK,WAAWA,EAAO,IAAI,EAAIA,CACjC,EACA,OAAOC,EAAYjE,EAAOnB,EAAK2D,EAAS0B,EAAY,CAClD,OAAAD,EAAW,QAAQE,GAAa,CAC9BnE,EAAQ,KAAK,WAAWmE,CAAS,GAAG,QAAQnE,EAAOnB,EAAK2D,EAAS0B,CAAU,GAAKlE,CAClF,CAAC,EACMA,CACT,CACF,EAEMoE,GAAW,OAAO,kBAAkB,EAC1C,SAASC,IAAc,CACrB,IAAMC,EAAQ,CAAC,EACTC,EAAU,OAAO,OAAO,IAAI,EAC9BC,EACJ,OAAAD,EAAQ,IAAM,CAACrE,EAAQrB,KACrB2F,GAAO,SAAS,EACZ3F,IAAQuF,GAAiBE,GAC7BA,EAAM,KAAKzF,CAAG,EACd2F,EAAQ,MAAM,UAAUtE,EAAQqE,CAAO,EAChCC,EAAM,QAER,MAAM,UAAU,OAAO,OAAO,IAAI,EAAGD,CAAO,EAAE,KACvD,CACA,SAASE,GAAiBC,EAAUC,EAAM,CACxC,GAAM,CACJ,CAACP,EAAQ,EAAGpF,CACd,EAAI0F,EAASL,GAAY,CAAC,EAC1B,OAAOrF,EAAK,KAAK2F,GAAM,cAAgB,GAAG,CAC5C,CAEA,IAAMC,GAAmB,CAAC,EACpBC,GAAuB9G,GAAO,CAACH,EAASG,CAAG,GAAK,OAAOA,GAAQ,WAAa,OAAOA,GAAQ,SAC3F+G,GAAN,MAAMC,UAAmBjC,EAAa,CACpC,YAAYkC,EAAUxC,EAAU,CAAC,EAAG,CAClC,MAAM,EACNlE,GAAK,CAAC,gBAAiB,gBAAiB,iBAAkB,eAAgB,mBAAoB,aAAc,OAAO,EAAG0G,EAAU,IAAI,EACpI,KAAK,QAAUxC,EACX,KAAK,QAAQ,eAAiB,SAChC,KAAK,QAAQ,aAAe,KAE9B,KAAK,OAASK,EAAW,OAAO,YAAY,CAC9C,CACA,eAAeW,EAAK,CACdA,IAAK,KAAK,SAAWA,EAC3B,CACA,OAAO3E,EAAKoG,EAAI,CACd,cAAe,CAAC,CAClB,EAAG,CACD,IAAMC,EAAM,CACV,GAAGD,CACL,EACA,GAAIpG,GAAO,KAAM,MAAO,GACxB,IAAMsG,EAAW,KAAK,QAAQtG,EAAKqG,CAAG,EACtC,GAAIC,GAAU,MAAQ,OAAW,MAAO,GACxC,IAAMC,EAAWP,GAAqBM,EAAS,GAAG,EAClD,MAAI,EAAAD,EAAI,gBAAkB,IAASE,EAIrC,CACA,eAAevG,EAAKqG,EAAK,CACvB,IAAIhE,EAAcgE,EAAI,cAAgB,OAAYA,EAAI,YAAc,KAAK,QAAQ,YAC7EhE,IAAgB,SAAWA,EAAc,KAC7C,IAAMC,EAAe+D,EAAI,eAAiB,OAAYA,EAAI,aAAe,KAAK,QAAQ,aAClFG,EAAaH,EAAI,IAAM,KAAK,QAAQ,WAAa,CAAC,EAChDI,EAAuBpE,GAAerC,EAAI,QAAQqC,CAAW,EAAI,GACjEqE,EAAuB,CAAC,KAAK,QAAQ,yBAA2B,CAACL,EAAI,cAAgB,CAAC,KAAK,QAAQ,wBAA0B,CAACA,EAAI,aAAe,CAACjE,GAAoBpC,EAAKqC,EAAaC,CAAY,EAC1M,GAAImE,GAAwB,CAACC,EAAsB,CACjD,IAAM7G,EAAIG,EAAI,MAAM,KAAK,aAAa,aAAa,EACnD,GAAIH,GAAKA,EAAE,OAAS,EAClB,MAAO,CACL,IAAAG,EACA,WAAYjB,EAASyH,CAAU,EAAI,CAACA,CAAU,EAAIA,CACpD,EAEF,IAAMG,EAAQ3G,EAAI,MAAMqC,CAAW,GAC/BA,IAAgBC,GAAgBD,IAAgBC,GAAgB,KAAK,QAAQ,GAAG,QAAQqE,EAAM,CAAC,CAAC,EAAI,MAAIH,EAAaG,EAAM,MAAM,GACrI3G,EAAM2G,EAAM,KAAKrE,CAAY,CAC/B,CACA,MAAO,CACL,IAAAtC,EACA,WAAYjB,EAASyH,CAAU,EAAI,CAACA,CAAU,EAAIA,CACpD,CACF,CACA,UAAUI,EAAMR,EAAGS,EAAS,CAC1B,IAAIR,EAAM,OAAOD,GAAM,SAAW,CAChC,GAAGA,CACL,EAAIA,EAQJ,GAPI,OAAOC,GAAQ,UAAY,KAAK,QAAQ,mCAC1CA,EAAM,KAAK,QAAQ,iCAAiC,SAAS,GAE3D,OAAOA,GAAQ,WAAUA,EAAM,CACjC,GAAGA,CACL,GACKA,IAAKA,EAAM,CAAC,GACbO,GAAQ,KAAM,MAAO,GACrB,OAAOA,GAAS,aAAYA,EAAOhB,GAAiBgB,EAAM,CAC5D,GAAG,KAAK,QACR,GAAGP,CACL,CAAC,GACI,MAAM,QAAQO,CAAI,IAAGA,EAAO,CAAC,OAAOA,CAAI,CAAC,GAC9C,IAAME,EAAgBT,EAAI,gBAAkB,OAAYA,EAAI,cAAgB,KAAK,QAAQ,cACnF/D,EAAe+D,EAAI,eAAiB,OAAYA,EAAI,aAAe,KAAK,QAAQ,aAChF,CACJ,IAAArG,EACA,WAAAwG,CACF,EAAI,KAAK,eAAeI,EAAKA,EAAK,OAAS,CAAC,EAAGP,CAAG,EAC5CU,EAAYP,EAAWA,EAAW,OAAS,CAAC,EAC9CnE,EAAcgE,EAAI,cAAgB,OAAYA,EAAI,YAAc,KAAK,QAAQ,YAC7EhE,IAAgB,SAAWA,EAAc,KAC7C,IAAMsC,EAAM0B,EAAI,KAAO,KAAK,SACtBW,EAA0BX,EAAI,yBAA2B,KAAK,QAAQ,wBAC5E,GAAI1B,GAAK,YAAY,IAAM,SACzB,OAAIqC,EACEF,EACK,CACL,IAAK,GAAGC,CAAS,GAAG1E,CAAW,GAAGrC,CAAG,GACrC,QAASA,EACT,aAAcA,EACd,QAAS2E,EACT,OAAQoC,EACR,WAAY,KAAK,qBAAqBV,CAAG,CAC3C,EAEK,GAAGU,CAAS,GAAG1E,CAAW,GAAGrC,CAAG,GAErC8G,EACK,CACL,IAAK9G,EACL,QAASA,EACT,aAAcA,EACd,QAAS2E,EACT,OAAQoC,EACR,WAAY,KAAK,qBAAqBV,CAAG,CAC3C,EAEKrG,EAET,IAAMsG,EAAW,KAAK,QAAQM,EAAMP,CAAG,EACnCnH,EAAMoH,GAAU,IACdW,EAAaX,GAAU,SAAWtG,EAClCkH,EAAkBZ,GAAU,cAAgBtG,EAC5CmH,EAAW,CAAC,kBAAmB,oBAAqB,iBAAiB,EACrEC,EAAaf,EAAI,aAAe,OAAYA,EAAI,WAAa,KAAK,QAAQ,WAC1EgB,EAA6B,CAAC,KAAK,YAAc,KAAK,WAAW,eACjEC,EAAsBjB,EAAI,QAAU,QAAa,CAACtH,EAASsH,EAAI,KAAK,EACpEkB,EAAkBrB,EAAW,gBAAgBG,CAAG,EAChDmB,EAAqBF,EAAsB,KAAK,eAAe,UAAU3C,EAAK0B,EAAI,MAAOA,CAAG,EAAI,GAChGoB,EAAoCpB,EAAI,SAAWiB,EAAsB,KAAK,eAAe,UAAU3C,EAAK0B,EAAI,MAAO,CAC3H,QAAS,EACX,CAAC,EAAI,GACCqB,EAAwBJ,GAAuB,CAACjB,EAAI,SAAWA,EAAI,QAAU,EAC7EsB,EAAeD,GAAyBrB,EAAI,eAAe,KAAK,QAAQ,eAAe,MAAM,GAAKA,EAAI,eAAemB,CAAkB,EAAE,GAAKnB,EAAI,eAAeoB,CAAiC,EAAE,GAAKpB,EAAI,aAC/MuB,EAAgB1I,EAChBmI,GAA8B,CAACnI,GAAOqI,IACxCK,EAAgBD,GAElB,IAAME,EAAiB7B,GAAqB4B,CAAa,EACnDE,EAAU,OAAO,UAAU,SAAS,MAAMF,CAAa,EAC7D,GAAIP,GAA8BO,GAAiBC,GAAkBV,EAAS,QAAQW,CAAO,EAAI,GAAK,EAAE/I,EAASqI,CAAU,GAAK,MAAM,QAAQQ,CAAa,GAAI,CAC7J,GAAI,CAACvB,EAAI,eAAiB,CAAC,KAAK,QAAQ,cAAe,CAChD,KAAK,QAAQ,uBAChB,KAAK,OAAO,KAAK,iEAAiE,EAEpF,IAAM5D,EAAI,KAAK,QAAQ,sBAAwB,KAAK,QAAQ,sBAAsBwE,EAAYW,EAAe,CAC3G,GAAGvB,EACH,GAAIG,CACN,CAAC,EAAI,QAAQxG,CAAG,KAAK,KAAK,QAAQ,2CAClC,OAAI8G,GACFR,EAAS,IAAM7D,EACf6D,EAAS,WAAa,KAAK,qBAAqBD,CAAG,EAC5CC,GAEF7D,CACT,CACA,GAAIH,EAAc,CAChB,IAAMyF,EAAiB,MAAM,QAAQH,CAAa,EAC5CnI,EAAOsI,EAAiB,CAAC,EAAI,CAAC,EAC9BC,EAAcD,EAAiBb,EAAkBD,EACvD,QAAWpH,KAAK+H,EACd,GAAI,OAAO,UAAU,eAAe,KAAKA,EAAe/H,CAAC,EAAG,CAC1D,IAAMoI,EAAU,GAAGD,CAAW,GAAG1F,CAAY,GAAGzC,CAAC,GAC7C0H,GAAmB,CAACrI,EACtBO,EAAKI,CAAC,EAAI,KAAK,UAAUoI,EAAS,CAChC,GAAG5B,EACH,aAAcL,GAAqB2B,CAAY,EAAIA,EAAa9H,CAAC,EAAI,OAEnE,WAAY,GACZ,GAAI2G,CAER,CAAC,EAED/G,EAAKI,CAAC,EAAI,KAAK,UAAUoI,EAAS,CAChC,GAAG5B,EAED,WAAY,GACZ,GAAIG,CAER,CAAC,EAEC/G,EAAKI,CAAC,IAAMoI,IAASxI,EAAKI,CAAC,EAAI+H,EAAc/H,CAAC,EACpD,CAEFX,EAAMO,CACR,CACF,SAAW4H,GAA8BtI,EAASqI,CAAU,GAAK,MAAM,QAAQlI,CAAG,EAChFA,EAAMA,EAAI,KAAKkI,CAAU,EACrBlI,IAAKA,EAAM,KAAK,kBAAkBA,EAAK0H,EAAMP,EAAKQ,CAAO,OACxD,CACL,IAAIqB,EAAc,GACdC,EAAU,GACV,CAAC,KAAK,cAAcjJ,CAAG,GAAKqI,IAC9BW,EAAc,GACdhJ,EAAMyI,GAEH,KAAK,cAAczI,CAAG,IACzBiJ,EAAU,GACVjJ,EAAMc,GAGR,IAAMoI,GADiC/B,EAAI,gCAAkC,KAAK,QAAQ,iCAClC8B,EAAU,OAAYjJ,EACxEmJ,EAAgBd,GAAmBI,IAAiBzI,GAAO,KAAK,QAAQ,cAC9E,GAAIiJ,GAAWD,GAAeG,EAAe,CAE3C,GADA,KAAK,OAAO,IAAIA,EAAgB,YAAc,aAAc1D,EAAKoC,EAAW/G,EAAKqI,EAAgBV,EAAezI,CAAG,EAC/GoD,EAAc,CAChB,IAAMgG,EAAK,KAAK,QAAQtI,EAAK,CAC3B,GAAGqG,EACH,aAAc,EAChB,CAAC,EACGiC,GAAMA,EAAG,KAAK,KAAK,OAAO,KAAK,iLAAiL,CACtN,CACA,IAAIC,EAAO,CAAC,EACNC,EAAe,KAAK,cAAc,iBAAiB,KAAK,QAAQ,YAAanC,EAAI,KAAO,KAAK,QAAQ,EAC3G,GAAI,KAAK,QAAQ,gBAAkB,YAAcmC,GAAgBA,EAAa,CAAC,EAC7E,QAASzF,EAAI,EAAGA,EAAIyF,EAAa,OAAQzF,IACvCwF,EAAK,KAAKC,EAAazF,CAAC,CAAC,OAElB,KAAK,QAAQ,gBAAkB,MACxCwF,EAAO,KAAK,cAAc,mBAAmBlC,EAAI,KAAO,KAAK,QAAQ,EAErEkC,EAAK,KAAKlC,EAAI,KAAO,KAAK,QAAQ,EAEpC,IAAMoC,EAAO,CAACC,EAAGjI,EAAGkI,IAAyB,CAC3C,IAAMC,GAAoBrB,GAAmBoB,IAAyBzJ,EAAMyJ,EAAuBP,EAC/F,KAAK,QAAQ,kBACf,KAAK,QAAQ,kBAAkBM,EAAG3B,EAAWtG,EAAGmI,GAAmBP,EAAehC,CAAG,EAC5E,KAAK,kBAAkB,aAChC,KAAK,iBAAiB,YAAYqC,EAAG3B,EAAWtG,EAAGmI,GAAmBP,EAAehC,CAAG,EAE1F,KAAK,KAAK,aAAcqC,EAAG3B,EAAWtG,EAAGvB,CAAG,CAC9C,EACI,KAAK,QAAQ,cACX,KAAK,QAAQ,oBAAsBoI,EACrCiB,EAAK,QAAQM,GAAY,CACvB,IAAMC,EAAW,KAAK,eAAe,YAAYD,EAAUxC,CAAG,EAC1DqB,GAAyBrB,EAAI,eAAe,KAAK,QAAQ,eAAe,MAAM,GAAKyC,EAAS,QAAQ,GAAG,KAAK,QAAQ,eAAe,MAAM,EAAI,GAC/IA,EAAS,KAAK,GAAG,KAAK,QAAQ,eAAe,MAAM,EAErDA,EAAS,QAAQC,GAAU,CACzBN,EAAK,CAACI,CAAQ,EAAG7I,EAAM+I,EAAQ1C,EAAI,eAAe0C,CAAM,EAAE,GAAKpB,CAAY,CAC7E,CAAC,CACH,CAAC,EAEDc,EAAKF,EAAMvI,EAAK2H,CAAY,EAGlC,CACAzI,EAAM,KAAK,kBAAkBA,EAAK0H,EAAMP,EAAKC,EAAUO,CAAO,EAC1DsB,GAAWjJ,IAAQc,GAAO,KAAK,QAAQ,8BACzCd,EAAM,GAAG6H,CAAS,GAAG1E,CAAW,GAAGrC,CAAG,KAEnCmI,GAAWD,IAAgB,KAAK,QAAQ,yBAC3ChJ,EAAM,KAAK,QAAQ,uBAAuB,KAAK,QAAQ,4BAA8B,GAAG6H,CAAS,GAAG1E,CAAW,GAAGrC,CAAG,GAAKA,EAAKkI,EAAchJ,EAAM,OAAWmH,CAAG,EAErK,CACA,OAAIS,GACFR,EAAS,IAAMpH,EACfoH,EAAS,WAAa,KAAK,qBAAqBD,CAAG,EAC5CC,GAEFpH,CACT,CACA,kBAAkBA,EAAKc,EAAKqG,EAAKC,EAAUO,EAAS,CAClD,GAAI,KAAK,YAAY,MACnB3H,EAAM,KAAK,WAAW,MAAMA,EAAK,CAC/B,GAAG,KAAK,QAAQ,cAAc,iBAC9B,GAAGmH,CACL,EAAGA,EAAI,KAAO,KAAK,UAAYC,EAAS,QAASA,EAAS,OAAQA,EAAS,QAAS,CAClF,SAAAA,CACF,CAAC,UACQ,CAACD,EAAI,kBAAmB,CAC7BA,EAAI,eAAe,KAAK,aAAa,KAAK,CAC5C,GAAGA,EAED,cAAe,CACb,GAAG,KAAK,QAAQ,cAChB,GAAGA,EAAI,aACT,CAEJ,CAAC,EACD,IAAM2C,EAAkBjK,EAASG,CAAG,IAAMmH,GAAK,eAAe,kBAAoB,OAAYA,EAAI,cAAc,gBAAkB,KAAK,QAAQ,cAAc,iBACzJ4C,EACJ,GAAID,EAAiB,CACnB,IAAME,EAAKhK,EAAI,MAAM,KAAK,aAAa,aAAa,EACpD+J,EAAUC,GAAMA,EAAG,MACrB,CACA,IAAIjI,EAAOoF,EAAI,SAAW,CAACtH,EAASsH,EAAI,OAAO,EAAIA,EAAI,QAAUA,EAMjE,GALI,KAAK,QAAQ,cAAc,mBAAkBpF,EAAO,CACtD,GAAG,KAAK,QAAQ,cAAc,iBAC9B,GAAGA,CACL,GACA/B,EAAM,KAAK,aAAa,YAAYA,EAAK+B,EAAMoF,EAAI,KAAO,KAAK,UAAYC,EAAS,QAASD,CAAG,EAC5F2C,EAAiB,CACnB,IAAMG,EAAKjK,EAAI,MAAM,KAAK,aAAa,aAAa,EAC9CkK,EAAUD,GAAMA,EAAG,OACrBF,EAAUG,IAAS/C,EAAI,KAAO,GACpC,CACI,CAACA,EAAI,KAAOC,GAAYA,EAAS,MAAKD,EAAI,IAAM,KAAK,UAAYC,EAAS,SAC1ED,EAAI,OAAS,KAAOnH,EAAM,KAAK,aAAa,KAAKA,EAAK,IAAIoE,IACxDuD,IAAU,CAAC,IAAMvD,EAAK,CAAC,GAAK,CAAC+C,EAAI,SACnC,KAAK,OAAO,KAAK,6CAA6C/C,EAAK,CAAC,CAAC,YAAYtD,EAAI,CAAC,CAAC,EAAE,EAClF,MAEF,KAAK,UAAU,GAAGsD,EAAMtD,CAAG,EACjCqG,CAAG,GACFA,EAAI,eAAe,KAAK,aAAa,MAAM,CACjD,CACA,IAAMgD,EAAchD,EAAI,aAAe,KAAK,QAAQ,YAC9CiD,EAAqBvK,EAASsK,CAAW,EAAI,CAACA,CAAW,EAAIA,EACnE,OAAInK,GAAO,MAAQoK,GAAoB,QAAUjD,EAAI,qBAAuB,KAC1EnH,EAAMgG,GAAc,OAAOoE,EAAoBpK,EAAKc,EAAK,KAAK,SAAW,KAAK,QAAQ,wBAA0B,CAC9G,aAAc,CACZ,GAAGsG,EACH,WAAY,KAAK,qBAAqBD,CAAG,CAC3C,EACA,GAAGA,CACL,EAAIA,EAAK,IAAI,GAERnH,CACT,CACA,QAAQ0H,EAAMP,EAAM,CAAC,EAAG,CACtB,IAAIkD,EACApB,EACAqB,EACAC,EACAC,EACJ,OAAI3K,EAAS6H,CAAI,IAAGA,EAAO,CAACA,CAAI,GAChCA,EAAK,QAAQnG,GAAK,CAChB,GAAI,KAAK,cAAc8I,CAAK,EAAG,OAC/B,IAAMI,EAAY,KAAK,eAAelJ,EAAG4F,CAAG,EACtCrG,EAAM2J,EAAU,IACtBxB,EAAUnI,EACV,IAAIwG,EAAamD,EAAU,WACvB,KAAK,QAAQ,aAAYnD,EAAaA,EAAW,OAAO,KAAK,QAAQ,UAAU,GACnF,IAAMc,EAAsBjB,EAAI,QAAU,QAAa,CAACtH,EAASsH,EAAI,KAAK,EACpEqB,EAAwBJ,GAAuB,CAACjB,EAAI,SAAWA,EAAI,QAAU,EAC7EuD,EAAuBvD,EAAI,UAAY,SAActH,EAASsH,EAAI,OAAO,GAAK,OAAOA,EAAI,SAAY,WAAaA,EAAI,UAAY,GAClIwD,EAAQxD,EAAI,KAAOA,EAAI,KAAO,KAAK,cAAc,mBAAmBA,EAAI,KAAO,KAAK,SAAUA,EAAI,WAAW,EACnHG,EAAW,QAAQ/B,GAAM,CACnB,KAAK,cAAc8E,CAAK,IAC5BG,EAASjF,EACL,CAACsB,GAAiB,GAAG8D,EAAM,CAAC,CAAC,IAAIpF,CAAE,EAAE,GAAK,KAAK,OAAO,oBAAsB,CAAC,KAAK,OAAO,mBAAmBiF,CAAM,IACpH3D,GAAiB,GAAG8D,EAAM,CAAC,CAAC,IAAIpF,CAAE,EAAE,EAAI,GACxC,KAAK,OAAO,KAAK,QAAQ0D,CAAO,oBAAoB0B,EAAM,KAAK,IAAI,CAAC,sCAAsCH,CAAM,uBAAwB,0NAA0N,GAEpWG,EAAM,QAAQzG,GAAQ,CACpB,GAAI,KAAK,cAAcmG,CAAK,EAAG,OAC/BE,EAAUrG,EACV,IAAM0G,EAAY,CAAC9J,CAAG,EACtB,GAAI,KAAK,YAAY,cACnB,KAAK,WAAW,cAAc8J,EAAW9J,EAAKoD,EAAMqB,EAAI4B,CAAG,MACtD,CACL,IAAI0D,EACAzC,IAAqByC,EAAe,KAAK,eAAe,UAAU3G,EAAMiD,EAAI,MAAOA,CAAG,GAC1F,IAAM2D,EAAa,GAAG,KAAK,QAAQ,eAAe,OAC5CC,EAAgB,GAAG,KAAK,QAAQ,eAAe,UAAU,KAAK,QAAQ,eAAe,GAU3F,GATI3C,IACEjB,EAAI,SAAW0D,EAAa,QAAQE,CAAa,IAAM,GACzDH,EAAU,KAAK9J,EAAM+J,EAAa,QAAQE,EAAe,KAAK,QAAQ,eAAe,CAAC,EAExFH,EAAU,KAAK9J,EAAM+J,CAAY,EAC7BrC,GACFoC,EAAU,KAAK9J,EAAMgK,CAAU,GAG/BJ,EAAsB,CACxB,IAAMM,EAAa,GAAGlK,CAAG,GAAG,KAAK,QAAQ,kBAAoB,GAAG,GAAGqG,EAAI,OAAO,GAC9EyD,EAAU,KAAKI,CAAU,EACrB5C,IACEjB,EAAI,SAAW0D,EAAa,QAAQE,CAAa,IAAM,GACzDH,EAAU,KAAKI,EAAaH,EAAa,QAAQE,EAAe,KAAK,QAAQ,eAAe,CAAC,EAE/FH,EAAU,KAAKI,EAAaH,CAAY,EACpCrC,GACFoC,EAAU,KAAKI,EAAaF,CAAU,EAG5C,CACF,CACA,IAAIG,EACJ,KAAOA,EAAcL,EAAU,IAAI,GAC5B,KAAK,cAAcP,CAAK,IAC3BC,EAAeW,EACfZ,EAAQ,KAAK,YAAYnG,EAAMqB,EAAI0F,EAAa9D,CAAG,EAGzD,CAAC,EACH,CAAC,CACH,CAAC,EACM,CACL,IAAKkD,EACL,QAAApB,EACA,aAAAqB,EACA,QAAAC,EACA,OAAAC,CACF,CACF,CACA,cAAcxK,EAAK,CACjB,OAAOA,IAAQ,QAAa,EAAE,CAAC,KAAK,QAAQ,YAAcA,IAAQ,OAAS,EAAE,CAAC,KAAK,QAAQ,mBAAqBA,IAAQ,GAC1H,CACA,YAAYkE,EAAMqB,EAAIzE,EAAK2D,EAAU,CAAC,EAAG,CACvC,OAAI,KAAK,YAAY,YAAoB,KAAK,WAAW,YAAYP,EAAMqB,EAAIzE,EAAK2D,CAAO,EACpF,KAAK,cAAc,YAAYP,EAAMqB,EAAIzE,EAAK2D,CAAO,CAC9D,CACA,qBAAqBA,EAAU,CAAC,EAAG,CACjC,IAAMyG,EAAc,CAAC,eAAgB,UAAW,UAAW,UAAW,MAAO,OAAQ,cAAe,KAAM,eAAgB,cAAe,gBAAiB,gBAAiB,aAAc,cAAe,eAAe,EACjNC,EAA2B1G,EAAQ,SAAW,CAAC5E,EAAS4E,EAAQ,OAAO,EACzE1C,EAAOoJ,EAA2B1G,EAAQ,QAAUA,EAUxD,GATI0G,GAA4B,OAAO1G,EAAQ,MAAU,MACvD1C,EAAK,MAAQ0C,EAAQ,OAEnB,KAAK,QAAQ,cAAc,mBAC7B1C,EAAO,CACL,GAAG,KAAK,QAAQ,cAAc,iBAC9B,GAAGA,CACL,GAEE,CAACoJ,EAA0B,CAC7BpJ,EAAO,CACL,GAAGA,CACL,EACA,QAAWjB,KAAOoK,EAChB,OAAOnJ,EAAKjB,CAAG,CAEnB,CACA,OAAOiB,CACT,CACA,OAAO,gBAAgB0C,EAAS,CAC9B,IAAME,EAAS,eACf,QAAWyG,KAAU3G,EACnB,GAAI,OAAO,UAAU,eAAe,KAAKA,EAAS2G,CAAM,GAAKzG,IAAWyG,EAAO,UAAU,EAAGzG,EAAO,MAAM,GAAmBF,EAAQ2G,CAAM,IAA5B,OAC5G,MAAO,GAGX,MAAO,EACT,CACF,EAEMC,GAAN,KAAmB,CACjB,YAAY5G,EAAS,CACnB,KAAK,QAAUA,EACf,KAAK,cAAgB,KAAK,QAAQ,eAAiB,GACnD,KAAK,OAASK,EAAW,OAAO,eAAe,CACjD,CACA,sBAAsBZ,EAAM,CAE1B,GADAA,EAAOD,GAAeC,CAAI,EACtB,CAACA,GAAQA,EAAK,QAAQ,GAAG,EAAI,EAAG,OAAO,KAC3C,IAAMzC,EAAIyC,EAAK,MAAM,GAAG,EAGxB,OAFIzC,EAAE,SAAW,IACjBA,EAAE,IAAI,EACFA,EAAEA,EAAE,OAAS,CAAC,EAAE,YAAY,IAAM,KAAY,KAC3C,KAAK,mBAAmBA,EAAE,KAAK,GAAG,CAAC,CAC5C,CACA,wBAAwByC,EAAM,CAE5B,GADAA,EAAOD,GAAeC,CAAI,EACtB,CAACA,GAAQA,EAAK,QAAQ,GAAG,EAAI,EAAG,OAAOA,EAC3C,IAAMzC,EAAIyC,EAAK,MAAM,GAAG,EACxB,OAAO,KAAK,mBAAmBzC,EAAE,CAAC,CAAC,CACrC,CACA,mBAAmByC,EAAM,CACvB,GAAIrE,EAASqE,CAAI,GAAKA,EAAK,QAAQ,GAAG,EAAI,GAAI,CAC5C,IAAIoH,EACJ,GAAI,CACFA,EAAgB,KAAK,oBAAoBpH,CAAI,EAAE,CAAC,CAClD,MAAY,CAAC,CAIb,OAHIoH,GAAiB,KAAK,QAAQ,eAChCA,EAAgBA,EAAc,YAAY,GAExCA,IACA,KAAK,QAAQ,aACRpH,EAAK,YAAY,EAEnBA,EACT,CACA,OAAO,KAAK,QAAQ,WAAa,KAAK,QAAQ,aAAeA,EAAK,YAAY,EAAIA,CACpF,CACA,gBAAgBA,EAAM,CACpB,OAAI,KAAK,QAAQ,OAAS,gBAAkB,KAAK,QAAQ,4BACvDA,EAAO,KAAK,wBAAwBA,CAAI,GAEnC,CAAC,KAAK,eAAiB,CAAC,KAAK,cAAc,QAAU,KAAK,cAAc,QAAQA,CAAI,EAAI,EACjG,CACA,sBAAsByG,EAAO,CAC3B,GAAI,CAACA,EAAO,OAAO,KACnB,IAAIN,EACJ,OAAAM,EAAM,QAAQzG,GAAQ,CACpB,GAAImG,EAAO,OACX,IAAMkB,EAAa,KAAK,mBAAmBrH,CAAI,GAC3C,CAAC,KAAK,QAAQ,eAAiB,KAAK,gBAAgBqH,CAAU,KAAGlB,EAAQkB,EAC/E,CAAC,EACG,CAAClB,GAAS,KAAK,QAAQ,eACzBM,EAAM,QAAQzG,GAAQ,CACpB,GAAImG,EAAO,OACX,IAAMmB,EAAY,KAAK,sBAAsBtH,CAAI,EACjD,GAAI,KAAK,gBAAgBsH,CAAS,EAAG,OAAOnB,EAAQmB,EACpD,IAAMC,EAAU,KAAK,wBAAwBvH,CAAI,EACjD,GAAI,KAAK,gBAAgBuH,CAAO,EAAG,OAAOpB,EAAQoB,EAClDpB,EAAQ,KAAK,QAAQ,cAAc,KAAKqB,GAAgB,CACtD,GAAIA,IAAiBD,EAAS,OAAOC,EACrC,GAAI,EAAAA,EAAa,QAAQ,GAAG,EAAI,GAAKD,EAAQ,QAAQ,GAAG,EAAI,KACxDC,EAAa,QAAQ,GAAG,EAAI,GAAKD,EAAQ,QAAQ,GAAG,EAAI,GAAKC,EAAa,UAAU,EAAGA,EAAa,QAAQ,GAAG,CAAC,IAAMD,GACtHC,EAAa,QAAQD,CAAO,IAAM,GAAKA,EAAQ,OAAS,GAAG,OAAOC,CACxE,CAAC,CACH,CAAC,EAEErB,IAAOA,EAAQ,KAAK,iBAAiB,KAAK,QAAQ,WAAW,EAAE,CAAC,GAC9DA,CACT,CACA,iBAAiBsB,EAAWzH,EAAM,CAChC,GAAI,CAACyH,EAAW,MAAO,CAAC,EAGxB,GAFI,OAAOA,GAAc,aAAYA,EAAYA,EAAUzH,CAAI,GAC3DrE,EAAS8L,CAAS,IAAGA,EAAY,CAACA,CAAS,GAC3C,MAAM,QAAQA,CAAS,EAAG,OAAOA,EACrC,GAAI,CAACzH,EAAM,OAAOyH,EAAU,SAAW,CAAC,EACxC,IAAItB,EAAQsB,EAAUzH,CAAI,EAC1B,OAAKmG,IAAOA,EAAQsB,EAAU,KAAK,sBAAsBzH,CAAI,CAAC,GACzDmG,IAAOA,EAAQsB,EAAU,KAAK,mBAAmBzH,CAAI,CAAC,GACtDmG,IAAOA,EAAQsB,EAAU,KAAK,wBAAwBzH,CAAI,CAAC,GAC3DmG,IAAOA,EAAQsB,EAAU,SACvBtB,GAAS,CAAC,CACnB,CACA,mBAAmBnG,EAAM0H,EAAc,CACrC,IAAMC,EAAgB,KAAK,kBAAkBD,IAAiB,GAAQ,CAAC,EAAIA,IAAiB,KAAK,QAAQ,aAAe,CAAC,EAAG1H,CAAI,EAC1HyG,EAAQ,CAAC,EACTmB,EAAUxI,GAAK,CACdA,IACD,KAAK,gBAAgBA,CAAC,EACxBqH,EAAM,KAAKrH,CAAC,EAEZ,KAAK,OAAO,KAAK,uDAAuDA,CAAC,EAAE,EAE/E,EACA,OAAIzD,EAASqE,CAAI,IAAMA,EAAK,QAAQ,GAAG,EAAI,IAAMA,EAAK,QAAQ,GAAG,EAAI,KAC/D,KAAK,QAAQ,OAAS,gBAAgB4H,EAAQ,KAAK,mBAAmB5H,CAAI,CAAC,EAC3E,KAAK,QAAQ,OAAS,gBAAkB,KAAK,QAAQ,OAAS,eAAe4H,EAAQ,KAAK,sBAAsB5H,CAAI,CAAC,EACrH,KAAK,QAAQ,OAAS,eAAe4H,EAAQ,KAAK,wBAAwB5H,CAAI,CAAC,GAC1ErE,EAASqE,CAAI,GACtB4H,EAAQ,KAAK,mBAAmB5H,CAAI,CAAC,EAEvC2H,EAAc,QAAQE,GAAM,CACtBpB,EAAM,QAAQoB,CAAE,EAAI,GAAGD,EAAQ,KAAK,mBAAmBC,CAAE,CAAC,CAChE,CAAC,EACMpB,CACT,CACF,EAEMqB,GAAgB,CACpB,KAAM,EACN,IAAK,EACL,IAAK,EACL,IAAK,EACL,KAAM,EACN,MAAO,CACT,EACMC,GAAY,CAChB,OAAQC,GAASA,IAAU,EAAI,MAAQ,QACvC,gBAAiB,KAAO,CACtB,iBAAkB,CAAC,MAAO,OAAO,CACnC,EACF,EACMC,GAAN,KAAqB,CACnB,YAAYC,EAAe3H,EAAU,CAAC,EAAG,CACvC,KAAK,cAAgB2H,EACrB,KAAK,QAAU3H,EACf,KAAK,OAASK,EAAW,OAAO,gBAAgB,EAChD,KAAK,iBAAmB,CAAC,CAC3B,CACA,QAAQW,EAAK3F,EAAK,CAChB,KAAK,MAAM2F,CAAG,EAAI3F,CACpB,CACA,YAAa,CACX,KAAK,iBAAmB,CAAC,CAC3B,CACA,QAAQoE,EAAMO,EAAU,CAAC,EAAG,CAC1B,IAAM4H,EAAcpI,GAAeC,IAAS,MAAQ,KAAOA,CAAI,EACzDG,EAAOI,EAAQ,QAAU,UAAY,WACrC6H,EAAW,KAAK,UAAU,CAC9B,YAAAD,EACA,KAAAhI,CACF,CAAC,EACD,GAAIiI,KAAY,KAAK,iBACnB,OAAO,KAAK,iBAAiBA,CAAQ,EAEvC,IAAIC,EACJ,GAAI,CACFA,EAAO,IAAI,KAAK,YAAYF,EAAa,CACvC,KAAAhI,CACF,CAAC,CACH,MAAc,CACZ,GAAI,CAAC,KACH,YAAK,OAAO,MAAM,+CAA+C,EAC1D4H,GAET,GAAI,CAAC/H,EAAK,MAAM,KAAK,EAAG,OAAO+H,GAC/B,IAAMO,EAAU,KAAK,cAAc,wBAAwBtI,CAAI,EAC/DqI,EAAO,KAAK,QAAQC,EAAS/H,CAAO,CACtC,CACA,YAAK,iBAAiB6H,CAAQ,EAAIC,EAC3BA,CACT,CACA,YAAYrI,EAAMO,EAAU,CAAC,EAAG,CAC9B,IAAI8H,EAAO,KAAK,QAAQrI,EAAMO,CAAO,EACrC,OAAK8H,IAAMA,EAAO,KAAK,QAAQ,MAAO9H,CAAO,GACtC8H,GAAM,gBAAgB,EAAE,iBAAiB,OAAS,CAC3D,CACA,oBAAoBrI,EAAMpD,EAAK2D,EAAU,CAAC,EAAG,CAC3C,OAAO,KAAK,YAAYP,EAAMO,CAAO,EAAE,IAAIoF,GAAU,GAAG/I,CAAG,GAAG+I,CAAM,EAAE,CACxE,CACA,YAAY3F,EAAMO,EAAU,CAAC,EAAG,CAC9B,IAAI8H,EAAO,KAAK,QAAQrI,EAAMO,CAAO,EAErC,OADK8H,IAAMA,EAAO,KAAK,QAAQ,MAAO9H,CAAO,GACxC8H,EACEA,EAAK,gBAAgB,EAAE,iBAAiB,KAAK,CAACE,EAAiBC,IAAoBV,GAAcS,CAAe,EAAIT,GAAcU,CAAe,CAAC,EAAE,IAAIC,GAAkB,GAAG,KAAK,QAAQ,OAAO,GAAGlI,EAAQ,QAAU,UAAU,KAAK,QAAQ,OAAO,GAAK,EAAE,GAAGkI,CAAc,EAAE,EADnQ,CAAC,CAErB,CACA,UAAUzI,EAAMgI,EAAOzH,EAAU,CAAC,EAAG,CACnC,IAAM8H,EAAO,KAAK,QAAQrI,EAAMO,CAAO,EACvC,OAAI8H,EACK,GAAG,KAAK,QAAQ,OAAO,GAAG9H,EAAQ,QAAU,UAAU,KAAK,QAAQ,OAAO,GAAK,EAAE,GAAG8H,EAAK,OAAOL,CAAK,CAAC,IAE/G,KAAK,OAAO,KAAK,6BAA6BhI,CAAI,EAAE,EAC7C,KAAK,UAAU,MAAOgI,EAAOzH,CAAO,EAC7C,CACF,EAEMmI,GAAuB,CAAC7K,EAAMC,EAAalB,EAAKsC,EAAe,IAAKsC,EAAsB,KAAS,CACvG,IAAIzE,EAAOa,GAAoBC,EAAMC,EAAalB,CAAG,EACrD,MAAI,CAACG,GAAQyE,GAAuB7F,EAASiB,CAAG,IAC9CG,EAAOyC,GAAS3B,EAAMjB,EAAKsC,CAAY,EACnCnC,IAAS,SAAWA,EAAOyC,GAAS1B,EAAalB,EAAKsC,CAAY,IAEjEnC,CACT,EACM4L,GAAYC,GAAOA,EAAI,QAAQ,MAAO,MAAM,EAC5CC,GAAN,KAAmB,CACjB,YAAYtI,EAAU,CAAC,EAAG,CACxB,KAAK,OAASK,EAAW,OAAO,cAAc,EAC9C,KAAK,QAAUL,EACf,KAAK,OAASA,GAAS,eAAe,SAAWxC,GAASA,GAC1D,KAAK,KAAKwC,CAAO,CACnB,CACA,KAAKA,EAAU,CAAC,EAAG,CACZA,EAAQ,gBAAeA,EAAQ,cAAgB,CAClD,YAAa,EACf,GACA,GAAM,CACJ,OAAQuI,EACR,YAAAC,EACA,oBAAAC,EACA,OAAAvI,EACA,cAAAwI,EACA,OAAAtD,EACA,cAAAuD,EACA,gBAAAC,EACA,eAAAC,EACA,eAAAC,EACA,cAAAC,EACA,qBAAAC,EACA,cAAAC,EACA,qBAAAC,EACA,wBAAAC,EACA,YAAAC,EACA,aAAAC,CACF,EAAIrJ,EAAQ,cACZ,KAAK,OAASuI,IAAa,OAAYA,EAAWtK,GAClD,KAAK,YAAcuK,IAAgB,OAAYA,EAAc,GAC7D,KAAK,oBAAsBC,IAAwB,OAAYA,EAAsB,GACrF,KAAK,OAASvI,EAASpC,GAAYoC,CAAM,EAAIwI,GAAiB,KAC9D,KAAK,OAAStD,EAAStH,GAAYsH,CAAM,EAAIuD,GAAiB,KAC9D,KAAK,gBAAkBC,GAAmB,IAC1C,KAAK,eAAiBC,EAAiB,GAAKC,GAAkB,IAC9D,KAAK,eAAiB,KAAK,eAAiB,GAAKD,GAAkB,GACnE,KAAK,cAAgBE,EAAgBjL,GAAYiL,CAAa,EAAIC,GAAwBlL,GAAY,KAAK,EAC3G,KAAK,cAAgBmL,EAAgBnL,GAAYmL,CAAa,EAAIC,GAAwBpL,GAAY,GAAG,EACzG,KAAK,wBAA0BqL,GAA2B,IAC1D,KAAK,YAAcC,GAAe,IAClC,KAAK,aAAeC,IAAiB,OAAYA,EAAe,GAChE,KAAK,YAAY,CACnB,CACA,OAAQ,CACF,KAAK,SAAS,KAAK,KAAK,KAAK,OAAO,CAC1C,CACA,aAAc,CACZ,IAAMC,EAAmB,CAACC,EAAgBnL,IACpCmL,GAAgB,SAAWnL,GAC7BmL,EAAe,UAAY,EACpBA,GAEF,IAAI,OAAOnL,EAAS,GAAG,EAEhC,KAAK,OAASkL,EAAiB,KAAK,OAAQ,GAAG,KAAK,MAAM,QAAQ,KAAK,MAAM,EAAE,EAC/E,KAAK,eAAiBA,EAAiB,KAAK,eAAgB,GAAG,KAAK,MAAM,GAAG,KAAK,cAAc,QAAQ,KAAK,cAAc,GAAG,KAAK,MAAM,EAAE,EAC3I,KAAK,cAAgBA,EAAiB,KAAK,cAAe,GAAG,KAAK,aAAa,oEAAoE,KAAK,aAAa,EAAE,CACzK,CACA,YAAYvL,EAAKT,EAAM0D,EAAKhB,EAAS,CACnC,IAAIwJ,EACAhM,EACAiM,EACElM,EAAc,KAAK,SAAW,KAAK,QAAQ,eAAiB,KAAK,QAAQ,cAAc,kBAAoB,CAAC,EAC5GmM,EAAerN,GAAO,CAC1B,GAAIA,EAAI,QAAQ,KAAK,eAAe,EAAI,EAAG,CACzC,IAAMG,EAAO2L,GAAqB7K,EAAMC,EAAalB,EAAK,KAAK,QAAQ,aAAc,KAAK,QAAQ,mBAAmB,EACrH,OAAO,KAAK,aAAe,KAAK,OAAOG,EAAM,OAAWwE,EAAK,CAC3D,GAAGhB,EACH,GAAG1C,EACH,iBAAkBjB,CACpB,CAAC,EAAIG,CACP,CACA,IAAM,EAAIH,EAAI,MAAM,KAAK,eAAe,EAClCS,EAAI,EAAE,MAAM,EAAE,KAAK,EACnB6M,EAAI,EAAE,KAAK,KAAK,eAAe,EAAE,KAAK,EAC5C,OAAO,KAAK,OAAOxB,GAAqB7K,EAAMC,EAAaT,EAAG,KAAK,QAAQ,aAAc,KAAK,QAAQ,mBAAmB,EAAG6M,EAAG3I,EAAK,CAClI,GAAGhB,EACH,GAAG1C,EACH,iBAAkBR,CACpB,CAAC,CACH,EACA,KAAK,YAAY,EACjB,IAAM8M,EAA8B5J,GAAS,6BAA+B,KAAK,QAAQ,4BACnFqF,EAAkBrF,GAAS,eAAe,kBAAoB,OAAYA,EAAQ,cAAc,gBAAkB,KAAK,QAAQ,cAAc,gBAQnJ,MAPc,CAAC,CACb,MAAO,KAAK,eACZ,UAAWqI,GAAOD,GAAUC,CAAG,CACjC,EAAG,CACD,MAAO,KAAK,OACZ,UAAWA,GAAO,KAAK,YAAcD,GAAU,KAAK,OAAOC,CAAG,CAAC,EAAID,GAAUC,CAAG,CAClF,CAAC,EACK,QAAQwB,GAAQ,CAEpB,IADAJ,EAAW,EACJD,EAAQK,EAAK,MAAM,KAAK9L,CAAG,GAAG,CACnC,IAAM+L,EAAaN,EAAM,CAAC,EAAE,KAAK,EAEjC,GADAhM,EAAQkM,EAAaI,CAAU,EAC3BtM,IAAU,OACZ,GAAI,OAAOoM,GAAgC,WAAY,CACrD,IAAMG,EAAOH,EAA4B7L,EAAKyL,EAAOxJ,CAAO,EAC5DxC,EAAQpC,EAAS2O,CAAI,EAAIA,EAAO,EAClC,SAAW/J,GAAW,OAAO,UAAU,eAAe,KAAKA,EAAS8J,CAAU,EAC5EtM,EAAQ,WACC6H,EAAiB,CAC1B7H,EAAQgM,EAAM,CAAC,EACf,QACF,MACE,KAAK,OAAO,KAAK,8BAA8BM,CAAU,sBAAsB/L,CAAG,EAAE,EACpFP,EAAQ,OAED,CAACpC,EAASoC,CAAK,GAAK,CAAC,KAAK,sBACnCA,EAAQ5B,GAAW4B,CAAK,GAE1B,IAAMwM,EAAYH,EAAK,UAAUrM,CAAK,EAStC,GARAO,EAAMA,EAAI,QAAQyL,EAAM,CAAC,EAAGQ,CAAS,EACjC3E,GACFwE,EAAK,MAAM,WAAarM,EAAM,OAC9BqM,EAAK,MAAM,WAAaL,EAAM,CAAC,EAAE,QAEjCK,EAAK,MAAM,UAAY,EAEzBJ,IACIA,GAAY,KAAK,YACnB,KAEJ,CACF,CAAC,EACM1L,CACT,CACA,KAAKA,EAAKuJ,EAAItH,EAAU,CAAC,EAAG,CAC1B,IAAIwJ,EACAhM,EACAyM,EACEC,EAAmB,CAAC7N,EAAK8N,IAAqB,CAClD,IAAMC,EAAM,KAAK,wBACjB,GAAI/N,EAAI,QAAQ+N,CAAG,EAAI,EAAG,OAAO/N,EACjC,IAAM,EAAIA,EAAI,MAAM,IAAI,OAAO,GAAG+N,CAAG,OAAO,CAAC,EACzCC,EAAgB,IAAI,EAAE,CAAC,CAAC,GAC5BhO,EAAM,EAAE,CAAC,EACTgO,EAAgB,KAAK,YAAYA,EAAeJ,CAAa,EAC7D,IAAMK,EAAsBD,EAAc,MAAM,IAAI,EAC9CE,EAAsBF,EAAc,MAAM,IAAI,IAC/CC,GAAqB,QAAU,GAAK,IAAM,GAAK,CAACC,GAAuBA,EAAoB,OAAS,IAAM,KAC7GF,EAAgBA,EAAc,QAAQ,KAAM,GAAG,GAEjD,GAAI,CACFJ,EAAgB,KAAK,MAAMI,CAAa,EACpCF,IAAkBF,EAAgB,CACpC,GAAGE,EACH,GAAGF,CACL,EACF,OAASlN,EAAG,CACV,YAAK,OAAO,KAAK,oDAAoDV,CAAG,GAAIU,CAAC,EACtE,GAAGV,CAAG,GAAG+N,CAAG,GAAGC,CAAa,EACrC,CACA,OAAIJ,EAAc,cAAgBA,EAAc,aAAa,QAAQ,KAAK,MAAM,EAAI,IAAI,OAAOA,EAAc,aACtG5N,CACT,EACA,KAAOmN,EAAQ,KAAK,cAAc,KAAKzL,CAAG,GAAG,CAC3C,IAAIyM,EAAa,CAAC,EAClBP,EAAgB,CACd,GAAGjK,CACL,EACAiK,EAAgBA,EAAc,SAAW,CAAC7O,EAAS6O,EAAc,OAAO,EAAIA,EAAc,QAAUA,EACpGA,EAAc,mBAAqB,GACnC,OAAOA,EAAc,aACrB,IAAMQ,EAAc,OAAO,KAAKjB,EAAM,CAAC,CAAC,EAAIA,EAAM,CAAC,EAAE,YAAY,GAAG,EAAI,EAAIA,EAAM,CAAC,EAAE,QAAQ,KAAK,eAAe,EAMjH,GALIiB,IAAgB,KAClBD,EAAahB,EAAM,CAAC,EAAE,MAAMiB,CAAW,EAAE,MAAM,KAAK,eAAe,EAAE,IAAIC,GAAQA,EAAK,KAAK,CAAC,EAAE,OAAO,OAAO,EAC5GlB,EAAM,CAAC,EAAIA,EAAM,CAAC,EAAE,MAAM,EAAGiB,CAAW,GAE1CjN,EAAQ8J,EAAG4C,EAAiB,KAAK,KAAMV,EAAM,CAAC,EAAE,KAAK,EAAGS,CAAa,EAAGA,CAAa,EACjFzM,GAASgM,EAAM,CAAC,IAAMzL,GAAO,CAAC3C,EAASoC,CAAK,EAAG,OAAOA,EACrDpC,EAASoC,CAAK,IAAGA,EAAQ5B,GAAW4B,CAAK,GACzCA,IACH,KAAK,OAAO,KAAK,qBAAqBgM,EAAM,CAAC,CAAC,gBAAgBzL,CAAG,EAAE,EACnEP,EAAQ,IAENgN,EAAW,SACbhN,EAAQgN,EAAW,OAAO,CAAClJ,EAAGqI,IAAM,KAAK,OAAOrI,EAAGqI,EAAG3J,EAAQ,IAAK,CACjE,GAAGA,EACH,iBAAkBwJ,EAAM,CAAC,EAAE,KAAK,CAClC,CAAC,EAAGhM,EAAM,KAAK,CAAC,GAElBO,EAAMA,EAAI,QAAQyL,EAAM,CAAC,EAAGhM,CAAK,EACjC,KAAK,OAAO,UAAY,CAC1B,CACA,OAAOO,CACT,CACF,EAEM4M,GAAiBC,GAAa,CAClC,IAAIC,EAAaD,EAAU,YAAY,EAAE,KAAK,EACxCE,EAAgB,CAAC,EACvB,GAAIF,EAAU,QAAQ,GAAG,EAAI,GAAI,CAC/B,IAAM5N,EAAI4N,EAAU,MAAM,GAAG,EAC7BC,EAAa7N,EAAE,CAAC,EAAE,YAAY,EAAE,KAAK,EACrC,IAAM+N,EAAS/N,EAAE,CAAC,EAAE,UAAU,EAAGA,EAAE,CAAC,EAAE,OAAS,CAAC,EAC5C6N,IAAe,YAAcE,EAAO,QAAQ,GAAG,EAAI,EAChDD,EAAc,WAAUA,EAAc,SAAWC,EAAO,KAAK,GACzDF,IAAe,gBAAkBE,EAAO,QAAQ,GAAG,EAAI,EAC3DD,EAAc,QAAOA,EAAc,MAAQC,EAAO,KAAK,GAE/CA,EAAO,MAAM,GAAG,EACxB,QAAQrI,GAAO,CAClB,GAAIA,EAAK,CACP,GAAM,CAACrG,EAAK,GAAG2O,CAAI,EAAItI,EAAI,MAAM,GAAG,EAC9B2F,EAAM2C,EAAK,KAAK,GAAG,EAAE,KAAK,EAAE,QAAQ,WAAY,EAAE,EAClDC,EAAa5O,EAAI,KAAK,EACvByO,EAAcG,CAAU,IAAGH,EAAcG,CAAU,EAAI5C,GACxDA,IAAQ,UAASyC,EAAcG,CAAU,EAAI,IAC7C5C,IAAQ,SAAQyC,EAAcG,CAAU,EAAI,IAC3C,MAAM5C,CAAG,IAAGyC,EAAcG,CAAU,EAAI,SAAS5C,EAAK,EAAE,EAC/D,CACF,CAAC,CAEL,CACA,MAAO,CACL,WAAAwC,EACA,cAAAC,CACF,CACF,EACMI,GAAwBC,GAAM,CAClC,IAAMC,EAAQ,CAAC,EACf,MAAO,CAAC9J,EAAGyD,EAAGtC,IAAM,CAClB,IAAI4I,EAAc5I,EACdA,GAAKA,EAAE,kBAAoBA,EAAE,cAAgBA,EAAE,aAAaA,EAAE,gBAAgB,GAAKA,EAAEA,EAAE,gBAAgB,IACzG4I,EAAc,CACZ,GAAGA,EACH,CAAC5I,EAAE,gBAAgB,EAAG,MACxB,GAEF,IAAMpG,EAAM0I,EAAI,KAAK,UAAUsG,CAAW,EACtCC,EAAMF,EAAM/O,CAAG,EACnB,OAAKiP,IACHA,EAAMH,EAAG3L,GAAeuF,CAAC,EAAGtC,CAAC,EAC7B2I,EAAM/O,CAAG,EAAIiP,GAERA,EAAIhK,CAAC,CACd,CACF,EACMiK,GAA2BJ,GAAM,CAAC7J,EAAGyD,EAAGtC,IAAM0I,EAAG3L,GAAeuF,CAAC,EAAGtC,CAAC,EAAEnB,CAAC,EACxEkK,GAAN,KAAgB,CACd,YAAYxL,EAAU,CAAC,EAAG,CACxB,KAAK,OAASK,EAAW,OAAO,WAAW,EAC3C,KAAK,QAAUL,EACf,KAAK,KAAKA,CAAO,CACnB,CACA,KAAKwC,EAAUxC,EAAU,CACvB,cAAe,CAAC,CAClB,EAAG,CACD,KAAK,gBAAkBA,EAAQ,cAAc,iBAAmB,IAChE,IAAMyL,EAAKzL,EAAQ,oBAAsBkL,GAAwBK,GACjE,KAAK,QAAU,CACb,OAAQE,EAAG,CAACzK,EAAK0B,IAAQ,CACvB,IAAMgJ,EAAY,IAAI,KAAK,aAAa1K,EAAK,CAC3C,GAAG0B,CACL,CAAC,EACD,OAAO2F,GAAOqD,EAAU,OAAOrD,CAAG,CACpC,CAAC,EACD,SAAUoD,EAAG,CAACzK,EAAK0B,IAAQ,CACzB,IAAMgJ,EAAY,IAAI,KAAK,aAAa1K,EAAK,CAC3C,GAAG0B,EACH,MAAO,UACT,CAAC,EACD,OAAO2F,GAAOqD,EAAU,OAAOrD,CAAG,CACpC,CAAC,EACD,SAAUoD,EAAG,CAACzK,EAAK0B,IAAQ,CACzB,IAAMgJ,EAAY,IAAI,KAAK,eAAe1K,EAAK,CAC7C,GAAG0B,CACL,CAAC,EACD,OAAO2F,GAAOqD,EAAU,OAAOrD,CAAG,CACpC,CAAC,EACD,aAAcoD,EAAG,CAACzK,EAAK0B,IAAQ,CAC7B,IAAMgJ,EAAY,IAAI,KAAK,mBAAmB1K,EAAK,CACjD,GAAG0B,CACL,CAAC,EACD,OAAO2F,GAAOqD,EAAU,OAAOrD,EAAK3F,EAAI,OAAS,KAAK,CACxD,CAAC,EACD,KAAM+I,EAAG,CAACzK,EAAK0B,IAAQ,CACrB,IAAMgJ,EAAY,IAAI,KAAK,WAAW1K,EAAK,CACzC,GAAG0B,CACL,CAAC,EACD,OAAO2F,GAAOqD,EAAU,OAAOrD,CAAG,CACpC,CAAC,CACH,CACF,CACA,IAAIsD,EAAMrE,EAAI,CACZ,KAAK,QAAQqE,EAAK,YAAY,EAAE,KAAK,CAAC,EAAIrE,CAC5C,CACA,UAAUqE,EAAMrE,EAAI,CAClB,KAAK,QAAQqE,EAAK,YAAY,EAAE,KAAK,CAAC,EAAIT,GAAsB5D,CAAE,CACpE,CACA,OAAO9J,EAAOoO,EAAQ5K,EAAKhB,EAAU,CAAC,EAAG,CACvC,IAAM6L,EAAUD,EAAO,MAAM,KAAK,eAAe,EACjD,GAAIC,EAAQ,OAAS,GAAKA,EAAQ,CAAC,EAAE,QAAQ,GAAG,EAAI,GAAKA,EAAQ,CAAC,EAAE,QAAQ,GAAG,EAAI,GAAKA,EAAQ,KAAKlC,GAAKA,EAAE,QAAQ,GAAG,EAAI,EAAE,EAAG,CAC9H,IAAMmC,EAAYD,EAAQ,UAAUlC,GAAKA,EAAE,QAAQ,GAAG,EAAI,EAAE,EAC5DkC,EAAQ,CAAC,EAAI,CAACA,EAAQ,CAAC,EAAG,GAAGA,EAAQ,OAAO,EAAGC,CAAS,CAAC,EAAE,KAAK,KAAK,eAAe,CACtF,CAyBA,OAxBeD,EAAQ,OAAO,CAACE,EAAKpC,IAAM,CACxC,GAAM,CACJ,WAAAkB,EACA,cAAAC,CACF,EAAIH,GAAehB,CAAC,EACpB,GAAI,KAAK,QAAQkB,CAAU,EAAG,CAC5B,IAAImB,EAAYD,EAChB,GAAI,CACF,IAAME,EAAajM,GAAS,eAAeA,EAAQ,gBAAgB,GAAK,CAAC,EACnE+E,EAAIkH,EAAW,QAAUA,EAAW,KAAOjM,EAAQ,QAAUA,EAAQ,KAAOgB,EAClFgL,EAAY,KAAK,QAAQnB,CAAU,EAAEkB,EAAKhH,EAAG,CAC3C,GAAG+F,EACH,GAAG9K,EACH,GAAGiM,CACL,CAAC,CACH,OAASC,EAAO,CACd,KAAK,OAAO,KAAKA,CAAK,CACxB,CACA,OAAOF,CACT,MACE,KAAK,OAAO,KAAK,oCAAoCnB,CAAU,EAAE,EAEnE,OAAOkB,CACT,EAAGvO,CAAK,CAEV,CACF,EAEM2O,GAAgB,CAACC,EAAGT,IAAS,CAC7BS,EAAE,QAAQT,CAAI,IAAM,SACtB,OAAOS,EAAE,QAAQT,CAAI,EACrBS,EAAE,eAEN,EACMC,GAAN,cAAwB/L,EAAa,CACnC,YAAYgM,EAASC,EAAO/J,EAAUxC,EAAU,CAAC,EAAG,CAClD,MAAM,EACN,KAAK,QAAUsM,EACf,KAAK,MAAQC,EACb,KAAK,SAAW/J,EAChB,KAAK,cAAgBA,EAAS,cAC9B,KAAK,QAAUxC,EACf,KAAK,OAASK,EAAW,OAAO,kBAAkB,EAClD,KAAK,aAAe,CAAC,EACrB,KAAK,iBAAmBL,EAAQ,kBAAoB,GACpD,KAAK,aAAe,EACpB,KAAK,WAAaA,EAAQ,YAAc,EAAIA,EAAQ,WAAa,EACjE,KAAK,aAAeA,EAAQ,cAAgB,EAAIA,EAAQ,aAAe,IACvE,KAAK,MAAQ,CAAC,EACd,KAAK,MAAQ,CAAC,EACd,KAAK,SAAS,OAAOwC,EAAUxC,EAAQ,QAASA,CAAO,CACzD,CACA,UAAUwM,EAAW3J,EAAY7C,EAASyM,EAAU,CAClD,IAAMC,EAAS,CAAC,EACVC,EAAU,CAAC,EACXC,EAAkB,CAAC,EACnBC,EAAmB,CAAC,EAC1B,OAAAL,EAAU,QAAQxL,GAAO,CACvB,IAAI8L,EAAmB,GACvBjK,EAAW,QAAQ/B,GAAM,CACvB,IAAM6K,EAAO,GAAG3K,CAAG,IAAIF,CAAE,GACrB,CAACd,EAAQ,QAAU,KAAK,MAAM,kBAAkBgB,EAAKF,CAAE,EACzD,KAAK,MAAM6K,CAAI,EAAI,EACV,KAAK,MAAMA,CAAI,EAAI,IAAc,KAAK,MAAMA,CAAI,IAAM,EAC3DgB,EAAQhB,CAAI,IAAM,SAAWgB,EAAQhB,CAAI,EAAI,KAEjD,KAAK,MAAMA,CAAI,EAAI,EACnBmB,EAAmB,GACfH,EAAQhB,CAAI,IAAM,SAAWgB,EAAQhB,CAAI,EAAI,IAC7Ce,EAAOf,CAAI,IAAM,SAAWe,EAAOf,CAAI,EAAI,IAC3CkB,EAAiB/L,CAAE,IAAM,SAAW+L,EAAiB/L,CAAE,EAAI,KAEnE,CAAC,EACIgM,IAAkBF,EAAgB5L,CAAG,EAAI,GAChD,CAAC,GACG,OAAO,KAAK0L,CAAM,EAAE,QAAU,OAAO,KAAKC,CAAO,EAAE,SACrD,KAAK,MAAM,KAAK,CACd,QAAAA,EACA,aAAc,OAAO,KAAKA,CAAO,EAAE,OACnC,OAAQ,CAAC,EACT,OAAQ,CAAC,EACT,SAAAF,CACF,CAAC,EAEI,CACL,OAAQ,OAAO,KAAKC,CAAM,EAC1B,QAAS,OAAO,KAAKC,CAAO,EAC5B,gBAAiB,OAAO,KAAKC,CAAe,EAC5C,iBAAkB,OAAO,KAAKC,CAAgB,CAChD,CACF,CACA,OAAOlB,EAAMoB,EAAKzP,EAAM,CACtB,IAAMtB,EAAI2P,EAAK,MAAM,GAAG,EAClB3K,EAAMhF,EAAE,CAAC,EACT8E,EAAK9E,EAAE,CAAC,EACV+Q,GAAK,KAAK,KAAK,gBAAiB/L,EAAKF,EAAIiM,CAAG,EAC5C,CAACA,GAAOzP,GACV,KAAK,MAAM,kBAAkB0D,EAAKF,EAAIxD,EAAM,OAAW,OAAW,CAChE,SAAU,EACZ,CAAC,EAEH,KAAK,MAAMqO,CAAI,EAAIoB,EAAM,GAAK,EAC1BA,GAAOzP,IAAM,KAAK,MAAMqO,CAAI,EAAI,GACpC,IAAMqB,EAAS,CAAC,EAChB,KAAK,MAAM,QAAQZ,GAAK,CACtBlP,GAASkP,EAAE,OAAQ,CAACpL,CAAG,EAAGF,CAAE,EAC5BqL,GAAcC,EAAGT,CAAI,EACjBoB,GAAKX,EAAE,OAAO,KAAKW,CAAG,EACtBX,EAAE,eAAiB,GAAK,CAACA,EAAE,OAC7B,OAAO,KAAKA,EAAE,MAAM,EAAE,QAAQrH,GAAK,CAC5BiI,EAAOjI,CAAC,IAAGiI,EAAOjI,CAAC,EAAI,CAAC,GAC7B,IAAMkI,EAAab,EAAE,OAAOrH,CAAC,EACzBkI,EAAW,QACbA,EAAW,QAAQC,GAAK,CAClBF,EAAOjI,CAAC,EAAEmI,CAAC,IAAM,SAAWF,EAAOjI,CAAC,EAAEmI,CAAC,EAAI,GACjD,CAAC,CAEL,CAAC,EACDd,EAAE,KAAO,GACLA,EAAE,OAAO,OACXA,EAAE,SAASA,EAAE,MAAM,EAEnBA,EAAE,SAAS,EAGjB,CAAC,EACD,KAAK,KAAK,SAAUY,CAAM,EAC1B,KAAK,MAAQ,KAAK,MAAM,OAAOZ,GAAK,CAACA,EAAE,IAAI,CAC7C,CACA,KAAKpL,EAAKF,EAAIqM,EAAQC,EAAQ,EAAGC,EAAO,KAAK,aAAcZ,EAAU,CACnE,GAAI,CAACzL,EAAI,OAAQ,OAAOyL,EAAS,KAAM,CAAC,CAAC,EACzC,GAAI,KAAK,cAAgB,KAAK,iBAAkB,CAC9C,KAAK,aAAa,KAAK,CACrB,IAAAzL,EACA,GAAAF,EACA,OAAAqM,EACA,MAAAC,EACA,KAAAC,EACA,SAAAZ,CACF,CAAC,EACD,MACF,CACA,KAAK,eACL,IAAMa,EAAW,CAACP,EAAKzP,IAAS,CAE9B,GADA,KAAK,eACD,KAAK,aAAa,OAAS,EAAG,CAChC,IAAM+B,EAAO,KAAK,aAAa,MAAM,EACrC,KAAK,KAAKA,EAAK,IAAKA,EAAK,GAAIA,EAAK,OAAQA,EAAK,MAAOA,EAAK,KAAMA,EAAK,QAAQ,CAChF,CACA,GAAI0N,GAAOzP,GAAQ8P,EAAQ,KAAK,WAAY,CAC1C,WAAW,IAAM,CACf,KAAK,KAAK,KAAK,KAAMpM,EAAKF,EAAIqM,EAAQC,EAAQ,EAAGC,EAAO,EAAGZ,CAAQ,CACrE,EAAGY,CAAI,EACP,MACF,CACAZ,EAASM,EAAKzP,CAAI,CACpB,EACMgK,EAAK,KAAK,QAAQ6F,CAAM,EAAE,KAAK,KAAK,OAAO,EACjD,GAAI7F,EAAG,SAAW,EAAG,CACnB,GAAI,CACF,IAAMxI,EAAIwI,EAAGtG,EAAKF,CAAE,EAChBhC,GAAK,OAAOA,EAAE,MAAS,WACzBA,EAAE,KAAKxB,GAAQgQ,EAAS,KAAMhQ,CAAI,CAAC,EAAE,MAAMgQ,CAAQ,EAEnDA,EAAS,KAAMxO,CAAC,CAEpB,OAASiO,EAAK,CACZO,EAASP,CAAG,CACd,CACA,MACF,CACA,OAAOzF,EAAGtG,EAAKF,EAAIwM,CAAQ,CAC7B,CACA,eAAed,EAAW3J,EAAY7C,EAAU,CAAC,EAAGyM,EAAU,CAC5D,GAAI,CAAC,KAAK,QACR,YAAK,OAAO,KAAK,gEAAgE,EAC1EA,GAAYA,EAAS,EAE1BrR,EAASoR,CAAS,IAAGA,EAAY,KAAK,cAAc,mBAAmBA,CAAS,GAChFpR,EAASyH,CAAU,IAAGA,EAAa,CAACA,CAAU,GAClD,IAAM6J,EAAS,KAAK,UAAUF,EAAW3J,EAAY7C,EAASyM,CAAQ,EACtE,GAAI,CAACC,EAAO,OAAO,OACjB,OAAKA,EAAO,QAAQ,QAAQD,EAAS,EAC9B,KAETC,EAAO,OAAO,QAAQf,GAAQ,CAC5B,KAAK,QAAQA,CAAI,CACnB,CAAC,CACH,CACA,KAAKa,EAAW3J,EAAY4J,EAAU,CACpC,KAAK,eAAeD,EAAW3J,EAAY,CAAC,EAAG4J,CAAQ,CACzD,CACA,OAAOD,EAAW3J,EAAY4J,EAAU,CACtC,KAAK,eAAeD,EAAW3J,EAAY,CACzC,OAAQ,EACV,EAAG4J,CAAQ,CACb,CACA,QAAQd,EAAMzL,EAAS,GAAI,CACzB,IAAMlE,EAAI2P,EAAK,MAAM,GAAG,EAClB3K,EAAMhF,EAAE,CAAC,EACT8E,EAAK9E,EAAE,CAAC,EACd,KAAK,KAAKgF,EAAKF,EAAI,OAAQ,OAAW,OAAW,CAACiM,EAAKzP,IAAS,CAC1DyP,GAAK,KAAK,OAAO,KAAK,GAAG7M,CAAM,qBAAqBY,CAAE,iBAAiBE,CAAG,UAAW+L,CAAG,EACxF,CAACA,GAAOzP,GAAM,KAAK,OAAO,IAAI,GAAG4C,CAAM,oBAAoBY,CAAE,iBAAiBE,CAAG,GAAI1D,CAAI,EAC7F,KAAK,OAAOqO,EAAMoB,EAAKzP,CAAI,CAC7B,CAAC,CACH,CACA,YAAYkP,EAAWpJ,EAAW/G,EAAKkR,EAAeC,EAAUxN,EAAU,CAAC,EAAGyN,EAAM,IAAM,CAAC,EAAG,CAC5F,GAAI,KAAK,UAAU,OAAO,oBAAsB,CAAC,KAAK,UAAU,OAAO,mBAAmBrK,CAAS,EAAG,CACpG,KAAK,OAAO,KAAK,qBAAqB/G,CAAG,uBAAuB+G,CAAS,uBAAwB,0NAA0N,EAC3T,MACF,CACA,GAAI,EAAqB/G,GAAQ,MAAQA,IAAQ,IACjD,IAAI,KAAK,SAAS,OAAQ,CACxB,IAAM8F,EAAO,CACX,GAAGnC,EACH,SAAAwN,CACF,EACMlG,EAAK,KAAK,QAAQ,OAAO,KAAK,KAAK,OAAO,EAChD,GAAIA,EAAG,OAAS,EACd,GAAI,CACF,IAAIxI,EACAwI,EAAG,SAAW,EAChBxI,EAAIwI,EAAGkF,EAAWpJ,EAAW/G,EAAKkR,EAAepL,CAAI,EAErDrD,EAAIwI,EAAGkF,EAAWpJ,EAAW/G,EAAKkR,CAAa,EAE7CzO,GAAK,OAAOA,EAAE,MAAS,WACzBA,EAAE,KAAKxB,GAAQmQ,EAAI,KAAMnQ,CAAI,CAAC,EAAE,MAAMmQ,CAAG,EAEzCA,EAAI,KAAM3O,CAAC,CAEf,OAASiO,EAAK,CACZU,EAAIV,CAAG,CACT,MAEAzF,EAAGkF,EAAWpJ,EAAW/G,EAAKkR,EAAeE,EAAKtL,CAAI,CAE1D,CACI,CAACqK,GAAa,CAACA,EAAU,CAAC,GAC9B,KAAK,MAAM,YAAYA,EAAU,CAAC,EAAGpJ,EAAW/G,EAAKkR,CAAa,EACpE,CACF,EAEMG,GAAM,KAAO,CACjB,MAAO,GACP,UAAW,GACX,GAAI,CAAC,aAAa,EAClB,UAAW,CAAC,aAAa,EACzB,YAAa,CAAC,KAAK,EACnB,WAAY,GACZ,cAAe,GACf,yBAA0B,GAC1B,KAAM,MACN,QAAS,GACT,qBAAsB,GACtB,aAAc,IACd,YAAa,IACb,gBAAiB,IACjB,iBAAkB,IAClB,wBAAyB,GACzB,YAAa,GACb,cAAe,GACf,cAAe,WACf,mBAAoB,GACpB,kBAAmB,GACnB,4BAA6B,GAC7B,YAAa,GACb,wBAAyB,GACzB,WAAY,GACZ,kBAAmB,GACnB,cAAe,GACf,WAAY,GACZ,sBAAuB,GACvB,uBAAwB,GACxB,4BAA6B,GAC7B,wBAAyB,GACzB,iCAAkC/N,GAAQ,CACxC,IAAIgO,EAAM,CAAC,EAIX,GAHI,OAAOhO,EAAK,CAAC,GAAM,WAAUgO,EAAMhO,EAAK,CAAC,GACzCvE,EAASuE,EAAK,CAAC,CAAC,IAAGgO,EAAI,aAAehO,EAAK,CAAC,GAC5CvE,EAASuE,EAAK,CAAC,CAAC,IAAGgO,EAAI,aAAehO,EAAK,CAAC,GAC5C,OAAOA,EAAK,CAAC,GAAM,UAAY,OAAOA,EAAK,CAAC,GAAM,SAAU,CAC9D,IAAMK,EAAUL,EAAK,CAAC,GAAKA,EAAK,CAAC,EACjC,OAAO,KAAKK,CAAO,EAAE,QAAQ3D,GAAO,CAClCsR,EAAItR,CAAG,EAAI2D,EAAQ3D,CAAG,CACxB,CAAC,CACH,CACA,OAAOsR,CACT,EACA,cAAe,CACb,YAAa,GACb,OAAQnQ,GAASA,EACjB,OAAQ,KACR,OAAQ,KACR,gBAAiB,IACjB,eAAgB,IAChB,cAAe,MACf,cAAe,IACf,wBAAyB,IACzB,YAAa,IACb,gBAAiB,EACnB,EACA,oBAAqB,EACvB,GACMoQ,GAAmB5N,IACnB5E,EAAS4E,EAAQ,EAAE,IAAGA,EAAQ,GAAK,CAACA,EAAQ,EAAE,GAC9C5E,EAAS4E,EAAQ,WAAW,IAAGA,EAAQ,YAAc,CAACA,EAAQ,WAAW,GACzE5E,EAAS4E,EAAQ,UAAU,IAAGA,EAAQ,WAAa,CAACA,EAAQ,UAAU,GACtEA,EAAQ,eAAe,UAAU,QAAQ,EAAI,IAC/CA,EAAQ,cAAgBA,EAAQ,cAAc,OAAO,CAAC,QAAQ,CAAC,GAE7D,OAAOA,EAAQ,eAAkB,YAAWA,EAAQ,UAAYA,EAAQ,eACrEA,GAGH6N,GAAO,IAAM,CAAC,EACdC,GAAsBC,GAAQ,CACrB,OAAO,oBAAoB,OAAO,eAAeA,CAAI,CAAC,EAC9D,QAAQhC,GAAO,CACd,OAAOgC,EAAKhC,CAAG,GAAM,aACvBgC,EAAKhC,CAAG,EAAIgC,EAAKhC,CAAG,EAAE,KAAKgC,CAAI,EAEnC,CAAC,CACH,EACMC,GAAN,MAAMC,UAAa3N,EAAa,CAC9B,YAAYN,EAAU,CAAC,EAAGyM,EAAU,CASlC,GARA,MAAM,EACN,KAAK,QAAUmB,GAAiB5N,CAAO,EACvC,KAAK,SAAW,CAAC,EACjB,KAAK,OAASK,EACd,KAAK,QAAU,CACb,SAAU,CAAC,CACb,EACAyN,GAAoB,IAAI,EACpBrB,GAAY,CAAC,KAAK,eAAiB,CAACzM,EAAQ,QAAS,CACvD,GAAI,CAAC,KAAK,QAAQ,UAChB,YAAK,KAAKA,EAASyM,CAAQ,EACpB,KAET,WAAW,IAAM,CACf,KAAK,KAAKzM,EAASyM,CAAQ,CAC7B,EAAG,CAAC,CACN,CACF,CACA,KAAKzM,EAAU,CAAC,EAAGyM,EAAU,CAC3B,KAAK,eAAiB,GAClB,OAAOzM,GAAY,aACrByM,EAAWzM,EACXA,EAAU,CAAC,GAETA,EAAQ,WAAa,MAAQA,EAAQ,KACnC5E,EAAS4E,EAAQ,EAAE,EACrBA,EAAQ,UAAYA,EAAQ,GACnBA,EAAQ,GAAG,QAAQ,aAAa,EAAI,IAC7CA,EAAQ,UAAYA,EAAQ,GAAG,CAAC,IAGpC,IAAMkO,EAAUR,GAAI,EACpB,KAAK,QAAU,CACb,GAAGQ,EACH,GAAG,KAAK,QACR,GAAGN,GAAiB5N,CAAO,CAC7B,EACA,KAAK,QAAQ,cAAgB,CAC3B,GAAGkO,EAAQ,cACX,GAAG,KAAK,QAAQ,aAClB,EACIlO,EAAQ,eAAiB,SAC3B,KAAK,QAAQ,wBAA0BA,EAAQ,cAE7CA,EAAQ,cAAgB,SAC1B,KAAK,QAAQ,uBAAyBA,EAAQ,aAEhD,IAAMmO,EAAsBC,GACrBA,EACD,OAAOA,GAAkB,WAAmB,IAAIA,EAC7CA,EAFoB,KAI7B,GAAI,CAAC,KAAK,QAAQ,QAAS,CACrB,KAAK,QAAQ,OACf/N,EAAW,KAAK8N,EAAoB,KAAK,QAAQ,MAAM,EAAG,KAAK,OAAO,EAEtE9N,EAAW,KAAK,KAAM,KAAK,OAAO,EAEpC,IAAIqL,EACA,KAAK,QAAQ,UACfA,EAAY,KAAK,QAAQ,UAEzBA,EAAYF,GAEd,IAAM6C,EAAK,IAAIzH,GAAa,KAAK,OAAO,EACxC,KAAK,MAAQ,IAAI/F,GAAc,KAAK,QAAQ,UAAW,KAAK,OAAO,EACnE,IAAM7E,EAAI,KAAK,SACfA,EAAE,OAASqE,EACXrE,EAAE,cAAgB,KAAK,MACvBA,EAAE,cAAgBqS,EAClBrS,EAAE,eAAiB,IAAI0L,GAAe2G,EAAI,CACxC,QAAS,KAAK,QAAQ,gBACtB,qBAAsB,KAAK,QAAQ,oBACrC,CAAC,EACiC,KAAK,QAAQ,cAAc,QAAU,KAAK,QAAQ,cAAc,SAAWH,EAAQ,cAAc,QAEjI,KAAK,OAAO,UAAU,4IAA4I,EAEhKxC,IAAc,CAAC,KAAK,QAAQ,cAAc,QAAU,KAAK,QAAQ,cAAc,SAAWwC,EAAQ,cAAc,UAClHlS,EAAE,UAAYmS,EAAoBzC,CAAS,EACvC1P,EAAE,UAAU,MAAMA,EAAE,UAAU,KAAKA,EAAG,KAAK,OAAO,EACtD,KAAK,QAAQ,cAAc,OAASA,EAAE,UAAU,OAAO,KAAKA,EAAE,SAAS,GAEzEA,EAAE,aAAe,IAAIsM,GAAa,KAAK,OAAO,EAC9CtM,EAAE,MAAQ,CACR,mBAAoB,KAAK,mBAAmB,KAAK,IAAI,CACvD,EACAA,EAAE,iBAAmB,IAAIqQ,GAAU8B,EAAoB,KAAK,QAAQ,OAAO,EAAGnS,EAAE,cAAeA,EAAG,KAAK,OAAO,EAC9GA,EAAE,iBAAiB,GAAG,IAAK,CAACyE,KAAUd,IAAS,CAC7C,KAAK,KAAKc,EAAO,GAAGd,CAAI,CAC1B,CAAC,EACG,KAAK,QAAQ,mBACf3D,EAAE,iBAAmBmS,EAAoB,KAAK,QAAQ,gBAAgB,EAClEnS,EAAE,iBAAiB,MAAMA,EAAE,iBAAiB,KAAKA,EAAG,KAAK,QAAQ,UAAW,KAAK,OAAO,GAE1F,KAAK,QAAQ,aACfA,EAAE,WAAamS,EAAoB,KAAK,QAAQ,UAAU,EACtDnS,EAAE,WAAW,MAAMA,EAAE,WAAW,KAAK,IAAI,GAE/C,KAAK,WAAa,IAAIsG,GAAW,KAAK,SAAU,KAAK,OAAO,EAC5D,KAAK,WAAW,GAAG,IAAK,CAAC7B,KAAUd,IAAS,CAC1C,KAAK,KAAKc,EAAO,GAAGd,CAAI,CAC1B,CAAC,EACD,KAAK,QAAQ,SAAS,QAAQzD,GAAK,CAC7BA,EAAE,MAAMA,EAAE,KAAK,IAAI,CACzB,CAAC,CACH,CAGA,GAFA,KAAK,OAAS,KAAK,QAAQ,cAAc,OACpCuQ,IAAUA,EAAWoB,IACtB,KAAK,QAAQ,aAAe,CAAC,KAAK,SAAS,kBAAoB,CAAC,KAAK,QAAQ,IAAK,CACpF,IAAM3H,EAAQ,KAAK,SAAS,cAAc,iBAAiB,KAAK,QAAQ,WAAW,EAC/EA,EAAM,OAAS,GAAKA,EAAM,CAAC,IAAM,QAAO,KAAK,QAAQ,IAAMA,EAAM,CAAC,EACxE,CACI,CAAC,KAAK,SAAS,kBAAoB,CAAC,KAAK,QAAQ,KACnD,KAAK,OAAO,KAAK,yDAAyD,EAE3D,CAAC,cAAe,oBAAqB,oBAAqB,mBAAmB,EACrF,QAAQiH,GAAU,CACzB,KAAKA,CAAM,EAAI,IAAIxN,IAAS,KAAK,MAAMwN,CAAM,EAAE,GAAGxN,CAAI,CACxD,CAAC,EACuB,CAAC,cAAe,eAAgB,oBAAqB,sBAAsB,EACnF,QAAQwN,GAAU,CAChC,KAAKA,CAAM,EAAI,IAAIxN,KACjB,KAAK,MAAMwN,CAAM,EAAE,GAAGxN,CAAI,EACnB,KAEX,CAAC,EACD,IAAM2O,EAAWhT,GAAM,EACjBiT,EAAO,IAAM,CACjB,IAAMC,EAAS,CAACzB,EAAK9Q,IAAM,CACzB,KAAK,eAAiB,GAClB,KAAK,eAAiB,CAAC,KAAK,sBAAsB,KAAK,OAAO,KAAK,uEAAuE,EAC9I,KAAK,cAAgB,GAChB,KAAK,QAAQ,SAAS,KAAK,OAAO,IAAI,cAAe,KAAK,OAAO,EACtE,KAAK,KAAK,cAAe,KAAK,OAAO,EACrCqS,EAAS,QAAQrS,CAAC,EAClBwQ,EAASM,EAAK9Q,CAAC,CACjB,EACA,GAAI,KAAK,WAAa,CAAC,KAAK,cAAe,OAAOuS,EAAO,KAAM,KAAK,EAAE,KAAK,IAAI,CAAC,EAChF,KAAK,eAAe,KAAK,QAAQ,IAAKA,CAAM,CAC9C,EACA,OAAI,KAAK,QAAQ,WAAa,CAAC,KAAK,QAAQ,UAC1CD,EAAK,EAEL,WAAWA,EAAM,CAAC,EAEbD,CACT,CACA,cAAcpJ,EAAUuH,EAAWoB,GAAM,CACvC,IAAIY,EAAehC,EACb3G,EAAU1K,EAAS8J,CAAQ,EAAIA,EAAW,KAAK,SAErD,GADI,OAAOA,GAAa,aAAYuJ,EAAevJ,GAC/C,CAAC,KAAK,QAAQ,WAAa,KAAK,QAAQ,wBAAyB,CACnE,GAAIY,GAAS,YAAY,IAAM,WAAa,CAAC,KAAK,QAAQ,SAAW,KAAK,QAAQ,QAAQ,SAAW,GAAI,OAAO2I,EAAa,EAC7H,IAAM/B,EAAS,CAAC,EACVgC,EAAS1N,GAAO,CAEpB,GADI,CAACA,GACDA,IAAQ,SAAU,OACT,KAAK,SAAS,cAAc,mBAAmBA,CAAG,EAC1D,QAAQ+D,GAAK,CACZA,IAAM,UACN2H,EAAO,QAAQ3H,CAAC,EAAI,GAAG2H,EAAO,KAAK3H,CAAC,CAC1C,CAAC,CACH,EACKe,EAIH4I,EAAO5I,CAAO,EAHI,KAAK,SAAS,cAAc,iBAAiB,KAAK,QAAQ,WAAW,EAC7E,QAAQ,GAAK4I,EAAO,CAAC,CAAC,EAIlC,KAAK,QAAQ,SAAS,UAAU3J,GAAK2J,EAAO3J,CAAC,CAAC,EAC9C,KAAK,SAAS,iBAAiB,KAAK2H,EAAQ,KAAK,QAAQ,GAAI3P,GAAK,CAC5D,CAACA,GAAK,CAAC,KAAK,kBAAoB,KAAK,UAAU,KAAK,oBAAoB,KAAK,QAAQ,EACzF0R,EAAa1R,CAAC,CAChB,CAAC,CACH,MACE0R,EAAa,IAAI,CAErB,CACA,gBAAgB7J,EAAM9D,EAAI2L,EAAU,CAClC,IAAM6B,EAAWhT,GAAM,EACvB,OAAI,OAAOsJ,GAAS,aAClB6H,EAAW7H,EACXA,EAAO,QAEL,OAAO9D,GAAO,aAChB2L,EAAW3L,EACXA,EAAK,QAEF8D,IAAMA,EAAO,KAAK,WAClB9D,IAAIA,EAAK,KAAK,QAAQ,IACtB2L,IAAUA,EAAWoB,IAC1B,KAAK,SAAS,iBAAiB,OAAOjJ,EAAM9D,EAAIiM,GAAO,CACrDuB,EAAS,QAAQ,EACjB7B,EAASM,CAAG,CACd,CAAC,EACMuB,CACT,CACA,IAAI9M,EAAQ,CACV,GAAI,CAACA,EAAQ,MAAM,IAAI,MAAM,+FAA+F,EAC5H,GAAI,CAACA,EAAO,KAAM,MAAM,IAAI,MAAM,0FAA0F,EAC5H,OAAIA,EAAO,OAAS,YAClB,KAAK,QAAQ,QAAUA,IAErBA,EAAO,OAAS,UAAYA,EAAO,KAAOA,EAAO,MAAQA,EAAO,SAClE,KAAK,QAAQ,OAASA,GAEpBA,EAAO,OAAS,qBAClB,KAAK,QAAQ,iBAAmBA,GAE9BA,EAAO,OAAS,eAClB,KAAK,QAAQ,WAAaA,GAExBA,EAAO,OAAS,iBAClBD,GAAc,iBAAiBC,CAAM,EAEnCA,EAAO,OAAS,cAClB,KAAK,QAAQ,UAAYA,GAEvBA,EAAO,OAAS,YAClB,KAAK,QAAQ,SAAS,KAAKA,CAAM,EAE5B,IACT,CACA,oBAAoBuD,EAAG,CACrB,GAAI,GAACA,GAAK,CAAC,KAAK,YACZ,GAAC,SAAU,KAAK,EAAE,QAAQA,CAAC,EAAI,IACnC,SAAS4J,EAAK,EAAGA,EAAK,KAAK,UAAU,OAAQA,IAAM,CACjD,IAAMC,EAAY,KAAK,UAAUD,CAAE,EACnC,GAAI,GAAC,SAAU,KAAK,EAAE,QAAQC,CAAS,EAAI,KACvC,KAAK,MAAM,4BAA4BA,CAAS,EAAG,CACrD,KAAK,iBAAmBA,EACxB,KACF,CACF,CACI,CAAC,KAAK,kBAAoB,KAAK,UAAU,QAAQ7J,CAAC,EAAI,GAAK,KAAK,MAAM,4BAA4BA,CAAC,IACrG,KAAK,iBAAmBA,EACxB,KAAK,UAAU,QAAQA,CAAC,GAE5B,CACA,eAAe/D,EAAKyL,EAAU,CAC5B,KAAK,qBAAuBzL,EAC5B,IAAMsN,EAAWhT,GAAM,EACvB,KAAK,KAAK,mBAAoB0F,CAAG,EACjC,IAAM6N,EAAc9J,GAAK,CACvB,KAAK,SAAWA,EAChB,KAAK,UAAY,KAAK,SAAS,cAAc,mBAAmBA,CAAC,EACjE,KAAK,iBAAmB,OACxB,KAAK,oBAAoBA,CAAC,CAC5B,EACM+J,EAAO,CAAC/B,EAAK,IAAM,CACnB,EACE,KAAK,uBAAyB/L,IAChC6N,EAAY,CAAC,EACb,KAAK,WAAW,eAAe,CAAC,EAChC,KAAK,qBAAuB,OAC5B,KAAK,KAAK,kBAAmB,CAAC,EAC9B,KAAK,OAAO,IAAI,kBAAmB,CAAC,GAGtC,KAAK,qBAAuB,OAE9BP,EAAS,QAAQ,IAAI3O,IAAS,KAAK,EAAE,GAAGA,CAAI,CAAC,EACzC8M,GAAUA,EAASM,EAAK,IAAIpN,IAAS,KAAK,EAAE,GAAGA,CAAI,CAAC,CAC1D,EACMoP,EAASnK,GAAQ,CACjB,CAAC5D,GAAO,CAAC4D,GAAQ,KAAK,SAAS,mBAAkBA,EAAO,CAAC,GAC7D,IAAMoK,EAAK5T,EAASwJ,CAAI,EAAIA,EAAOA,GAAQA,EAAK,CAAC,EAC3CG,EAAI,KAAK,MAAM,4BAA4BiK,CAAE,EAAIA,EAAK,KAAK,SAAS,cAAc,sBAAsB5T,EAASwJ,CAAI,EAAI,CAACA,CAAI,EAAIA,CAAI,EACxIG,IACG,KAAK,UACR8J,EAAY9J,CAAC,EAEV,KAAK,WAAW,UAAU,KAAK,WAAW,eAAeA,CAAC,EAC/D,KAAK,SAAS,kBAAkB,oBAAoBA,CAAC,GAEvD,KAAK,cAAcA,EAAGgI,GAAO,CAC3B+B,EAAK/B,EAAKhI,CAAC,CACb,CAAC,CACH,EACA,MAAI,CAAC/D,GAAO,KAAK,SAAS,kBAAoB,CAAC,KAAK,SAAS,iBAAiB,MAC5E+N,EAAO,KAAK,SAAS,iBAAiB,OAAO,CAAC,EACrC,CAAC/N,GAAO,KAAK,SAAS,kBAAoB,KAAK,SAAS,iBAAiB,MAC9E,KAAK,SAAS,iBAAiB,OAAO,SAAW,EACnD,KAAK,SAAS,iBAAiB,OAAO,EAAE,KAAK+N,CAAM,EAEnD,KAAK,SAAS,iBAAiB,OAAOA,CAAM,EAG9CA,EAAO/N,CAAG,EAELsN,CACT,CACA,UAAUtN,EAAKF,EAAImO,EAAW,CAC5B,IAAMC,EAAS,CAAC7S,EAAK8F,KAAS6I,IAAS,CACrC,IAAIvI,EACA,OAAON,GAAS,SAClBM,EAAI,KAAK,QAAQ,iCAAiC,CAACpG,EAAK8F,CAAI,EAAE,OAAO6I,CAAI,CAAC,EAE1EvI,EAAI,CACF,GAAGN,CACL,EAEFM,EAAE,IAAMA,EAAE,KAAOyM,EAAO,IACxBzM,EAAE,KAAOA,EAAE,MAAQyM,EAAO,KAC1BzM,EAAE,GAAKA,EAAE,IAAMyM,EAAO,GAClBzM,EAAE,YAAc,KAAIA,EAAE,UAAYA,EAAE,WAAawM,GAAaC,EAAO,WACzE,IAAMvQ,EAAe,KAAK,QAAQ,cAAgB,IAC9CwQ,EACJ,OAAI1M,EAAE,WAAa,MAAM,QAAQpG,CAAG,EAClC8S,EAAY9S,EAAI,IAAIS,IACd,OAAOA,GAAM,aAAYA,EAAImF,GAAiBnF,EAAG,CACnD,GAAG,KAAK,QACR,GAAGqF,CACL,CAAC,GACM,GAAGM,EAAE,SAAS,GAAG9D,CAAY,GAAG7B,CAAC,GACzC,GAEG,OAAOT,GAAQ,aAAYA,EAAM4F,GAAiB5F,EAAK,CACzD,GAAG,KAAK,QACR,GAAG8F,CACL,CAAC,GACDgN,EAAY1M,EAAE,UAAY,GAAGA,EAAE,SAAS,GAAG9D,CAAY,GAAGtC,CAAG,GAAKA,GAE7D,KAAK,EAAE8S,EAAW1M,CAAC,CAC5B,EACA,OAAIrH,EAAS4F,CAAG,EACdkO,EAAO,IAAMlO,EAEbkO,EAAO,KAAOlO,EAEhBkO,EAAO,GAAKpO,EACZoO,EAAO,UAAYD,EACZC,CACT,CACA,KAAKvP,EAAM,CACT,OAAO,KAAK,YAAY,UAAU,GAAGA,CAAI,CAC3C,CACA,UAAUA,EAAM,CACd,OAAO,KAAK,YAAY,OAAO,GAAGA,CAAI,CACxC,CACA,oBAAoBmB,EAAI,CACtB,KAAK,QAAQ,UAAYA,CAC3B,CACA,mBAAmBA,EAAId,EAAU,CAAC,EAAG,CACnC,GAAI,CAAC,KAAK,cACR,YAAK,OAAO,KAAK,kDAAmD,KAAK,SAAS,EAC3E,GAET,GAAI,CAAC,KAAK,WAAa,CAAC,KAAK,UAAU,OACrC,YAAK,OAAO,KAAK,6DAA8D,KAAK,SAAS,EACtF,GAET,IAAMgB,EAAMhB,EAAQ,KAAO,KAAK,kBAAoB,KAAK,UAAU,CAAC,EAC9DoP,EAAc,KAAK,QAAU,KAAK,QAAQ,YAAc,GACxDC,EAAU,KAAK,UAAU,KAAK,UAAU,OAAS,CAAC,EACxD,GAAIrO,EAAI,YAAY,IAAM,SAAU,MAAO,GAC3C,IAAMsO,EAAiB,CAACvK,EAAGmI,IAAM,CAC/B,IAAMqC,EAAY,KAAK,SAAS,iBAAiB,MAAM,GAAGxK,CAAC,IAAImI,CAAC,EAAE,EAClE,OAAOqC,IAAc,IAAMA,IAAc,GAAKA,IAAc,CAC9D,EACA,GAAIvP,EAAQ,SAAU,CACpB,IAAMwP,EAAYxP,EAAQ,SAAS,KAAMsP,CAAc,EACvD,GAAIE,IAAc,OAAW,OAAOA,CACtC,CAGA,MAFI,QAAK,kBAAkBxO,EAAKF,CAAE,GAC9B,CAAC,KAAK,SAAS,iBAAiB,SAAW,KAAK,QAAQ,WAAa,CAAC,KAAK,QAAQ,yBACnFwO,EAAetO,EAAKF,CAAE,IAAM,CAACsO,GAAeE,EAAeD,EAASvO,CAAE,GAE5E,CACA,eAAeA,EAAI2L,EAAU,CAC3B,IAAM6B,EAAWhT,GAAM,EACvB,OAAK,KAAK,QAAQ,IAIdF,EAAS0F,CAAE,IAAGA,EAAK,CAACA,CAAE,GAC1BA,EAAG,QAAQoM,GAAK,CACV,KAAK,QAAQ,GAAG,QAAQA,CAAC,EAAI,GAAG,KAAK,QAAQ,GAAG,KAAKA,CAAC,CAC5D,CAAC,EACD,KAAK,cAAcH,GAAO,CACxBuB,EAAS,QAAQ,EACb7B,GAAUA,EAASM,CAAG,CAC5B,CAAC,EACMuB,IAXD7B,GAAUA,EAAS,EAChB,QAAQ,QAAQ,EAW3B,CACA,cAAc7H,EAAM6H,EAAU,CAC5B,IAAM6B,EAAWhT,GAAM,EACnBF,EAASwJ,CAAI,IAAGA,EAAO,CAACA,CAAI,GAChC,IAAM6K,EAAY,KAAK,QAAQ,SAAW,CAAC,EACrCC,EAAU9K,EAAK,OAAO5D,GAAOyO,EAAU,QAAQzO,CAAG,EAAI,GAAK,KAAK,SAAS,cAAc,gBAAgBA,CAAG,CAAC,EACjH,OAAK0O,EAAQ,QAIb,KAAK,QAAQ,QAAUD,EAAU,OAAOC,CAAO,EAC/C,KAAK,cAAc3C,GAAO,CACxBuB,EAAS,QAAQ,EACb7B,GAAUA,EAASM,CAAG,CAC5B,CAAC,EACMuB,IARD7B,GAAUA,EAAS,EAChB,QAAQ,QAAQ,EAQ3B,CACA,IAAIzL,EAAK,CAEP,GADKA,IAAKA,EAAM,KAAK,mBAAqB,KAAK,WAAW,OAAS,EAAI,KAAK,UAAU,CAAC,EAAI,KAAK,WAC5F,CAACA,EAAK,MAAO,MACjB,GAAI,CACF,IAAM+D,EAAI,IAAI,KAAK,OAAO/D,CAAG,EAC7B,GAAI+D,GAAKA,EAAE,YAAa,CACtB,IAAM4K,EAAK5K,EAAE,YAAY,EACzB,GAAI4K,GAAMA,EAAG,UAAW,OAAOA,EAAG,SACpC,CACF,MAAY,CAAC,CACb,IAAMC,EAAU,CAAC,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,KAAK,EACjbjI,EAAgB,KAAK,UAAU,eAAiB,IAAIf,GAAa8G,GAAI,CAAC,EAC5E,OAAI1M,EAAI,YAAY,EAAE,QAAQ,OAAO,EAAI,EAAU,MAC5C4O,EAAQ,QAAQjI,EAAc,wBAAwB3G,CAAG,CAAC,EAAI,IAAMA,EAAI,YAAY,EAAE,QAAQ,OAAO,EAAI,EAAI,MAAQ,KAC9H,CACA,OAAO,eAAehB,EAAU,CAAC,EAAGyM,EAAU,CAC5C,IAAMoD,EAAW,IAAI5B,EAAKjO,EAASyM,CAAQ,EAC3C,OAAAoD,EAAS,eAAiB5B,EAAK,eACxB4B,CACT,CACA,cAAc7P,EAAU,CAAC,EAAGyM,EAAWoB,GAAM,CAC3C,IAAMiC,EAAoB9P,EAAQ,kBAC9B8P,GAAmB,OAAO9P,EAAQ,kBACtC,IAAM+P,EAAgB,CACpB,GAAG,KAAK,QACR,GAAG/P,EAED,QAAS,EAEb,EACMgQ,EAAQ,IAAI/B,EAAK8B,CAAa,EAcpC,IAbI/P,EAAQ,QAAU,QAAaA,EAAQ,SAAW,UACpDgQ,EAAM,OAASA,EAAM,OAAO,MAAMhQ,CAAO,GAErB,CAAC,QAAS,WAAY,UAAU,EACxC,QAAQ9D,GAAK,CACzB8T,EAAM9T,CAAC,EAAI,KAAKA,CAAC,CACnB,CAAC,EACD8T,EAAM,SAAW,CACf,GAAG,KAAK,QACV,EACAA,EAAM,SAAS,MAAQ,CACrB,mBAAoBA,EAAM,mBAAmB,KAAKA,CAAK,CACzD,EACIF,EAAmB,CACrB,IAAMG,EAAa,OAAO,KAAK,KAAK,MAAM,IAAI,EAAE,OAAO,CAACC,EAAMnL,KAC5DmL,EAAKnL,CAAC,EAAI,CACR,GAAG,KAAK,MAAM,KAAKA,CAAC,CACtB,EACAmL,EAAKnL,CAAC,EAAI,OAAO,KAAKmL,EAAKnL,CAAC,CAAC,EAAE,OAAO,CAACoL,EAAKjD,KAC1CiD,EAAIjD,CAAC,EAAI,CACP,GAAGgD,EAAKnL,CAAC,EAAEmI,CAAC,CACd,EACOiD,GACND,EAAKnL,CAAC,CAAC,EACHmL,GACN,CAAC,CAAC,EACLF,EAAM,MAAQ,IAAInP,GAAcoP,EAAYF,CAAa,EACzDC,EAAM,SAAS,cAAgBA,EAAM,KACvC,CACA,OAAAA,EAAM,WAAa,IAAI1N,GAAW0N,EAAM,SAAUD,CAAa,EAC/DC,EAAM,WAAW,GAAG,IAAK,CAACvP,KAAUd,IAAS,CAC3CqQ,EAAM,KAAKvP,EAAO,GAAGd,CAAI,CAC3B,CAAC,EACDqQ,EAAM,KAAKD,EAAetD,CAAQ,EAClCuD,EAAM,WAAW,QAAUD,EAC3BC,EAAM,WAAW,iBAAiB,SAAS,MAAQ,CACjD,mBAAoBA,EAAM,mBAAmB,KAAKA,CAAK,CACzD,EACOA,CACT,CACA,QAAS,CACP,MAAO,CACL,QAAS,KAAK,QACd,MAAO,KAAK,MACZ,SAAU,KAAK,SACf,UAAW,KAAK,UAChB,iBAAkB,KAAK,gBACzB,CACF,CACF,EACMH,EAAW7B,GAAK,eAAe,EAE/BoC,GAAiBP,EAAS,eAC1BQ,GAAMR,EAAS,IACfS,GAAOT,EAAS,KAChBU,GAAgBV,EAAS,cACzBW,GAAkBX,EAAS,gBAC3BY,GAAMZ,EAAS,IACfa,GAAiBb,EAAS,eAC1Bc,GAAYd,EAAS,UACrB5T,GAAI4T,EAAS,EACbe,GAASf,EAAS,OAClBgB,GAAsBhB,EAAS,oBAC/BiB,GAAqBjB,EAAS,mBAC9BkB,GAAiBlB,EAAS,eAC1BmB,GAAgBnB,EAAS,cC1pE/B,IAAAoB,GAAA,CACI,GAAM,CACF,OAAU,CACN,YAAa,sBACb,YAAa,YACb,cAAe,OACf,sBAAuB,aACvB,aAAc,YACd,eAAgB,QAChB,uBAAwB,2CACxB,aAAc,eACd,eAAgB,QAChB,uBAAwB,mDACxB,YAAa,YACb,cAAe,OACf,sBAAuB,sCACvB,YAAa,YACb,cAAe,OACf,sBAAuB,yCACvB,gBAAiB,YACjB,kBAAmB,WACnB,0BAA2B,wCAC3B,cAAe,YACf,gBAAiB,SACjB,wBAAyB,sCACzB,cAAe,eACf,gBAAiB,SACjB,wBAAyB,oDACzB,aAAc,SACd,eAAgB,QAChB,uBAAwB,6CAExB,eAAgB,SACpB,CACJ,EACA,GAAM,CACF,OAAU,CACN,YAAa,wBACb,YAAa,YACb,aAAc,YACd,eAAgB,YAChB,cAAe,SACf,YAAa,YACb,cAAe,UACf,YAAa,YACb,cAAe,SACf,gBAAiB,YACjB,kBAAmB,YACnB,cAAe,YACf,gBAAiB,QACjB,cAAe,eACf,gBAAiB,WACjB,aAAc,SACd,eAAgB,QACpB,CACJ,CACJ,ECrDO,IAAMC,GAAY,SAEzBC,EAAQ,KAAK,CACT,IAAK,KACL,YAAa,KACb,MAAO,GAEP,GAAI,CAACD,EAAS,EACd,UAAAA,GAEA,UAAAE,EACJ,CAAC,EAEM,IAAMC,EAAIF,EAAQ,EAAE,KAAKA,CAAO,ECfvC,IAAMG,GAAO,OAAO,KAIpB,SAASC,GAAUC,EAAK,CACtB,OAAO,OAAOA,GAAQ,SACxB,CACA,SAASC,GAAUD,EAAK,CACtB,OAAOA,GAAO,OAAOA,EAAI,UAAa,QACxC,CACA,SAASE,GAASF,EAAK,CACrB,OAAO,OAAOA,GAAQ,QACxB,CACA,SAASG,GAASH,EAAK,CACrB,OAAO,OAAOA,GAAQ,QACxB,CACA,SAASI,GAASJ,EAAK,CACrB,OAAO,OAAOA,GAAQ,SAAWA,IAAQ,KAAOK,GAAWL,CAAG,CAChE,CACA,SAASK,GAAWL,EAAK,CACvB,OAAO,OAAOA,GAAQ,UACxB,CACA,SAASM,GAAiBC,EAAW,CACnC,MAAO,CAAC,EAAEA,GAAaA,EAAU,YACnC,CACA,SAASC,GAAYC,EAAK,CACxB,OACEL,GAASK,CAAG,GACZ,OAAOA,EAAI,QAAW,UACtB,OAAOA,EAAI,UAAa,QAE5B,CACA,SAASC,GAAQC,EAAOC,EAAI,CAC1B,GAAKD,EACL,QAAWE,KAAOC,GAAKH,CAAK,EAC1BC,EAAGD,EAAME,CAAG,EAAGA,CAAG,CAEtB,CAOA,SAASE,GAAMC,EAAU,CACvB,OAAOC,GAASD,CAAQ,GAAK,YAAaA,CAC5C,CAYA,IAAME,GAAmB,CACvB,wBAAyB,EACzB,kBAAmB,EACnB,iBAAkB,EAClB,iBAAkB,EAClB,QAAS,EACT,aAAc,EACd,gBAAiB,EACjB,YAAa,EACb,QAAS,EACT,KAAM,EACN,SAAU,EACV,aAAc,EACd,WAAY,EACZ,aAAc,EACd,UAAW,EACX,SAAU,EACV,QAAS,EACT,WAAY,EACZ,YAAa,EACb,aAAc,EACd,WAAY,EACZ,cAAe,EACf,eAAgB,EAChB,gBAAiB,EACjB,WAAY,EACZ,UAAW,EACX,WAAY,EACZ,QAAS,EACT,MAAO,EACP,QAAS,EACT,QAAS,EACT,OAAQ,EACR,OAAQ,EACR,KAAM,EAEN,YAAa,EACb,aAAc,EACd,YAAa,EACb,gBAAiB,EACjB,iBAAkB,EAClB,iBAAkB,EAClB,cAAe,EACf,YAAa,CACf,EAQA,SAASC,GAAUC,EAAQC,EAAK,CAC9B,OAAOD,EAASC,EAAI,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAI,UAAU,CAAC,CAC/D,CAMA,IAAMC,GAAW,CAAC,SAAU,KAAM,MAAO,GAAG,EAG5CC,GAAKL,EAAgB,EAAE,QAASM,GAAS,CACvCF,GAAS,QAASF,GAAW,CAC3BF,GAAiBC,GAAUC,EAAQI,CAAI,CAAC,EAAI,CAC9C,CAAC,CACH,CAAC,EAED,IAAMC,GAAa,OAAO,IAAI,cAAc,EACxCC,IAA4B,SAAUA,EAAY,CACpD,OAAAA,EAAW,WAAgB,aACpBA,CACT,GAAGA,IAAc,CAAC,CAAC,EAUnB,SAASC,GAAaC,EAAI,CACxB,OAAOA,GAAM,MAAQA,EAAGC,EAAU,IAAMC,GAAW,UACrD,CAEA,IAAMC,GAAe,6BACfC,GAAiB,+BACjBC,GAAe,uCAIrB,SAASC,GAAeC,EAAO,CAC7B,MAAO,CAACC,GAAUD,CAAK,GAAKA,GAAS,IACvC,CAMA,SAASE,GAAUF,EAAO,CACxB,OAAI,MAAM,QAAQA,CAAK,EACdA,EAAM,IAAIE,EAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,EAC3CC,GAASH,CAAK,EACnB,OAAO,YAAYA,EACdE,GAAU,MAAM,KAAKF,CAAK,CAAC,EAE7BI,GAAKJ,CAAK,EACd,OAAQK,GAAML,EAAMK,CAAC,CAAC,EACtB,KAAK,GAAG,EACFN,GAAeC,CAAK,EACtB,GAAKA,EAEL,EAEX,CACA,IAAMM,GAAM,CACV,QAAS,EACT,OAAQ,EACR,SAAU,EACV,KAAM,EACN,KAAM,EACN,QAAS,EACT,QAAS,EACT,cAAe,EACf,oBAAqB,EACrB,YAAa,EACb,iBAAkB,EAClB,kBAAmB,EACnB,kBAAmB,EACnB,eAAgB,EAChB,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,QAAS,EACT,eAAgB,EAChB,QAAS,EACT,QAAS,EACT,YAAa,EACb,aAAc,EACd,SAAU,EACV,aAAc,EACd,mBAAoB,EACpB,YAAa,EACb,OAAQ,EACR,aAAc,EACd,OAAQ,EACR,cAAe,EACf,EAAG,EACH,MAAO,EACP,KAAM,EACN,eAAgB,EAChB,OAAQ,EACR,KAAM,EACN,SAAU,EACV,KAAM,EACN,QAAS,EACT,QAAS,EACT,SAAU,EACV,eAAgB,EAChB,KAAM,EACN,KAAM,EACN,IAAK,EACL,OAAQ,EACR,OAAQ,EACR,KAAM,EACN,SAAU,EACV,MAAO,EACP,IAAK,EACL,KAAM,CACR,EACMC,GACJ,iKAkBF,SAASC,GAAmBC,EAAOC,EAAMC,EAAU,CACjDD,EAAO,CACL,GAAGA,EACH,SAAAC,CACF,EACA,IAAMC,EAAW,IAAIH,EAAMC,CAAI,EACzBG,EAAOD,EAAS,OAAO,EAC7B,MAAI,QAASF,GACXI,GAAUJ,EAAK,IAAKE,CAAQ,EAEvBC,CACT,CAGA,SAASE,EAAIC,EAAKC,EAAM,CACtB,GAAI,CAAE,SAAAN,EAAU,GAAGD,CAAK,EAAIO,EACxB,CAACP,EAAK,cAAgBQ,GAAIF,CAAG,IAAM,IACrCN,EAAO,CACL,GAAGA,EACH,aAAcS,EAChB,GAEF,IAAIN,EACJ,GAAIO,GAASJ,CAAG,EAAG,CAQjB,GAPAH,EAAOH,EAAK,aACR,SAAS,gBAAgBA,EAAK,aAAcM,CAAG,EAC/C,SAAS,cAAcA,CAAG,EAC9BK,GAAWX,EAAMG,CAAI,EACrBS,GAAYX,EAAUE,CAAI,EAGtBA,aAAgB,OAAO,mBAAqBH,EAAK,OAAS,KAC5D,GAAIA,EAAK,WAAa,IAAQ,MAAM,QAAQA,EAAK,KAAK,EAAG,CACvD,IAAMa,EAASb,EAAK,MAAM,IAAKc,GAAU,OAAOA,CAAK,CAAC,EACtDX,EACG,iBAAiB,QAAQ,EACzB,QACEY,GAAYA,EAAO,SAAWF,EAAO,SAASE,EAAO,KAAK,CAC7D,CACJ,MACEZ,EAAK,MAAQH,EAAK,MAGtBI,GAAUJ,EAAK,IAAKG,CAAI,CAC1B,SAAWa,GAAWV,CAAG,EAEnBW,GAASX,EAAI,YAAY,IAC3BN,EAAO,CACL,GAAGM,EAAI,aACP,GAAGN,CACL,GAEFG,EAAOe,GAAiBZ,CAAG,EACvBR,GAAmBQ,EAAKN,EAAMC,CAAQ,EACtCK,EAAI,CACF,GAAGN,EACH,SAAAC,CACF,CAAC,MAEL,OAAM,IAAI,UAAU,6BAA6BK,CAAG,EAAE,EAExD,OAAOH,CACT,CA4BA,SAASgB,GAAUC,EAAKC,EAAM,CACxBC,GAAMF,CAAG,EACXA,EAAI,QAAUC,EACLE,GAAWH,CAAG,GACvBA,EAAIC,CAAI,CAEZ,CACA,SAASG,GAAYC,EAAOJ,EAAM,CAChC,GAAIK,GAAYD,CAAK,EACnBE,GAAeF,EAAOJ,CAAI,UACjBO,GAASH,CAAK,GAAKI,GAASJ,CAAK,EAC1CK,GAAkB,SAAS,eAAeL,CAAK,EAAGJ,CAAI,UAC7CI,IAAU,KACnBK,GAAkB,SAAS,cAAc,EAAE,EAAGT,CAAI,UACzCU,GAAUN,CAAK,EACxBK,GAAkBL,EAAOJ,CAAI,UACpBW,GAAaP,CAAK,EAAG,CAC9B,IAAMQ,EAAaZ,EAAK,aAAaI,EAAM,IAAI,EAC/CD,GAAYC,EAAM,SAAUQ,CAAU,EACtCd,GAAUM,EAAM,IAAKQ,CAAU,CACjC,CACF,CACA,SAASN,GAAeO,EAAUb,EAAM,CACtC,QAAWI,IAAS,CAAC,GAAGS,CAAQ,EAC9BV,GAAYC,EAAOJ,CAAI,EAEzB,OAAOA,CACT,CACA,SAASS,GAAkBL,EAAOJ,EAAM,CAClCA,aAAgB,OAAO,oBACzBA,EAAK,QAAQ,YAAYI,CAAK,EAE9BJ,EAAK,YAAYI,CAAK,CAE1B,CACA,SAASU,GAAmBC,EAAGC,EAAW,CACxC,OAAOD,EAAE,QAAQ,SAAWE,GAAUD,EAAYC,EAAM,YAAY,CAAC,CACvE,CACA,SAASC,GAAMlB,EAAMmB,EAAO,CACtBA,GAAS,MAAQA,IAAU,KACtB,MAAM,QAAQA,CAAK,EAC1BA,EAAM,QAASC,GAAMF,GAAMlB,EAAMoB,CAAC,CAAC,EAC1Bb,GAASY,CAAK,EACvBnB,EAAK,aAAa,QAASmB,CAAK,EACvBE,GAASF,CAAK,GACvBG,GAAQH,EAAO,CAACI,EAAKC,IAAQ,CACvBA,EAAI,QAAQ,GAAG,IAAM,EAGvBxB,EAAK,MAAM,YAAYwB,EAAKD,CAAG,EACtBf,GAASe,CAAG,GAAKE,GAAiBD,CAAG,IAAM,EACpDxB,EAAK,MAAMwB,CAAG,EAAID,EAAM,KAExBvB,EAAK,MAAMwB,CAAG,EAAID,CAEtB,CAAC,EAEL,CACA,SAASG,GAAUF,EAAKL,EAAOnB,EAAM,CACnC,OAAQwB,EAAK,CACX,IAAK,eACL,IAAK,eACL,IAAK,YACL,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,YACHG,GAAO3B,EAAM4B,GAAgBd,GAAmBU,EAAK,GAAG,EAAGL,CAAK,EAChE,OACF,IAAK,aACHU,GAAK7B,EAAMc,GAAmBU,EAAK,GAAG,EAAGL,CAAK,EAC9C,OACF,IAAK,UACL,IAAK,UACL,IAAK,WACHQ,GAAO3B,EAAM8B,GAAchB,GAAmBU,EAAK,GAAG,EAAGL,CAAK,EAC9D,MACJ,CACA,OAAQK,EAAK,CACX,IAAK,UACHK,GAAK7B,EAAM,MAAOmB,CAAK,EACvB,OACF,IAAK,UACHG,GAAQH,EAAO,CAACY,EAAWC,IAAY,CACjCD,GAAa,OACf/B,EAAK,QAAQgC,CAAO,EAAID,EAE5B,CAAC,EACD,OACF,IAAK,YACL,IAAK,YACL,IAAK,cACCE,GAAed,CAAK,IACtBnB,EAAKwB,CAAG,EAAIL,GAEd,OACF,IAAK,0BACCE,GAASF,CAAK,IAChBnB,EAAK,UAAYmB,EAAM,QAEzB,OACF,IAAK,QACH,GAAIA,GAAS,MAAQnB,aAAgB,OAAO,kBAG1C,OACK,GAAIA,aAAgB,OAAO,oBAAqB,CACrDA,EAAK,MAAQmB,EACb,MACF,CAEA,MACF,IAAK,aACHnB,EAAK,WAAamB,EAClB,OACF,IAAK,QACL,IAAK,YACCjB,GAAWiB,CAAK,EAClBA,EAAMnB,CAAI,EAEV6B,GAAK7B,EAAM,QAASkC,GAAUf,CAAK,CAAC,EAEtC,OACF,IAAK,MACL,IAAK,eACH,OACF,IAAK,QACHD,GAAMlB,EAAMmB,CAAK,EACjB,OACF,IAAK,KACL,IAAK,YACHG,GAAQH,EAAO,CAACgB,EAAcC,IAAc,CAC1CpC,EAAK,iBAAiBoC,EAAWD,EAAcX,IAAQ,WAAW,CACpE,CAAC,EACD,MAEJ,CACA,GAAItB,GAAWiB,CAAK,GAClB,GAAIK,EAAI,CAAC,IAAM,KAAOA,EAAI,CAAC,IAAM,IAAK,CACpC,IAAIE,EAAYF,EAAI,YAAY,EAC1Ba,EAAaX,EAAU,SAAS,SAAS,EAM/C,GALIA,IAAc,gBAChBA,EAAY,aACHW,GAAcX,IAAc,yBACrCA,EAAY,qBAEV,CAACW,GAAcrC,EAAK0B,CAAS,IAAM,KAErC1B,EAAK0B,CAAS,EAAIP,UACTkB,EACTrC,EAAK,iBACH0B,EAAU,UAAU,EAAGA,EAAU,OAAS,CAAC,EAC3CP,EACA,EACF,MACK,CACL,IAAIiB,EACAV,KAAa,OAMfU,EAD0BV,EAAU,UAAU,CAAC,EAS/CU,EADwBV,EAAU,CAAC,EAAIF,EAAI,MAAM,CAAC,EAGpDxB,EAAK,iBAAiBoC,EAAWjB,CAAK,CACxC,CACF,OACSE,GAASF,CAAK,EACvBnB,EAAKwB,CAAG,EAAIL,EACHA,IAAU,GACnBU,GAAK7B,EAAMwB,EAAK,EAAE,EACTL,IAAU,IAASA,GAAS,OACjCnB,aAAgB,YAAc,CAACsC,GAA6B,KAAKd,CAAG,EACtEK,GAAK7B,EAAMc,GAAmBU,EAAK,GAAG,EAAGL,CAAK,EAE9CU,GAAK7B,EAAMwB,EAAKL,CAAK,EAG3B,CACA,SAASU,GAAK7B,EAAMwB,EAAKL,EAAO,CAC9BnB,EAAK,aAAawB,EAAKL,CAAK,CAC9B,CACA,SAASQ,GAAO3B,EAAMuC,EAAWf,EAAKL,EAAO,CAC3CnB,EAAK,eAAeuC,EAAWf,EAAKL,CAAK,CAC3C,CACA,SAASqB,GAAWX,EAAM7B,EAAM,CAC9B,QAAWwB,KAAOiB,GAAKZ,CAAI,EACzBH,GAAUF,EAAKK,EAAKL,CAAG,EAAGxB,CAAI,EAEhC,OAAOA,CACT,CC1hBO,IAAM0C,GAAN,KAAqB,CAChB,cAER,YAAYC,EAAkB,CAK1B,GAJA,KAAK,cAAgB,SAAS,cAC1B,mBACJ,EAEI,CAAC,KAAK,cACN,MAAM,IAAI,MAAM,0BAA0B,EAG9C,IAAMC,EAAU,KAAK,gBAAgB,EACrC,KAAK,cAAc,YAAYA,CAAO,CAC1C,CAEQ,iBAAkB,CACtB,IAAMC,EAAQC,EAAC,QAAM,SAAAC,EAAE,WAAW,EAAE,EAC9BC,EAAa,KAAK,iBAAiB,EACzC,OACIF,EAAC,OAAI,UAAU,qBACV,UAAAD,EACAG,GACL,CAER,CAEQ,kBAAmB,CACvB,OACIF,EAAC,OAAI,UAAU,6BACX,UAAAA,EAAC,UAAO,MAAOC,EAAE,aAAa,EAAG,MAAM,sBAClC,SAAAA,EAAE,WAAW,EAClB,EACAD,EAAC,UAAO,MAAOC,EAAE,cAAc,EAAG,MAAM,uBACnC,SAAAA,EAAE,YAAY,EACnB,EACAD,EAAC,UAAO,MAAOC,EAAE,cAAc,EAAG,MAAM,uBACnC,SAAAA,EAAE,YAAY,EACnB,EACAD,EAAC,UAAO,MAAOC,EAAE,aAAa,EAAG,MAAM,sBAClC,SAAAA,EAAE,WAAW,EAClB,EACAD,EAAC,UAAO,MAAOC,EAAE,aAAa,EAAG,MAAM,sBAClC,SAAAA,EAAE,WAAW,EAClB,EACAD,EAAC,UACG,MAAOC,EAAE,iBAAiB,EAC1B,MAAM,0BAEL,SAAAA,EAAE,eAAe,EACtB,EACAD,EAAC,UACG,MAAOC,EAAE,eAAe,EACxB,MAAM,wBAEL,SAAAA,EAAE,aAAa,EACpB,EACAD,EAAC,UAAO,MAAOC,EAAE,cAAc,EAAG,MAAM,uBACnC,SAAAA,EAAE,YAAY,EACnB,GACJ,CAER,CAEO,SAASF,EAAe,CAC3B,KAAK,cAAc,UAAY,SAASA,CAAK,SACjD,CACJ,ECnEO,IAAMI,GAAN,KAAqB,CAChB,cACA,aAER,aAAc,CAKV,GAJA,KAAK,cAAgB,SAAS,cAC1B,mBACJ,EAEI,CAAC,KAAK,cACN,MAAM,IAAI,MAAM,0BAA0B,EAG9C,IAAMC,EAAU,KAAK,gBAAgB,EACrC,KAAK,cAAc,YAAYA,CAAO,EACtC,KAAK,aAAe,KAAK,cAAc,cACnC,uBACJ,CACJ,CAEQ,iBAAkB,CACtB,OACIC,EAAC,OAAI,UAAU,qBACX,UAAAA,EAAC,QAAM,SAAAC,EAAE,cAAc,EAAE,EACzBD,EAAC,QAAK,UAAU,uBAAuB,GAC3C,CAER,CAEO,SAASE,EAAe,CAC3B,KAAK,aAAa,YAAcA,CACpC,CACJ,EC7BA,IAAYC,GAAZ,SAAYA,EAAQ,CAClBA,EAAA,OAAA,SACAA,EAAA,OAAA,SACAA,EAAA,QAAA,SACF,GAJYA,IAAAA,EAAQ,CAAA,EAAA,EAqEb,IAAMC,GAAsD,CACjE,aAAc,eACd,aAAc,gBAKHC,GAAsD,CACjE,MAAO,QACP,MAAO,QACP,KAAM,QAKKC,GAAgD,CAC3D,KAAM,OACN,KAAM,QAGIC,IAAZ,SAAYA,EAAe,CACzBA,EAAA,KAAA,OACAA,EAAA,KAAA,OACAA,EAAA,MAAA,OACF,GAJYA,KAAAA,GAAe,CAAA,EAAA,EC9F3B,IAAMC,GAAW,CAEf,IACA,IACA,IAEA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KACA,IACA,IACA,KAKIC,GAAQ,OAAO,IAAMD,GAAS,KAAK,IAAI,EAAI,IAAK,GAAG,EAKnD,SAAUE,GAAgBC,EAAW,CACzC,OAAOA,EAAI,QAAQF,GAAO,MAAM,CAClC,CAKM,SAAUG,GAAUC,EAAY,CACpC,OAAOA,GAAOA,EAAK,QAAQ,MAAO,GAAG,CACvC,CAKM,SAAUC,GAASC,EAAY,CACnC,IAAIC,EAAGC,EAAKC,EACRC,EAAO,EAEX,IAAKH,EAAI,EAAGE,EAAMH,EAAK,OAAQC,EAAIE,EAAKF,IACtCC,EAAMF,EAAK,WAAWC,CAAC,EACvBG,GAAQA,GAAQ,GAAKA,EAAOF,EAC5BE,GAAQ,EAGV,OAAOA,CACT,CAaM,SAAUC,GAAIC,EAAa,CAC/B,IAAMC,EAASD,EAAI,OACfD,EAAM,KAEV,QAASJ,EAAI,EAAGA,EAAIM,EAAQN,IAC1BI,EAAM,KAAK,IAAIA,EAAKC,EAAIL,CAAC,CAAC,EAE5B,OAAOI,CACT,CC/DA,SAASG,GAAaC,EAAkBC,EAAgB,CACtD,IAAMC,EAAgBF,EAAS,MAAM,GAAG,EACxC,OAAOE,EAAc,OAAS,EAAIA,EAAcA,EAAc,OAAS,CAAC,EAAID,CAC9E,CAEA,SAASE,GAAcC,EAAaC,EAAkB,CACpD,OAAOA,EAAS,OAAgB,CAACC,EAAYC,IAAWD,GAAcF,EAAI,WAAWG,CAAM,EAAG,EAAK,CACrG,CAEA,IAAMC,GAA2B,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACpE,SAASC,GAAYC,EAAcC,EAAqBC,EAAoB,CAC1E,IAAMP,EAAWO,IAAgB,OAAY,CAAC,GAAGJ,GAA0BI,CAAW,EAAIJ,GAEpFK,EAAiBF,EACnB,IAAI,OAAO,IAAIG,GAAgBH,CAAU,CAAC,aAAa,EACvD,IAAI,OAAO,aAAa,EAEtB,CAAC,CAAEX,EAAW,EAAE,EAAIa,EAAe,KAAKH,CAAI,GAAK,CAAA,EACjDK,EAAiBV,EAAS,KAAKW,GAAKhB,EAAS,QAAQgB,CAAC,IAAM,CAAC,EAMnE,OAL2BD,EAAiBf,EAAS,MAAMe,EAAe,MAAM,EAAIf,GAK1D,QAAQ,gEAAiE,EAAE,CACvG,CAEA,SAASiB,GAAeP,EAAcQ,EAAkB,CACtD,OAAOT,GAAYC,EAAM,MAAOQ,CAAS,CAC3C,CAEA,SAASC,GAAeT,EAAcU,EAAkB,CACtD,OAAOX,GAAYC,EAAM,MAAOU,CAAS,CAC3C,CAUM,SAAUC,GAAMC,EAAmBC,EAA2B,CAAA,EAAE,CACpE,IAAMC,EAAoB,CAAA,EACtBC,EAA+B,KAC/BC,EAAiC,KACjCC,EAAyB,KACzBC,EAA0B,KAC1BC,EAAyB,KAEzBC,EAAiC,KACjCC,EAAiC,KAG/BC,EAAoB,OACpBC,EAAoB,OACpBC,EAAmB,KAGnBC,EAAU,oBACVC,EAAU,oBACVC,EAAkB,6BAClBC,EAAc,yBAEdC,EAAW,sBACXC,EAAS,oBAETC,EAAa,wBACbC,EAAW,sBAEXC,EAAkB,2BAClBC,EAAqB,8BACrBC,EAAQ,6CAERC,EAAc,qCACdC,EAAa,oBAGbC,EAAgB,6CAChBC,EAAe,mCACfC,EAAkB,yBAClBC,EAAsB,qCAEtBC,EAAY9B,EACf,QAAQ,gCAAiC,EAAE,EAC3C,QAAQ,SAAU;CAAI,EACtB,MAAM;CAAI,EAGb,SAAS+B,GAAS,CACZ3B,IAAiB,MAAQD,IAAgB,OAC3CA,EAAY,OAAO,KAAKC,CAAY,EACpCA,EAAe,KAEnB,CAMA,SAAS4B,GAAQ,CACX7B,IAAgB,OACd,CAACA,EAAY,SAAWK,IAAoB,OAC9CL,EAAY,QAAUK,GAGpB,CAACL,EAAY,SAAWM,IAAoB,OAC9CN,EAAY,QAAUM,GAGpBN,EAAY,UACdD,EAAM,KAAKC,CAAW,EACtBA,EAAc,OAIlBK,EAAkB,KAClBC,EAAkB,IACpB,CAGA,SAASwB,GAAS,CAChBF,EAAS,EACTC,EAAQ,EAIR7B,EAAc,CACZ,OAAQ,CAAA,EACR,aAAc,EACd,WAAY,EAEhB,CAEA,SAAS+B,EAAW9C,EAAY,CAC9B2C,EAAS,EAET,IAAII,EAgBAhC,IAAgB,QACbgC,EAAS,4CAA4C,KAAK/C,CAAI,IACjEe,EAAY,WAAa,GACzBE,EAAU,SAAS8B,EAAO,CAAC,EAAG,EAAE,EAChC5B,EAAU,SAAS4B,EAAO,CAAC,EAAG,EAAE,IACtBA,EAAS,8DAA8D,KAAK/C,CAAI,IAC1Fe,EAAY,WAAa,GACzBE,EAAU,SAAS8B,EAAO,CAAC,EAAG,EAAE,EAChC7B,EAAW,SAAS6B,EAAO,CAAC,EAAG,EAAE,EACjC5B,EAAU,SAAS4B,EAAO,CAAC,EAAG,EAAE,IAE5B/C,EAAK,WAAWwB,CAAgB,GAClC,QAAQ,MAAM,uCAAuC,EAGvDP,EAAU,EACVE,EAAU,EACVJ,EAAY,WAAa,KAK7BC,EAAe,CACb,MAAO,CAAA,EAGP,aAAcC,EAGd,cAAeC,EAGf,aAAcC,EACd,OAAQnB,EAEZ,CAEA,SAASgD,EAAWhD,EAAY,CAC9B,GAAIe,IAAgB,MAAQC,IAAiB,MAAQC,IAAY,MAAQE,IAAY,KAAM,OAI3F,IAAM8B,EAAwB,CAC5B,QAASjD,GAGLkD,EAAgBnC,EAAY,WAAa,CAAC,KAAM,KAAM,IAAI,EAAI,CAAC,GAAG,EAClEoC,GAAkBpC,EAAY,WAAa,CAAC,KAAM,KAAM,IAAI,EAAI,CAAC,GAAG,EAEtEtB,GAAcO,EAAMkD,CAAa,GACnCnC,EAAY,aACZkC,EAAY,KAAOG,EAAS,OAC5BH,EAAY,UAAY,OACxBA,EAAY,UAAY9B,KACf1B,GAAcO,EAAMmD,EAAe,GAC5CpC,EAAY,eACZkC,EAAY,KAAOG,EAAS,OAC5BH,EAAY,UAAYhC,IACxBgC,EAAY,UAAY,SAExBA,EAAY,KAAOG,EAAS,QAC5BH,EAAY,UAAYhC,IACxBgC,EAAY,UAAY9B,KAE1BH,EAAa,MAAM,KAAKiC,CAAW,CACrC,CAOA,SAASI,EAAgBrD,EAAcsD,EAAe,CACpD,IAAIC,EAAMD,EAEV,KAAOC,EAAMb,EAAU,OAAS,GAAG,CACjC,GAAI1C,EAAK,WAAW,MAAM,EACxB,MAAO,GAGT,GACE0C,EAAUa,CAAG,EAAE,WAAWjC,CAAiB,GAC3CoB,EAAUa,EAAM,CAAC,EAAE,WAAWhC,CAAiB,GAC/CmB,EAAUa,EAAM,CAAC,EAAE,WAAW/B,CAAgB,EAE9C,MAAO,GAGT+B,GACF,CAEA,MAAO,EACT,CAEA,OAAAb,EAAU,QAAQ,CAAC1C,EAAMwD,IAAa,CAIpC,GAAI,CAACxD,GAAQA,EAAK,WAAW,GAAG,EAC9B,OAIF,IAAI+C,EAEEU,GAAWf,EAAUc,EAAY,CAAC,EAClCE,GAAUhB,EAAUc,EAAY,CAAC,EACjCG,GAAejB,EAAUc,EAAY,CAAC,EAE5C,GAAIxD,EAAK,WAAW,YAAY,GAAKA,EAAK,WAAW,iBAAiB,EAAG,CAUvE,GATA6C,EAAS,GAIJE,EADgB,oDACM,KAAK/C,CAAI,KAClCoB,EAAkBrB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,EACpEQ,EAAkBtB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,GAGlEE,IAAgB,KAClB,MAAM,IAAI,MAAM,sBAAsB,EAGxCA,EAAY,UAAY,GACxB,MACF,CAEA,GAAIf,EAAK,WAAW,cAAc,GAAK,CAACe,GAAa,UAAW,CAQ9D,GAPA8B,EAAS,GAEJE,EADuB,iEACM,KAAK/C,CAAI,KACzCoB,EAAkBrB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,EACpEQ,EAAkBtB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,GAGlEE,IAAgB,KAClB,MAAM,IAAI,MAAM,sBAAsB,EAGxCA,EAAY,SAAW,GACvB,MACF,CAeA,IAZE,CAACA,GACA,CAACA,EAAY,WACZA,GACAf,EAAK,WAAWsB,CAAiB,GAEjCoC,GAAQ,WAAWnC,CAAiB,GACpCoC,GAAa,WAAWnC,CAAgB,IAE1CqB,EAAS,EAIP9B,GAAa,SACf,OAGF,GACEA,IACE,OAAOF,EAAO,gBAAmB,UACjCE,EAAY,WAAaA,EAAY,aAAeF,EAAO,gBAC1D,OAAOA,EAAO,mBAAsB,UAAYb,EAAK,OAASa,EAAO,mBACxE,CACAE,EAAY,SAAW,GACvBA,EAAY,WAAa,EACzBA,EAAY,aAAe,EAC3BA,EAAY,OAAS,CAAA,EACrBC,EAAe,KAEf,IAAM4C,EACJ,OAAO/C,EAAO,mBAAsB,WAChCA,EAAO,kBAAkBC,EAAM,MAAM,EACrC,+BACNgC,EAAWc,CAAO,EAClB,MACF,CAOA,GACG5D,EAAK,WAAWsB,CAAiB,GAAKoC,GAAQ,WAAWnC,CAAiB,GAC1EvB,EAAK,WAAWuB,CAAiB,GAAKkC,GAAS,WAAWnC,CAAiB,EAC5E,CAKA,GACEP,GACA,CAACA,EAAY,SACbf,EAAK,WAAW,MAAM,IACrB+C,EAASxC,GAAeP,EAAMa,EAAO,SAAS,GAC/C,CACAE,EAAY,QAAUgC,EACtBhC,EAAY,SAAW1B,GAAa0B,EAAY,QAASA,EAAY,QAAQ,EAC7E,MACF,CAMA,GACEA,GACA,CAACA,EAAY,SACbf,EAAK,WAAW,MAAM,IACrB+C,EAAStC,GAAeT,EAAMa,EAAO,SAAS,GAC/C,CACAE,EAAY,QAAUgC,EACtBhC,EAAY,SAAW1B,GAAa0B,EAAY,QAASA,EAAY,QAAQ,EAC7E,MACF,CACF,CAEA,GACEA,IACCf,EAAK,WAAWwB,CAAgB,GAC9BT,EAAY,WAAaA,EAAY,SAAWA,EAAY,SAAW,CAACC,GAC3E,CACA8B,EAAW9C,CAAI,EACf,MACF,CAQA,GAAIgB,IAAiBhB,EAAK,WAAW,GAAG,GAAKA,EAAK,WAAW,GAAG,GAAKA,EAAK,WAAW,GAAG,GAAI,CAC1FgD,EAAWhD,CAAI,EACf,MACF,CAEA,IAAM6D,GAAyB,CAACR,EAAgBrD,EAAMwD,CAAS,EAE/D,GAAIzC,IAAgB,KAClB,MAAM,IAAI,MAAM,sBAAsB,GAOnCgC,EAAStB,EAAQ,KAAKzB,CAAI,GAC7Be,EAAY,QAAUgC,EAAO,CAAC,GACpBA,EAASrB,EAAQ,KAAK1B,CAAI,GACpCe,EAAY,QAAUgC,EAAO,CAAC,GACpBA,EAASpB,EAAgB,KAAK3B,CAAI,IAC5Ce,EAAY,gBAAkBgC,EAAO,CAAC,EACtChC,EAAY,UAAY,KACdgC,EAASnB,EAAY,KAAK5B,CAAI,IACxCe,EAAY,YAAcgC,EAAO,CAAC,EAClChC,EAAY,MAAQ,KACVgC,EAASlB,EAAS,KAAK7B,CAAI,IACjC6D,KACF9C,EAAY,QAAUgC,EAAO,CAAC,GAEhChC,EAAY,OAAS,KACXgC,EAASjB,EAAO,KAAK9B,CAAI,IAC/B6D,KACF9C,EAAY,QAAUgC,EAAO,CAAC,GAEhChC,EAAY,OAAS,KACXgC,EAAShB,EAAW,KAAK/B,CAAI,IACnC6D,KACF9C,EAAY,QAAUgC,EAAO,CAAC,GAEhChC,EAAY,SAAW,KACbgC,EAASf,EAAS,KAAKhC,CAAI,IACjC6D,KACF9C,EAAY,QAAUgC,EAAO,CAAC,GAEhChC,EAAY,SAAW,KACbgC,EAASX,EAAY,KAAKpC,CAAI,IACxCe,EAAY,SAAW,GACvBA,EAAY,QAAUhB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,EACxEE,EAAY,QAAUhB,GAAYgD,EAAO,CAAC,EAAG,OAAWlC,EAAO,SAAS,EACxEiC,EAAW,aAAa,GACfT,EAAW,KAAKrC,CAAI,GAC7Be,EAAY,SAAW,GACvB+B,EAAW9C,CAAI,IACL+C,EAASd,EAAgB,KAAKjC,CAAI,GAC5Ce,EAAY,oBAAsB,SAASgC,EAAO,CAAC,EAAG,EAAE,GAC9CA,EAASb,EAAmB,KAAKlC,CAAI,GAC/Ce,EAAY,kBAAoB,SAASgC,EAAO,CAAC,EAAG,EAAE,GAC5CA,EAASZ,EAAM,KAAKnC,CAAI,IAClCe,EAAY,eAAiBgC,EAAO,CAAC,EACrChC,EAAY,cAAgBgC,EAAO,CAAC,EAChCA,EAAO,CAAC,IAAGhC,EAAY,KAAOgC,EAAO,CAAC,KAChCA,EAAST,EAAc,KAAKtC,CAAI,IAC1Ce,EAAY,eAAiB,CAACgC,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,EAClDhC,EAAY,cAAgBgC,EAAO,CAAC,IAC1BA,EAASR,EAAa,KAAKvC,CAAI,IACzCe,EAAY,QAAU,CAACgC,EAAO,CAAC,EAAGA,EAAO,CAAC,CAAC,EAC3ChC,EAAY,QAAUgC,EAAO,CAAC,IACpBA,EAASP,EAAgB,KAAKxC,CAAI,IAC5Ce,EAAY,YAAcgC,EAAO,CAAC,EAClChC,EAAY,MAAQ,KACVgC,EAASN,EAAoB,KAAKzC,CAAI,KAChDe,EAAY,gBAAkBgC,EAAO,CAAC,EACtChC,EAAY,UAAY,GAE5B,CAAC,EAED4B,EAAS,EACTC,EAAQ,EAED9B,CACT,CCheA,SAASgD,GAAO,CAAC,CACjBA,EAAK,UAAY,CACf,KAAM,SAAcC,EAAWC,EAAW,CACxC,IAAIC,EACAC,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAC,EAC/EC,EAAWD,EAAQ,SACnB,OAAOA,GAAY,aACrBC,EAAWD,EACXA,EAAU,CAAC,GAEb,IAAIE,EAAO,KACX,SAASC,EAAKC,EAAO,CAEnB,OADAA,EAAQF,EAAK,YAAYE,EAAOJ,CAAO,EACnCC,GACF,WAAW,UAAY,CACrBA,EAASG,CAAK,CAChB,EAAG,CAAC,EACG,IAEAA,CAEX,CAGAP,EAAY,KAAK,UAAUA,EAAWG,CAAO,EAC7CF,EAAY,KAAK,UAAUA,EAAWE,CAAO,EAC7CH,EAAY,KAAK,YAAY,KAAK,SAASA,EAAWG,CAAO,CAAC,EAC9DF,EAAY,KAAK,YAAY,KAAK,SAASA,EAAWE,CAAO,CAAC,EAC9D,IAAIK,EAASP,EAAU,OACrBQ,EAAST,EAAU,OACjBU,EAAa,EACbC,EAAgBH,EAASC,EACzBN,EAAQ,eAAiB,OAC3BQ,EAAgB,KAAK,IAAIA,EAAeR,EAAQ,aAAa,GAE/D,IAAIS,GAAoBV,EAAmBC,EAAQ,WAAa,MAAQD,IAAqB,OAASA,EAAmB,IACrHW,EAAsB,KAAK,IAAI,EAAID,EACnCE,EAAW,CAAC,CACd,OAAQ,GACR,cAAe,MACjB,CAAC,EAGGC,EAAS,KAAK,cAAcD,EAAS,CAAC,EAAGb,EAAWD,EAAW,EAAGG,CAAO,EAC7E,GAAIW,EAAS,CAAC,EAAE,OAAS,GAAKL,GAAUM,EAAS,GAAKP,EAEpD,OAAOF,EAAKU,GAAYX,EAAMS,EAAS,CAAC,EAAE,cAAeb,EAAWD,EAAWK,EAAK,eAAe,CAAC,EAoBtG,IAAIY,EAAwB,KAC1BC,EAAwB,IAG1B,SAASC,GAAiB,CACxB,QAASC,EAAe,KAAK,IAAIH,EAAuB,CAACP,CAAU,EAAGU,GAAgB,KAAK,IAAIF,EAAuBR,CAAU,EAAGU,GAAgB,EAAG,CACpJ,IAAIC,EAAW,OACXC,EAAaR,EAASM,EAAe,CAAC,EACxCG,EAAUT,EAASM,EAAe,CAAC,EACjCE,IAEFR,EAASM,EAAe,CAAC,EAAI,QAE/B,IAAII,EAAS,GACb,GAAID,EAAS,CAEX,IAAIE,EAAgBF,EAAQ,OAASH,EACrCI,EAASD,GAAW,GAAKE,GAAiBA,EAAgBjB,CAC5D,CACA,IAAIkB,EAAYJ,GAAcA,EAAW,OAAS,EAAIb,EACtD,GAAI,CAACe,GAAU,CAACE,EAAW,CAEzBZ,EAASM,CAAY,EAAI,OACzB,QACF,CAWA,GANI,CAACM,GAAaF,GAAUF,EAAW,OAASC,EAAQ,OACtDF,EAAWhB,EAAK,UAAUkB,EAAS,GAAM,GAAO,EAAGpB,CAAO,EAE1DkB,EAAWhB,EAAK,UAAUiB,EAAY,GAAO,GAAM,EAAGnB,CAAO,EAE/DY,EAASV,EAAK,cAAcgB,EAAUpB,EAAWD,EAAWoB,EAAcjB,CAAO,EAC7EkB,EAAS,OAAS,GAAKZ,GAAUM,EAAS,GAAKP,EAEjD,OAAOF,EAAKU,GAAYX,EAAMgB,EAAS,cAAepB,EAAWD,EAAWK,EAAK,eAAe,CAAC,EAEjGS,EAASM,CAAY,EAAIC,EACrBA,EAAS,OAAS,GAAKZ,IACzBS,EAAwB,KAAK,IAAIA,EAAuBE,EAAe,CAAC,GAEtEL,EAAS,GAAKP,IAChBS,EAAwB,KAAK,IAAIA,EAAuBG,EAAe,CAAC,EAG9E,CACAV,GACF,CAMA,GAAIN,GACD,SAASuB,GAAO,CACf,WAAW,UAAY,CACrB,GAAIjB,EAAaC,GAAiB,KAAK,IAAI,EAAIE,EAC7C,OAAOT,EAAS,EAEbe,EAAe,GAClBQ,EAAK,CAET,EAAG,CAAC,CACN,GAAG,MAEH,MAAOjB,GAAcC,GAAiB,KAAK,IAAI,GAAKE,GAAqB,CACvE,IAAIe,EAAMT,EAAe,EACzB,GAAIS,EACF,OAAOA,CAEX,CAEJ,EACA,UAAW,SAAmBC,EAAMC,EAAOC,EAASC,EAAW7B,EAAS,CACtE,IAAI8B,EAAOJ,EAAK,cAChB,OAAII,GAAQ,CAAC9B,EAAQ,mBAAqB8B,EAAK,QAAUH,GAASG,EAAK,UAAYF,EAC1E,CACL,OAAQF,EAAK,OAASG,EACtB,cAAe,CACb,MAAOC,EAAK,MAAQ,EACpB,MAAOH,EACP,QAASC,EACT,kBAAmBE,EAAK,iBAC1B,CACF,EAEO,CACL,OAAQJ,EAAK,OAASG,EACtB,cAAe,CACb,MAAO,EACP,MAAOF,EACP,QAASC,EACT,kBAAmBE,CACrB,CACF,CAEJ,EACA,cAAe,SAAuBZ,EAAUpB,EAAWD,EAAWoB,EAAcjB,EAAS,CAM3F,QALIK,EAASP,EAAU,OACrBQ,EAAST,EAAU,OACnBkC,EAASb,EAAS,OAClBN,EAASmB,EAASd,EAClBe,EAAc,EACTpB,EAAS,EAAIP,GAAU0B,EAAS,EAAIzB,GAAU,KAAK,OAAOT,EAAUkC,EAAS,CAAC,EAAGjC,EAAUc,EAAS,CAAC,EAAGZ,CAAO,GACpHY,IACAmB,IACAC,IACIhC,EAAQ,oBACVkB,EAAS,cAAgB,CACvB,MAAO,EACP,kBAAmBA,EAAS,cAC5B,MAAO,GACP,QAAS,EACX,GAGJ,OAAIc,GAAe,CAAChC,EAAQ,oBAC1BkB,EAAS,cAAgB,CACvB,MAAOc,EACP,kBAAmBd,EAAS,cAC5B,MAAO,GACP,QAAS,EACX,GAEFA,EAAS,OAASa,EACXnB,CACT,EACA,OAAQ,SAAgBqB,EAAMC,EAAOlC,EAAS,CAC5C,OAAIA,EAAQ,WACHA,EAAQ,WAAWiC,EAAMC,CAAK,EAE9BD,IAASC,GAASlC,EAAQ,YAAciC,EAAK,YAAY,IAAMC,EAAM,YAAY,CAE5F,EACA,YAAa,SAAqBC,EAAO,CAEvC,QADIV,EAAM,CAAC,EACFW,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAC5BD,EAAMC,CAAC,GACTX,EAAI,KAAKU,EAAMC,CAAC,CAAC,EAGrB,OAAOX,CACT,EACA,UAAW,SAAmBrB,EAAO,CACnC,OAAOA,CACT,EACA,SAAU,SAAkBA,EAAO,CACjC,OAAO,MAAM,KAAKA,CAAK,CACzB,EACA,KAAM,SAAciC,EAAO,CACzB,OAAOA,EAAM,KAAK,EAAE,CACtB,EACA,YAAa,SAAqBC,EAAe,CAC/C,OAAOA,CACT,CACF,EACA,SAASzB,GAAY0B,EAAMC,EAAe1C,EAAWD,EAAW4C,EAAiB,CAK/E,QAFIC,EAAa,CAAC,EACdC,EACGH,GACLE,EAAW,KAAKF,CAAa,EAC7BG,EAAgBH,EAAc,kBAC9B,OAAOA,EAAc,kBACrBA,EAAgBG,EAElBD,EAAW,QAAQ,EAKnB,QAJIE,EAAe,EACjBC,EAAeH,EAAW,OAC1B9B,EAAS,EACTmB,EAAS,EACJa,EAAeC,EAAcD,IAAgB,CAClD,IAAIE,EAAYJ,EAAWE,CAAY,EACvC,GAAKE,EAAU,QAkBbA,EAAU,MAAQP,EAAK,KAAK1C,EAAU,MAAMkC,EAAQA,EAASe,EAAU,KAAK,CAAC,EAC7Ef,GAAUe,EAAU,UAnBE,CACtB,GAAI,CAACA,EAAU,OAASL,EAAiB,CACvC,IAAIrC,EAAQN,EAAU,MAAMc,EAAQA,EAASkC,EAAU,KAAK,EAC5D1C,EAAQA,EAAM,IAAI,SAAUA,EAAOgC,EAAG,CACpC,IAAIW,EAAWlD,EAAUkC,EAASK,CAAC,EACnC,OAAOW,EAAS,OAAS3C,EAAM,OAAS2C,EAAW3C,CACrD,CAAC,EACD0C,EAAU,MAAQP,EAAK,KAAKnC,CAAK,CACnC,MACE0C,EAAU,MAAQP,EAAK,KAAKzC,EAAU,MAAMc,EAAQA,EAASkC,EAAU,KAAK,CAAC,EAE/ElC,GAAUkC,EAAU,MAGfA,EAAU,QACbf,GAAUe,EAAU,MAExB,CAIF,CACA,OAAOJ,CACT,CAEA,IAAIM,GAAgB,IAAIpD,EACxB,SAASqD,GAAUC,EAAQC,EAAQnD,EAAS,CAC1C,OAAOgD,GAAc,KAAKE,EAAQC,EAAQnD,CAAO,CACnD,CAEA,SAASoD,GAAoBC,EAAMC,EAAM,CACvC,IAAIlB,EACJ,IAAKA,EAAI,EAAGA,EAAIiB,EAAK,QAAUjB,EAAIkB,EAAK,OAAQlB,IAC9C,GAAIiB,EAAKjB,CAAC,GAAKkB,EAAKlB,CAAC,EACnB,OAAOiB,EAAK,MAAM,EAAGjB,CAAC,EAG1B,OAAOiB,EAAK,MAAM,EAAGjB,CAAC,CACxB,CACA,SAASmB,GAAoBF,EAAMC,EAAM,CACvC,IAAIlB,EAKJ,GAAI,CAACiB,GAAQ,CAACC,GAAQD,EAAKA,EAAK,OAAS,CAAC,GAAKC,EAAKA,EAAK,OAAS,CAAC,EACjE,MAAO,GAET,IAAKlB,EAAI,EAAGA,EAAIiB,EAAK,QAAUjB,EAAIkB,EAAK,OAAQlB,IAC9C,GAAIiB,EAAKA,EAAK,QAAUjB,EAAI,EAAE,GAAKkB,EAAKA,EAAK,QAAUlB,EAAI,EAAE,EAC3D,OAAOiB,EAAK,MAAM,CAACjB,CAAC,EAGxB,OAAOiB,EAAK,MAAM,CAACjB,CAAC,CACtB,CACA,SAASoB,GAAcC,EAAQC,EAAWC,EAAW,CACnD,GAAIF,EAAO,MAAM,EAAGC,EAAU,MAAM,GAAKA,EACvC,MAAM,MAAM,UAAU,OAAO,KAAK,UAAUD,CAAM,EAAG,6BAA6B,EAAE,OAAO,KAAK,UAAUC,CAAS,EAAG,iBAAiB,CAAC,EAE1I,OAAOC,EAAYF,EAAO,MAAMC,EAAU,MAAM,CAClD,CACA,SAASE,GAAcH,EAAQI,EAAWC,EAAW,CACnD,GAAI,CAACD,EACH,OAAOJ,EAASK,EAElB,GAAIL,EAAO,MAAM,CAACI,EAAU,MAAM,GAAKA,EACrC,MAAM,MAAM,UAAU,OAAO,KAAK,UAAUJ,CAAM,EAAG,2BAA2B,EAAE,OAAO,KAAK,UAAUI,CAAS,EAAG,iBAAiB,CAAC,EAExI,OAAOJ,EAAO,MAAM,EAAG,CAACI,EAAU,MAAM,EAAIC,CAC9C,CACA,SAASC,GAAaN,EAAQC,EAAW,CACvC,OAAOF,GAAcC,EAAQC,EAAW,EAAE,CAC5C,CACA,SAASM,GAAaP,EAAQI,EAAW,CACvC,OAAOD,GAAcH,EAAQI,EAAW,EAAE,CAC5C,CACA,SAASI,GAAeC,EAASC,EAAS,CACxC,OAAOA,EAAQ,MAAM,EAAGC,GAAaF,EAASC,CAAO,CAAC,CACxD,CAGA,SAASC,GAAaC,EAAGC,EAAG,CAE1B,IAAIC,EAAS,EACTF,EAAE,OAASC,EAAE,SACfC,EAASF,EAAE,OAASC,EAAE,QAExB,IAAIE,EAAOF,EAAE,OACTD,EAAE,OAASC,EAAE,SACfE,EAAOH,EAAE,QAKX,IAAII,EAAM,MAAMD,CAAI,EAChBE,EAAI,EACRD,EAAI,CAAC,EAAI,EACT,QAASE,EAAI,EAAGA,EAAIH,EAAMG,IAAK,CAM7B,IALIL,EAAEK,CAAC,GAAKL,EAAEI,CAAC,EACbD,EAAIE,CAAC,EAAIF,EAAIC,CAAC,EAEdD,EAAIE,CAAC,EAAID,EAEJA,EAAI,GAAKJ,EAAEK,CAAC,GAAKL,EAAEI,CAAC,GACzBA,EAAID,EAAIC,CAAC,EAEPJ,EAAEK,CAAC,GAAKL,EAAEI,CAAC,GACbA,GAEJ,CAEAA,EAAI,EACJ,QAAStC,EAAImC,EAAQnC,EAAIiC,EAAE,OAAQjC,IAAK,CACtC,KAAOsC,EAAI,GAAKL,EAAEjC,CAAC,GAAKkC,EAAEI,CAAC,GACzBA,EAAID,EAAIC,CAAC,EAEPL,EAAEjC,CAAC,GAAKkC,EAAEI,CAAC,GACbA,GAEJ,CACA,OAAOA,CACT,CAkCA,IAAIE,GAAoB,gHA2BpBC,GAA8B,IAAI,OAAO,IAAI,OAAOD,GAAmB,YAAY,EAAE,OAAOA,GAAmB,GAAG,EAAG,IAAI,EACzHE,GAAW,IAAIC,EACnBD,GAAS,OAAS,SAAUE,EAAMC,EAAOC,EAAS,CAChD,OAAIA,EAAQ,aACVF,EAAOA,EAAK,YAAY,EACxBC,EAAQA,EAAM,YAAY,GAErBD,EAAK,KAAK,IAAMC,EAAM,KAAK,CACpC,EACAH,GAAS,SAAW,SAAUK,EAAO,CACnC,IAAID,EAAU,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAC,EAC/EE,EACJ,GAAIF,EAAQ,cAAe,CACzB,GAAIA,EAAQ,cAAc,gBAAgB,EAAE,aAAe,OACzD,MAAM,IAAI,MAAM,wDAAwD,EAE1EE,EAAQ,MAAM,KAAKF,EAAQ,cAAc,QAAQC,CAAK,EAAG,SAAUE,EAAS,CAC1E,OAAOA,EAAQ,OACjB,CAAC,CACH,MACED,EAAQD,EAAM,MAAMN,EAA2B,GAAK,CAAC,EAEvD,IAAIS,EAAS,CAAC,EACVC,EAAW,KACf,OAAAH,EAAM,QAAQ,SAAUI,EAAM,CACxB,KAAK,KAAKA,CAAI,EACZD,GAAY,KACdD,EAAO,KAAKE,CAAI,EAEhBF,EAAO,KAAKA,EAAO,IAAI,EAAIE,CAAI,EAExB,KAAK,KAAKD,CAAQ,EACvBD,EAAOA,EAAO,OAAS,CAAC,GAAKC,EAC/BD,EAAO,KAAKA,EAAO,IAAI,EAAIE,CAAI,EAE/BF,EAAO,KAAKC,EAAWC,CAAI,EAG7BF,EAAO,KAAKE,CAAI,EAElBD,EAAWC,CACb,CAAC,EACMF,CACT,EACAR,GAAS,KAAO,SAAUQ,EAAQ,CAMhC,OAAOA,EAAO,IAAI,SAAUG,EAAOC,EAAG,CACpC,OAAIA,GAAK,EACAD,EAEAA,EAAM,QAAQ,OAAQ,EAAE,CAEnC,CAAC,EAAE,KAAK,EAAE,CACZ,EACAX,GAAS,YAAc,SAAUa,EAAST,EAAS,CACjD,GAAI,CAACS,GAAWT,EAAQ,kBACtB,OAAOS,EAET,IAAIC,EAAW,KAGXC,EAAY,KACZC,EAAW,KACf,OAAAH,EAAQ,QAAQ,SAAUI,EAAQ,CAC5BA,EAAO,MACTF,EAAYE,EACHA,EAAO,QAChBD,EAAWC,IAEPF,GAAaC,IAEfE,GAAgCJ,EAAUE,EAAUD,EAAWE,CAAM,EAEvEH,EAAWG,EACXF,EAAY,KACZC,EAAW,KAEf,CAAC,GACGD,GAAaC,IACfE,GAAgCJ,EAAUE,EAAUD,EAAW,IAAI,EAE9DF,CACT,EAWA,SAASM,GAAgCC,EAAWC,EAAUC,EAAWC,EAAS,CA2ChF,GAAIF,GAAYC,EAAW,CACzB,IAAIE,EAAcH,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EAC5CI,EAAcJ,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EAC5CK,EAAcJ,EAAU,MAAM,MAAM,MAAM,EAAE,CAAC,EAC7CK,EAAcL,EAAU,MAAM,MAAM,MAAM,EAAE,CAAC,EACjD,GAAIF,EAAW,CACb,IAAIQ,EAAiBC,GAAoBL,EAAaE,CAAW,EACjEN,EAAU,MAAQU,GAAcV,EAAU,MAAOM,EAAaE,CAAc,EAC5EP,EAAS,MAAQU,GAAaV,EAAS,MAAOO,CAAc,EAC5DN,EAAU,MAAQS,GAAaT,EAAU,MAAOM,CAAc,CAChE,CACA,GAAIL,EAAS,CACX,IAAIS,EAAiBC,GAAoBR,EAAaE,CAAW,EACjEJ,EAAQ,MAAQW,GAAcX,EAAQ,MAAOI,EAAaK,CAAc,EACxEX,EAAS,MAAQc,GAAad,EAAS,MAAOW,CAAc,EAC5DV,EAAU,MAAQa,GAAab,EAAU,MAAOU,CAAc,CAChE,CACF,SAAWV,EAOLF,IACFE,EAAU,MAAQA,EAAU,MAAM,QAAQ,OAAQ,EAAE,GAElDC,IACFA,EAAQ,MAAQA,EAAQ,MAAM,QAAQ,OAAQ,EAAE,WAGzCH,GAAaG,EAAS,CAC/B,IAAIa,EAAYb,EAAQ,MAAM,MAAM,MAAM,EAAE,CAAC,EAC3Cc,EAAahB,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EAC3CiB,EAAWjB,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EAIvCkB,EAAaV,GAAoBO,EAAWC,CAAU,EAC1DhB,EAAS,MAAQU,GAAaV,EAAS,MAAOkB,CAAU,EAKxD,IAAIC,EAAWP,GAAoBF,GAAaK,EAAWG,CAAU,EAAGD,CAAQ,EAChFjB,EAAS,MAAQc,GAAad,EAAS,MAAOmB,CAAQ,EACtDjB,EAAQ,MAAQW,GAAcX,EAAQ,MAAOa,EAAWI,CAAQ,EAIhEpB,EAAU,MAAQU,GAAcV,EAAU,MAAOgB,EAAWA,EAAU,MAAM,EAAGA,EAAU,OAASI,EAAS,MAAM,CAAC,CACpH,SAAWjB,EAAS,CAIlB,IAAIkB,EAAkBlB,EAAQ,MAAM,MAAM,MAAM,EAAE,CAAC,EAC/CmB,EAAmBrB,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EACjDsB,EAAUC,GAAeF,EAAkBD,CAAe,EAC9DpB,EAAS,MAAQc,GAAad,EAAS,MAAOsB,CAAO,CACvD,SAAWvB,EAAW,CAIpB,IAAIyB,EAAoBzB,EAAU,MAAM,MAAM,MAAM,EAAE,CAAC,EACnD0B,EAAmBzB,EAAS,MAAM,MAAM,MAAM,EAAE,CAAC,EACjD0B,EAAWH,GAAeC,EAAmBC,CAAgB,EACjEzB,EAAS,MAAQU,GAAaV,EAAS,MAAO0B,CAAQ,CACxD,CACF,CACA,IAAIC,GAAoB,IAAIC,EAC5BD,GAAkB,SAAW,SAAUE,EAAO,CAM5C,IAAIC,EAAQ,IAAI,OAAO,cAAc,OAAOC,GAAmB,qBAAqB,EAAE,OAAOA,GAAmB,GAAG,EAAG,IAAI,EAC1H,OAAOF,EAAM,MAAMC,CAAK,GAAK,CAAC,CAChC,EACA,SAASE,GAAmBC,EAAQC,EAAQC,EAAS,CACnD,OAAOR,GAAkB,KAAKM,EAAQC,EAAQC,CAAO,CACvD,CAgBA,IAAIC,GAAW,IAAIC,EACnBD,GAAS,SAAW,SAAUE,EAAOC,EAAS,CACxCA,EAAQ,kBAEVD,EAAQA,EAAM,QAAQ,QAAS;AAAA,CAAI,GAErC,IAAIE,EAAW,CAAC,EACdC,EAAmBH,EAAM,MAAM,WAAW,EAGvCG,EAAiBA,EAAiB,OAAS,CAAC,GAC/CA,EAAiB,IAAI,EAIvB,QAAS,EAAI,EAAG,EAAIA,EAAiB,OAAQ,IAAK,CAChD,IAAIC,EAAOD,EAAiB,CAAC,EACzB,EAAI,GAAK,CAACF,EAAQ,eACpBC,EAASA,EAAS,OAAS,CAAC,GAAKE,EAEjCF,EAAS,KAAKE,CAAI,CAEtB,CACA,OAAOF,CACT,EACAJ,GAAS,OAAS,SAAUO,EAAMC,EAAOL,EAAS,CAQhD,OAAIA,EAAQ,mBACN,CAACA,EAAQ,gBAAkB,CAACI,EAAK,SAAS;AAAA,CAAI,KAChDA,EAAOA,EAAK,KAAK,IAEf,CAACJ,EAAQ,gBAAkB,CAACK,EAAM,SAAS;AAAA,CAAI,KACjDA,EAAQA,EAAM,KAAK,IAEZL,EAAQ,oBAAsB,CAACA,EAAQ,iBAC5CI,EAAK,SAAS;AAAA,CAAI,IACpBA,EAAOA,EAAK,MAAM,EAAG,EAAE,GAErBC,EAAM,SAAS;AAAA,CAAI,IACrBA,EAAQA,EAAM,MAAM,EAAG,EAAE,IAGtBP,EAAK,UAAU,OAAO,KAAK,KAAMM,EAAMC,EAAOL,CAAO,CAC9D,EAkBA,IAAIM,GAAe,IAAIC,EACvBD,GAAa,SAAW,SAAUE,EAAO,CACvC,OAAOA,EAAM,MAAM,uBAAuB,CAC5C,EAKA,IAAIC,GAAU,IAAIC,EAClBD,GAAQ,SAAW,SAAUE,EAAO,CAClC,OAAOA,EAAM,MAAM,eAAe,CACpC,EAwCA,SAASC,GAAQC,EAAG,CAClB,0BAEA,OAAOD,GAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAG,CAChG,OAAO,OAAOA,CAChB,EAAI,SAAUA,EAAG,CACf,OAAOA,GAAmB,OAAO,QAArB,YAA+BA,EAAE,cAAgB,QAAUA,IAAM,OAAO,UAAY,SAAW,OAAOA,CACpH,EAAGD,GAAQC,CAAC,CACd,CAyCA,IAAIC,GAAW,IAAIC,EAGnBD,GAAS,gBAAkB,GAC3BA,GAAS,SAAWE,GAAS,SAC7BF,GAAS,UAAY,SAAUG,EAAOC,EAAS,CAC7C,IAAIC,EAAuBD,EAAQ,qBACjCE,EAAwBF,EAAQ,kBAChCG,EAAoBD,IAA0B,OAAS,SAAUE,EAAGC,EAAG,CACrE,OAAO,OAAOA,EAAM,IAAcJ,EAAuBI,CAC3D,EAAIH,EACN,OAAO,OAAOH,GAAU,SAAWA,EAAQ,KAAK,UAAUO,GAAaP,EAAO,KAAM,KAAMI,CAAiB,EAAGA,EAAmB,IAAI,CACvI,EACAP,GAAS,OAAS,SAAUW,EAAMC,EAAOR,EAAS,CAChD,OAAOH,EAAK,UAAU,OAAO,KAAKD,GAAUW,EAAK,QAAQ,aAAc,IAAI,EAAGC,EAAM,QAAQ,aAAc,IAAI,EAAGR,CAAO,CAC1H,EAOA,SAASS,GAAaC,EAAKC,EAAOC,EAAkBC,EAAUC,EAAK,CACjEH,EAAQA,GAAS,CAAC,EAClBC,EAAmBA,GAAoB,CAAC,EACpCC,IACFH,EAAMG,EAASC,EAAKJ,CAAG,GAEzB,IAAIK,EACJ,IAAKA,EAAI,EAAGA,EAAIJ,EAAM,OAAQI,GAAK,EACjC,GAAIJ,EAAMI,CAAC,IAAML,EACf,OAAOE,EAAiBG,CAAC,EAG7B,IAAIC,EACJ,GAAyB,OAAO,UAAU,SAAS,KAAKN,CAAG,IAAvD,iBAA0D,CAI5D,IAHAC,EAAM,KAAKD,CAAG,EACdM,EAAmB,IAAI,MAAMN,EAAI,MAAM,EACvCE,EAAiB,KAAKI,CAAgB,EACjCD,EAAI,EAAGA,EAAIL,EAAI,OAAQK,GAAK,EAC/BC,EAAiBD,CAAC,EAAIN,GAAaC,EAAIK,CAAC,EAAGJ,EAAOC,EAAkBC,EAAUC,CAAG,EAEnF,OAAAH,EAAM,IAAI,EACVC,EAAiB,IAAI,EACdI,CACT,CAIA,GAHIN,GAAOA,EAAI,SACbA,EAAMA,EAAI,OAAO,GAEfO,GAAQP,CAAG,IAAM,UAAYA,IAAQ,KAAM,CAC7CC,EAAM,KAAKD,CAAG,EACdM,EAAmB,CAAC,EACpBJ,EAAiB,KAAKI,CAAgB,EACtC,IAAIE,EAAa,CAAC,EAChBC,EACF,IAAKA,KAAQT,EAEP,OAAO,UAAU,eAAe,KAAKA,EAAKS,CAAI,GAChDD,EAAW,KAAKC,CAAI,EAIxB,IADAD,EAAW,KAAK,EACXH,EAAI,EAAGA,EAAIG,EAAW,OAAQH,GAAK,EACtCI,EAAOD,EAAWH,CAAC,EACnBC,EAAiBG,CAAI,EAAIV,GAAaC,EAAIS,CAAI,EAAGR,EAAOC,EAAkBC,EAAUM,CAAI,EAE1FR,EAAM,IAAI,EACVC,EAAiB,IAAI,CACvB,MACEI,EAAmBN,EAErB,OAAOM,CACT,CAEA,IAAII,GAAY,IAAIC,EACpBD,GAAU,SAAW,SAAUE,EAAO,CACpC,OAAOA,EAAM,MAAM,CACrB,EACAF,GAAU,KAAOA,GAAU,YAAc,SAAUE,EAAO,CACxD,OAAOA,CACT,ECr3BM,SAAUC,GAAYC,EAAWC,EAAS,CAC9C,GAAID,EAAE,SAAW,EACf,OAAOC,EAAE,OAEX,GAAIA,EAAE,SAAW,EACf,OAAOD,EAAE,OAGX,IAAME,EAAS,CAAA,EAGXC,EACJ,IAAKA,EAAI,EAAGA,GAAKF,EAAE,OAAQE,IACzBD,EAAOC,CAAC,EAAI,CAACA,CAAC,EAIhB,IAAIC,EACJ,IAAKA,EAAI,EAAGA,GAAKJ,EAAE,OAAQI,IACzBF,EAAO,CAAC,EAAEE,CAAC,EAAIA,EAIjB,IAAKD,EAAI,EAAGA,GAAKF,EAAE,OAAQE,IACzB,IAAKC,EAAI,EAAGA,GAAKJ,EAAE,OAAQI,IACrBH,EAAE,OAAOE,EAAI,CAAC,IAAMH,EAAE,OAAOI,EAAI,CAAC,EACpCF,EAAOC,CAAC,EAAEC,CAAC,EAAIF,EAAOC,EAAI,CAAC,EAAEC,EAAI,CAAC,EAElCF,EAAOC,CAAC,EAAEC,CAAC,EAAI,KAAK,IAClBF,EAAOC,EAAI,CAAC,EAAEC,EAAI,CAAC,EAAI,EACvB,KAAK,IACHF,EAAOC,CAAC,EAAEC,EAAI,CAAC,EAAI,EACnBF,EAAOC,EAAI,CAAC,EAAEC,CAAC,EAAI,CAAC,CACrB,EAMT,OAAOF,EAAOD,EAAE,MAAM,EAAED,EAAE,MAAM,CAClC,CAIM,SAAUK,GAAiBC,EAAyB,CACxD,MAAO,CAACC,EAAMC,IAAgB,CAC5B,IAAMC,EAASH,EAAIC,CAAC,EAAE,KAAI,EACpBG,EAASJ,EAAIE,CAAC,EAAE,KAAI,EAE1B,OADYT,GAAYU,EAAQC,CAAM,GACxBD,EAAO,OAASC,EAAO,OACvC,CACF,CAIM,SAAUC,GAAgBC,EAAgC,CAC9D,SAASC,EAAcb,EAAQC,EAAQa,EAA6B,IAAI,IAAK,CAC3E,IAAIC,EAAgB,IAChBC,EAEJ,QAASb,EAAI,EAAGA,EAAIH,EAAE,OAAQ,EAAEG,EAC9B,QAASC,EAAI,EAAGA,EAAIH,EAAE,OAAQ,EAAEG,EAAG,CACjC,IAAMa,EAAW,KAAK,UAAU,CAACjB,EAAEG,CAAC,EAAGF,EAAEG,CAAC,CAAC,CAAC,EACxCc,EACEJ,EAAM,IAAIG,CAAQ,IAAMC,EAAKJ,EAAM,IAAIG,CAAQ,KACnDC,EAAKN,EAASZ,EAAEG,CAAC,EAAGF,EAAEG,CAAC,CAAC,EACxBU,EAAM,IAAIG,EAAUC,CAAE,GAEpBA,EAAKH,IACPA,EAAgBG,EAChBF,EAAY,CAAE,OAAQb,EAAG,OAAQC,EAAG,MAAOW,CAAa,EAE5D,CAGF,OAAOC,CACT,CAEA,SAASG,EAAMnB,EAAQC,EAAQmB,EAAQ,EAAGN,EAA6B,IAAI,IAAK,CAC9E,IAAMO,EAAKR,EAAcb,EAAGC,EAAGa,CAAK,EAEpC,GAAI,CAACO,GAAMrB,EAAE,OAASC,EAAE,OAAS,EAC/B,MAAO,CAAC,CAACD,EAAGC,CAAC,CAAC,EAGhB,IAAMqB,EAAKtB,EAAE,MAAM,EAAGqB,EAAG,MAAM,EACzBE,EAAKtB,EAAE,MAAM,EAAGoB,EAAG,MAAM,EACzBG,EAAS,CAACxB,EAAEqB,EAAG,MAAM,CAAC,EACtBI,EAAS,CAACxB,EAAEoB,EAAG,MAAM,CAAC,EACtBK,EAAQL,EAAG,OAAS,EACpBM,EAAQN,EAAG,OAAS,EACpBO,EAAK5B,EAAE,MAAM0B,CAAK,EAClBG,EAAK5B,EAAE,MAAM0B,CAAK,EAElBG,EAASX,EAAMG,EAAIC,EAAIH,EAAQ,EAAGN,CAAK,EACvCiB,EAAaZ,EAAMK,EAAQC,EAAQL,EAAQ,EAAGN,CAAK,EACnDkB,EAASb,EAAMS,EAAIC,EAAIT,EAAQ,EAAGN,CAAK,EACzCmB,EAASF,EAEb,OAAIV,EAAG,OAAS,GAAKA,EAAG,OAAS,KAC/BY,EAASH,EAAO,OAAOG,CAAM,IAG3BjC,EAAE,OAAS0B,GAASzB,EAAE,OAAS0B,KACjCM,EAASA,EAAO,OAAOD,CAAM,GAGxBC,CACT,CAEA,OAAOd,CACT,CChHO,IAAMe,EAA8C,CACzD,QAAS,UACT,QAAS,UACT,QAAS,WACT,KAAM,WACN,eAAgB,qBAChB,eAAgB,sBAsBLC,GAAsB,CACjC,SAAUC,GAAiB,KAC3B,oBAAqB,IACrB,uBAAwB,IACxB,UAAWC,GAAc,KACzB,YAAaC,GAAgB,OAGzBC,GAAY,IACZC,GAAmBC,GAAeC,GAA0BA,EAAO,KAAK,EACxEC,GAAkBC,GAAaJ,EAAQ,EAE7C,SAASK,GAAcC,EAAY,CACjC,OAAOA,EAAK,QAAQ,UAAU,IAAM,EACtC,CAEA,SAASC,GAAkBC,EAAY,CACrC,OAAOA,EAAK,QAAQ,iCAAkC,EAAE,CAC1D,CAEA,SAASC,GAAkBD,EAAY,CACrC,OAAOA,EAAK,QAAQ,iCAAkC,EAAE,CAC1D,CAKM,SAAUE,GAAWC,EAAkB,CAC3C,OAAQA,EAAU,CAChB,KAAKC,EAAS,QACZ,OAAOlB,EAAa,QACtB,KAAKkB,EAAS,OACZ,OAAOlB,EAAa,QACtB,KAAKkB,EAAS,OACZ,OAAOlB,EAAa,OACxB,CACF,CAEM,SAAUmB,GAAiBC,EAA4B,CAC3D,OAAQA,EAAa,CACnB,KAAKhB,GAAgB,KACnB,MAAO,wBACT,KAAKA,GAAgB,KACnB,MAAO,wBACT,KAAKA,GAAgB,MACrB,QACE,MAAO,wBACX,CACF,CAKA,SAASiB,GAAaC,EAAmB,CACvC,OAAOA,EAAa,EAAI,CAC1B,CAMM,SAAUC,GAAcC,EAAW,CACvC,OAAOA,EACJ,MAAM,CAAC,EACP,QAAQ,KAAM,OAAO,EACrB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,MAAM,EACpB,QAAQ,KAAM,QAAQ,EACtB,QAAQ,KAAM,QAAQ,EACtB,QAAQ,MAAO,QAAQ,CAC5B,CAKM,SAAUC,EAAgBX,EAAcQ,EAAqBI,EAAS,GAAI,CAC9E,IAAMC,EAAeN,GAAaC,CAAU,EAC5C,MAAO,CACL,OAAQR,EAAK,UAAU,EAAGa,CAAY,EACtC,QAASD,EAASH,GAAcT,EAAK,UAAUa,CAAY,CAAC,EAAIb,EAAK,UAAUa,CAAY,EAE/F,CAaM,SAAUC,GAAaC,EAAkB,CAE7C,IAAMC,EAAcC,GAAUF,EAAK,OAAO,EACpCG,EAAcD,GAAUF,EAAK,OAAO,EAE1C,GAAIC,IAAgBE,GAAe,CAACrB,GAAcmB,CAAW,GAAK,CAACnB,GAAcqB,CAAW,EAAG,CAC7F,IAAMC,EAAc,CAAA,EACdC,EAAc,CAAA,EAEdC,EAAmBL,EAAY,MAAMzB,EAAS,EAC9C+B,EAAmBJ,EAAY,MAAM3B,EAAS,EAE9CgC,EAAuBF,EAAiB,OACxCG,EAAuBF,EAAiB,OAE1CG,EAAI,EACJC,EAAIH,EAAuB,EAC3BI,EAAIH,EAAuB,EAE/B,KAAOC,EAAIC,GAAKD,EAAIE,GACdN,EAAiBI,CAAC,IAAMH,EAAiBG,CAAC,GAC5CN,EAAY,KAAKG,EAAiBG,CAAC,CAAC,EACpCA,GAAK,EAMT,KAAOC,EAAID,GAAKE,EAAIF,GACdJ,EAAiBK,CAAC,IAAMJ,EAAiBK,CAAC,GAC5CP,EAAY,QAAQE,EAAiBK,CAAC,CAAC,EACvCD,GAAK,EACLC,GAAK,EAMT,IAAMC,EAAcT,EAAY,KAAK5B,EAAS,EACxCsC,EAAcT,EAAY,KAAK7B,EAAS,EAExCuC,EAAmBT,EAAiB,MAAMI,EAAGC,EAAI,CAAC,EAAE,KAAKnC,EAAS,EAClEwC,EAAmBT,EAAiB,MAAMG,EAAGE,EAAI,CAAC,EAAE,KAAKpC,EAAS,EAExE,OAAIqC,EAAY,QAAUC,EAAY,OAElCD,EAAcrC,GAAY,IAAMuC,EAAmB,WAAQC,EAAmB,IAAMxC,GAAYsC,EAEzFD,EAAY,OACdA,EAAcrC,GAAY,IAAMuC,EAAmB,WAAQC,EAAmB,IAC5EF,EAAY,OACd,IAAMC,EAAmB,WAAQC,EAAmB,IAAMxC,GAAYsC,EAGxEb,EAAc,WAAQE,CAC/B,KAAO,QAAKrB,GAAcqB,CAAW,EAG5BF,EAFAE,CAIX,CAKM,SAAUc,GAAUjB,EAAkB,CAC1C,MAAO,OAAOkB,GAASnB,GAAaC,CAAI,CAAC,EAAE,SAAQ,EAAG,MAAM,EAAE,CAAC,EACjE,CAKM,SAAUmB,GAAYnB,EAAc,CACxC,IAAIoB,EAAe,eAEnB,OAAIpB,EAAK,UAEEA,EAAK,OADdoB,EAAe,eAGNpB,EAAK,MACdoB,EAAe,aACNpB,EAAK,UACdoB,EAAe,eACNpB,EAAK,UAAYA,EAAK,UAE/BoB,EAAe,gBAGVA,CACT,CAKM,SAAUC,GACdC,EACAC,EACA9B,EACA+B,EAAuB,CAAA,EAAE,CAEzB,GAAM,CAAE,SAAAC,EAAU,uBAAAC,EAAwB,oBAAAC,EAAqB,UAAAC,CAAS,EAAE,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQxD,EAAmB,EAAKoD,CAAM,EAE1GK,EAAQjC,EAAgB0B,EAAW7B,EAAY,EAAK,EACpDqC,EAAQlC,EAAgB2B,EAAW9B,EAAY,EAAK,EAE1D,GAAIoC,EAAM,QAAQ,OAASH,GAA0BI,EAAM,QAAQ,OAASJ,EAC1E,MAAO,CACL,QAAS,CACP,OAAQG,EAAM,OACd,QAASnC,GAAcmC,EAAM,OAAO,GAEtC,QAAS,CACP,OAAQC,EAAM,OACd,QAASpC,GAAcoC,EAAM,OAAO,IAK1C,IAAMC,EACJH,IAAc,OACHI,GAAUH,EAAM,QAASC,EAAM,OAAO,EACtCG,GAAmBJ,EAAM,QAASC,EAAM,OAAO,EAEtDI,EAAgC,CAAA,EACtC,GAAIN,IAAc,QAAUH,IAAa,QAAS,CAChD,IAAMU,EAAUJ,EAAK,OAAOK,GAAWA,EAAQ,OAAO,EAChDC,EAAQN,EAAK,OAAOK,GAAWA,EAAQ,KAAK,EACnCxD,GAAQyD,EAAOF,CAAO,EAC9B,QAAQG,GAAQ,CACjBA,EAAM,CAAC,EAAE,SAAW,GAAKA,EAAM,CAAC,EAAE,SAAW,GAClC7D,GAAS6D,EAAM,CAAC,EAAE,CAAC,EAAGA,EAAM,CAAC,EAAE,CAAC,CAAC,EACnCX,IACTO,EAAa,KAAKI,EAAM,CAAC,EAAE,CAAC,CAAC,EAC7BJ,EAAa,KAAKI,EAAM,CAAC,EAAE,CAAC,CAAC,EAGnC,CAAC,CACH,CAEA,IAAMC,EAAkBR,EAAK,OAAO,CAACQ,EAAiBC,IAAQ,CAC5D,IAAMC,EAAWD,EAAK,MAAQ,MAAQA,EAAK,QAAU,MAAQ,KACvDE,EAAWR,EAAa,QAAQM,CAAI,EAAI,GAAK,sBAAwB,GACrEG,EAAejD,GAAc8C,EAAK,KAAK,EAE7C,OAAOC,IAAa,KAChB,GAAGF,CAAe,IAAIE,CAAQ,GAAGC,CAAQ,IAAIC,CAAY,KAAKF,CAAQ,IACtE,GAAGF,CAAe,GAAGI,CAAY,EACvC,EAAG,EAAE,EAEL,MAAO,CACL,QAAS,CACP,OAAQd,EAAM,OACd,QAAS7C,GAAkBuD,CAAe,GAE5C,QAAS,CACP,OAAQT,EAAM,OACd,QAAS5C,GAAkBqD,CAAe,GAGhD,CC3SA,IAAMK,GAAoB,eACpBC,GAAyB,OAMlBC,GAAgC,CAC3C,YAAyBC,GAAoB,aAGlCC,GAAP,KAAuB,CAI3B,YAAYC,EAA0BC,EAAiC,CAAA,EAAE,CACvE,KAAK,WAAaD,EAClB,KAAK,OAAM,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQH,EAA6B,EAAKI,CAAM,CAC7D,CAEA,OAAOC,EAAqB,CAC1B,IAAMC,EAAQD,EACX,IAAIE,GACH,KAAK,WAAW,OACdT,GACA,OACA,CACE,WAAwBU,GAAUD,CAAI,EACtC,QAASA,EAAK,QACd,QAASA,EAAK,QACd,SAAsBE,GAAaF,CAAI,EACvC,aAAc,IAAMA,EAAK,aACzB,WAAY,IAAMA,EAAK,YAEzB,CACE,SAAU,KAAK,WAAW,SAASR,GAAoCW,GAAYH,CAAI,CAAC,EACzF,CACF,EAEF,KAAK;CAAI,EAEZ,OAAO,KAAK,WAAW,OAAOT,GAAmB,UAAW,CAC1D,YAAyBa,GAAiB,KAAK,OAAO,WAAW,EACjE,YAAaN,EAAU,OACvB,MAAOC,EACR,CACH,GC7BK,IAAMM,GAA+B,OAAA,OAAA,OAAA,OAAA,CAAA,EAC3BC,EAAmB,EAAA,CAClC,uBAAwB,GACxB,uBAAwB,KACxB,gCAAiC,GAAG,CAAA,EAGhCC,GAAuB,UACvBC,GAAoB,eACpBC,GAAyB,OACzBC,GAAwB,MAETC,GAArB,KAAuC,CAIrC,YAAYC,EAA0BC,EAAmC,CAAA,EAAE,CACzE,KAAK,WAAaD,EAClB,KAAK,OAAM,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQP,EAA+B,EAAKQ,CAAM,CAC/D,CAEA,OAAOC,EAAqB,CAC1B,IAAMC,EAAYD,EACf,IAAIE,GAAO,CACV,IAAIC,EACJ,OAAID,EAAK,OAAO,OACdC,EAAQ,KAAK,iBAAiBD,CAAI,EAElCC,EAAQ,KAAK,kBAAiB,EAEzB,KAAK,iBAAiBD,EAAMC,CAAK,CAC1C,CAAC,EACA,KAAK;CAAI,EAEZ,OAAO,KAAK,WAAW,OAAOV,GAAsB,UAAW,CAC7D,YAAyBW,GAAiB,KAAK,OAAO,WAAW,EACjE,QAASH,EACV,CACH,CAEA,iBAAiBC,EAAgBC,EAAa,CAC5C,GAAI,KAAK,OAAO,wBAA0B,MAAM,QAAQD,EAAK,MAAM,GAAKA,EAAK,OAAO,SAAW,EAAG,MAAO,GAEzG,IAAMG,EAAmB,KAAK,WAAW,SAASX,GAAmB,WAAW,EAC1EY,EAAmB,KAAK,WAAW,SAASb,GAAsB,WAAW,EAC7Ec,EAAmB,KAAK,WAAW,SAASZ,GAAwB,MAAM,EAC1Ea,EAAkB,KAAK,WAAW,SAASZ,GAAmCa,GAAYP,CAAI,CAAC,EAErG,OAAOG,EAAiB,OAAO,CAC7B,KAAMH,EACN,WAAwBQ,GAAUR,CAAI,EACtC,MAAOC,EACP,SAAUG,EAAiB,OACzB,CACE,aAA0BK,GAAaT,CAAI,GAE7C,CACE,SAAUK,EACV,QAASC,EACV,EAEJ,CACH,CAEA,mBAAiB,CACf,OAAO,KAAK,WAAW,OAAOf,GAAsB,aAAc,CAChE,aAAc,gBACd,aAA0BmB,EAC3B,CACH,CAEA,iBAAiBV,EAAc,CAC7B,IAAMW,EAAkBC,GACdC,GAAe,GAA4BC,EAAgB,EAAE,QAASd,EAAK,UAAU,EAAE,OAAO,CAAC,EAGzG,OAAOA,EAAK,OACT,IAAIe,GAAQ,CACX,IAAIC,EAAQ,KAAK,WAAW,OAAOzB,GAAsB,eAAgB,CACvE,aAA0BmB,EAC1B,YAAaV,EAAK,SAAWe,EAAM,OAAqBE,GAAcF,EAAM,MAAM,EAClF,UAAW,sBACX,aAAc,gBACf,EAED,YAAK,mBAAmBA,CAAK,EAAE,QAAQ,CAAC,CAACG,EAAcC,EAAUC,CAAQ,IAAK,CAC5E,GAAID,EAAS,QAAUC,EAAS,QAAU,CAACF,EAAa,OACtD,KAAK,qBAAqBC,EAAUC,EAAUT,CAAO,EAAE,IAAI,CAAC,CAACQ,EAAUC,CAAQ,IAAK,CAClF,GAAM,CAAE,KAAAC,EAAM,MAAAC,CAAK,EAAK,KAAK,oBAAoBtB,EAAMA,EAAK,WAAYmB,EAAUC,CAAQ,EAC1FJ,GAASK,EACTL,GAASM,CACX,CAAC,UACQJ,EAAa,OACtBA,EAAa,QAAQK,GAAO,CAC1B,GAAM,CAAE,OAAAC,EAAQ,QAAAC,CAAO,EAAiBX,EAAgBS,EAAK,QAASvB,EAAK,UAAU,EACrFgB,GAAS,KAAK,uBAAuBhB,EAAM,CACzC,KAAkBU,EAAa,QAC/B,OAAQc,EACR,QAASC,EACT,UAAWF,EAAK,UAChB,UAAWA,EAAK,UACjB,CACH,CAAC,UACQJ,EAAS,QAAUC,EAAS,OAAQ,CAC7C,GAAM,CAAE,KAAAC,EAAM,MAAAC,CAAK,EAAK,KAAK,oBAAoBtB,EAAMA,EAAK,WAAYmB,EAAUC,CAAQ,EAC1FJ,GAASK,EACTL,GAASM,CACX,MACE,QAAQ,MAAM,yDAA0DJ,EAAcC,EAAUC,CAAQ,CAE5G,CAAC,EAEMJ,CACT,CAAC,EACA,KAAK;CAAI,CACd,CAEA,mBAAmBD,EAAgB,CACjC,IAAMW,EAAmC,CAAA,EAErCP,EAAkD,CAAA,EAClDC,EAAmD,CAAA,EAEvD,QAASO,EAAI,EAAGA,EAAIZ,EAAM,MAAM,OAAQY,IAAK,CAC3C,IAAMC,EAAWb,EAAM,MAAMY,CAAC,GAG3BC,EAAS,OAASC,EAAS,QAAUT,EAAS,QAC9CQ,EAAS,OAASC,EAAS,SAAWV,EAAS,OAAS,KAEzDO,EAAiB,KAAK,CAAC,CAAA,EAAIP,EAAUC,CAAQ,CAAC,EAC9CD,EAAW,CAAA,EACXC,EAAW,CAAA,GAGTQ,EAAS,OAASC,EAAS,QAC7BH,EAAiB,KAAK,CAAC,CAACE,CAAQ,EAAG,CAAA,EAAI,CAAA,CAAE,CAAC,EACjCA,EAAS,OAASC,EAAS,QAAUV,EAAS,SAAW,EAClEO,EAAiB,KAAK,CAAC,CAAA,EAAI,CAAA,EAAI,CAACE,CAAQ,CAAC,CAAC,EACjCA,EAAS,OAASC,EAAS,QAAUV,EAAS,OAAS,EAChEC,EAAS,KAAKQ,CAAQ,EACbA,EAAS,OAASC,EAAS,QACpCV,EAAS,KAAKS,CAAQ,CAE1B,CAEA,OAAIT,EAAS,QAAUC,EAAS,UAC9BM,EAAiB,KAAK,CAAC,CAAA,EAAIP,EAAUC,CAAQ,CAAC,EAC9CD,EAAW,CAAA,EACXC,EAAW,CAAA,GAGNM,CACT,CAEA,qBACEP,EACAC,EACAT,EAAoC,CAEpC,IAAMmB,EAAcX,EAAS,OAASC,EAAS,OACzCW,EAAqBC,GAAIb,EAAS,OAAOC,CAAQ,EAAE,IAAIa,GAAQA,EAAK,QAAQ,MAAM,CAAC,EAMzF,OAJEH,EAAc,KAAK,OAAO,wBAC1BC,EAAqB,KAAK,OAAO,kCAChC,KAAK,OAAO,WAAa,SAAW,KAAK,OAAO,WAAa,SAE5CpB,EAAQQ,EAAUC,CAAQ,EAAI,CAAC,CAACD,EAAUC,CAAQ,CAAC,CACzE,CAEA,oBAAoBpB,EAAgBkC,EAAqBf,EAAsBC,EAAoB,CACjG,IAAMe,EAAW,CACf,MAAO,GACP,KAAM,IAGFC,EAAiB,KAAK,IAAIjB,EAAS,OAAQC,EAAS,MAAM,EAChE,QAASO,EAAI,EAAGA,EAAIS,EAAgBT,IAAK,CACvC,IAAMU,EAAUlB,EAASQ,CAAC,EACpBW,EAAUlB,EAASO,CAAC,EAEpBY,EACJF,IAAY,QAAaC,IAAY,OACrBE,GAAcH,EAAQ,QAASC,EAAQ,QAASJ,EAAY,KAAK,MAAM,EACnF,OAEAO,EACJJ,IAAY,QAAaA,EAAQ,YAAc,OAC5C,OAAA,OAAA,OAAA,OAAA,CAAA,EACOE,IAAS,OACT,CACE,OAAQA,EAAK,QAAQ,OACrB,QAASA,EAAK,QAAQ,QACtB,KAAkB7B,EAAa,gBAElC,OAAA,OAAA,OAAA,OAAA,CAAA,EACkBI,EAAgBuB,EAAQ,QAASH,CAAU,CAAC,EAAA,CAC3D,KAAkBQ,GAAWL,EAAQ,IAAI,CAAC,CAAA,CAC1C,EAAA,CACN,UAAWA,EAAQ,UACnB,UAAWA,EAAQ,SAAS,CAAA,EAE9B,OAEAM,EACJL,IAAY,QAAaA,EAAQ,YAAc,OAC5C,OAAA,OAAA,OAAA,OAAA,CAAA,EACOC,IAAS,OACT,CACE,OAAQA,EAAK,QAAQ,OACrB,QAASA,EAAK,QAAQ,QACtB,KAAkB7B,EAAa,gBAElC,OAAA,OAAA,OAAA,OAAA,CAAA,EACkBI,EAAgBwB,EAAQ,QAASJ,CAAU,CAAC,EAAA,CAC3D,KAAkBQ,GAAWJ,EAAQ,IAAI,CAAC,CAAA,CAC1C,EAAA,CACN,UAAWA,EAAQ,UACnB,UAAWA,EAAQ,SAAS,CAAA,EAE9B,OAEA,CAAE,KAAAjB,EAAM,MAAAC,CAAK,EAAK,KAAK,iBAAiBtB,EAAMyC,EAAiBE,CAAe,EACpFR,EAAS,MAAQd,EACjBc,EAAS,OAASb,CACpB,CAEA,OAAOa,CACT,CAEA,iBAAiBnC,EAAgBqC,EAA4BC,EAA0B,CACrF,MAAO,CACL,KAAM,KAAK,uBAAuBtC,EAAMqC,CAAO,EAC/C,MAAO,KAAK,uBAAuBrC,EAAMsC,CAAO,EAEpD,CAEA,uBAAuBtC,EAAgBuB,EAAuB,CAC5D,GAAIA,IAAS,OAAW,MAAO,GAE/B,IAAMqB,EAAiB,KAAK,WAAW,OAAOpD,GAAmB,UAAW,CAC1E,UAAW+B,EAAK,WAAa,GAC7B,UAAWA,EAAK,WAAa,GAC9B,EAED,OAAO,KAAK,WAAW,OAAOhC,GAAsB,OAAQ,CAC1D,KAAMgC,EAAK,KACX,UAAW,sBACX,aAAc,gBACd,OAAQA,EAAK,SAAW,IAAM,SAAWA,EAAK,OAC9C,QAASA,EAAK,QACd,WAAYqB,EACZ,KAAArB,EACA,KAAAvB,EACD,CACH,GC/PK,IAAM6C,GAA+B,OAAA,OAAA,OAAA,OAAA,CAAA,EAC3BC,EAAmB,EAAA,CAClC,uBAAwB,GACxB,uBAAwB,KACxB,gCAAiC,GAAG,CAAA,EAGhCC,GAAuB,UACvBC,GAAoB,eACpBC,GAAyB,OACzBC,GAAwB,MAETC,GAArB,KAAuC,CAIrC,YAAYC,EAA0BC,EAAmC,CAAA,EAAE,CACzE,KAAK,WAAaD,EAClB,KAAK,OAAM,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQP,EAA+B,EAAKQ,CAAM,CAC/D,CAEA,OAAOC,EAAqB,CAC1B,IAAMC,EAAYD,EACf,IAAIE,GAAO,CACV,IAAIC,EACJ,OAAID,EAAK,OAAO,OACdC,EAAQ,KAAK,iBAAiBD,CAAI,EAElCC,EAAQ,KAAK,kBAAiB,EAEzB,KAAK,iBAAiBD,EAAMC,CAAK,CAC1C,CAAC,EACA,KAAK;CAAI,EAEZ,OAAO,KAAK,WAAW,OAAOV,GAAsB,UAAW,CAC7D,YAAyBW,GAAiB,KAAK,OAAO,WAAW,EACjE,QAASH,EACV,CACH,CAEA,iBAAiBC,EAAgBC,EAAe,CAC9C,GAAI,KAAK,OAAO,wBAA0B,MAAM,QAAQD,EAAK,MAAM,GAAKA,EAAK,OAAO,SAAW,EAAG,MAAO,GAEzG,IAAMG,EAAmB,KAAK,WAAW,SAASX,GAAmB,WAAW,EAC1EY,EAAmB,KAAK,WAAW,SAASb,GAAsB,WAAW,EAC7Ec,EAAmB,KAAK,WAAW,SAASZ,GAAwB,MAAM,EAC1Ea,EAAkB,KAAK,WAAW,SAASZ,GAAmCa,GAAYP,CAAI,CAAC,EAErG,OAAOG,EAAiB,OAAO,CAC7B,KAAMH,EACN,WAAwBQ,GAAUR,CAAI,EACtC,MAAOC,EACP,SAAUG,EAAiB,OACzB,CACE,aAA0BK,GAAaT,CAAI,GAE7C,CACE,SAAUK,EACV,QAASC,EACV,EAEJ,CACH,CAEA,mBAAiB,CACf,MAAO,CACL,MAAO,GACP,KAAM,KAAK,WAAW,OAAOf,GAAsB,aAAc,CAC/D,aAAc,qBACd,aAA0BmB,EAC3B,EAEL,CAEA,iBAAiBV,EAAc,CAC7B,IAAMW,EAAkBC,GACdC,GAAe,GAA4BC,EAAgB,EAAE,QAASd,EAAK,UAAU,EAAE,OAAO,CAAC,EAGzG,OAAOA,EAAK,OACT,IAAIe,GAAQ,CACX,IAAMC,EAAW,CACf,KAAM,KAAK,eAAeD,EAAM,OAAQf,CAAI,EAC5C,MAAO,KAAK,eAAe,EAAE,GAG/B,YAAK,mBAAmBe,CAAK,EAAE,QAAQ,CAAC,CAACE,EAAcC,EAAUC,CAAQ,IAAK,CAC5E,GAAID,EAAS,QAAUC,EAAS,QAAU,CAACF,EAAa,OACtD,KAAK,qBAAqBC,EAAUC,EAAUR,CAAO,EAAE,IAAI,CAAC,CAACO,EAAUC,CAAQ,IAAK,CAClF,GAAM,CAAE,KAAAC,EAAM,MAAAC,CAAK,EAAK,KAAK,oBAAoBrB,EAAK,WAAYkB,EAAUC,CAAQ,EACpFH,EAAS,MAAQI,EACjBJ,EAAS,OAASK,CACpB,CAAC,UACQJ,EAAa,OACtBA,EAAa,QAAQK,GAAO,CAC1B,GAAM,CAAE,OAAAC,EAAQ,QAAAC,CAAO,EAAiBV,EAAgBQ,EAAK,QAAStB,EAAK,UAAU,EAC/E,CAAE,KAAAoB,EAAM,MAAAC,CAAK,EAAK,KAAK,iBAC3B,CACE,KAAkBX,EAAa,QAC/B,OAAQa,EACR,QAASC,EACT,OAAQF,EAAK,WAEf,CACE,KAAkBZ,EAAa,QAC/B,OAAQa,EACR,QAASC,EACT,OAAQF,EAAK,UACd,EAEHN,EAAS,MAAQI,EACjBJ,EAAS,OAASK,CACpB,CAAC,UACQH,EAAS,QAAUC,EAAS,OAAQ,CAC7C,GAAM,CAAE,KAAAC,EAAM,MAAAC,CAAK,EAAK,KAAK,oBAAoBrB,EAAK,WAAYkB,EAAUC,CAAQ,EACpFH,EAAS,MAAQI,EACjBJ,EAAS,OAASK,CACpB,MACE,QAAQ,MAAM,yDAA0DJ,EAAcC,EAAUC,CAAQ,CAE5G,CAAC,EAEMH,CACT,CAAC,EACA,OACC,CAACS,EAAaC,KACL,CAAE,KAAMD,EAAY,KAAOC,EAAK,KAAM,MAAOD,EAAY,MAAQC,EAAK,KAAK,GAEpF,CAAE,KAAM,GAAI,MAAO,EAAE,CAAE,CAE7B,CAEA,mBAAmBX,EAAgB,CACjC,IAAMY,EAAmC,CAAA,EAErCT,EAAkD,CAAA,EAClDC,EAAmD,CAAA,EAEvD,QAASS,EAAI,EAAGA,EAAIb,EAAM,MAAM,OAAQa,IAAK,CAC3C,IAAMC,EAAWd,EAAM,MAAMa,CAAC,GAG3BC,EAAS,OAASC,EAAS,QAAUX,EAAS,QAC9CU,EAAS,OAASC,EAAS,SAAWZ,EAAS,OAAS,KAEzDS,EAAiB,KAAK,CAAC,CAAA,EAAIT,EAAUC,CAAQ,CAAC,EAC9CD,EAAW,CAAA,EACXC,EAAW,CAAA,GAGTU,EAAS,OAASC,EAAS,QAC7BH,EAAiB,KAAK,CAAC,CAACE,CAAQ,EAAG,CAAA,EAAI,CAAA,CAAE,CAAC,EACjCA,EAAS,OAASC,EAAS,QAAUZ,EAAS,SAAW,EAClES,EAAiB,KAAK,CAAC,CAAA,EAAI,CAAA,EAAI,CAACE,CAAQ,CAAC,CAAC,EACjCA,EAAS,OAASC,EAAS,QAAUZ,EAAS,OAAS,EAChEC,EAAS,KAAKU,CAAQ,EACbA,EAAS,OAASC,EAAS,QACpCZ,EAAS,KAAKW,CAAQ,CAE1B,CAEA,OAAIX,EAAS,QAAUC,EAAS,UAC9BQ,EAAiB,KAAK,CAAC,CAAA,EAAIT,EAAUC,CAAQ,CAAC,EAC9CD,EAAW,CAAA,EACXC,EAAW,CAAA,GAGNQ,CACT,CAEA,qBACET,EACAC,EACAR,EAAoC,CAEpC,IAAMoB,EAAcb,EAAS,OAASC,EAAS,OACzCa,EAAqBC,GAAIf,EAAS,OAAOC,CAAQ,EAAE,IAAIe,GAAQA,EAAK,QAAQ,MAAM,CAAC,EAMzF,OAJEH,EAAc,KAAK,OAAO,wBAC1BC,EAAqB,KAAK,OAAO,kCAChC,KAAK,OAAO,WAAa,SAAW,KAAK,OAAO,WAAa,SAE5CrB,EAAQO,EAAUC,CAAQ,EAAI,CAAC,CAACD,EAAUC,CAAQ,CAAC,CACzE,CAEA,eAAegB,EAAqBnC,EAAe,CACjD,OAAO,KAAK,WAAW,OAAOT,GAAsB,eAAgB,CAClE,aAA0BmB,EAC1B,YAAaV,GAAM,SAAWmC,EAA0BC,GAAcD,CAAW,EACjF,UAAW,2BACX,aAAc,qBACf,CACH,CAEA,oBAAoBE,EAAqBnB,EAAsBC,EAAoB,CACjF,IAAMH,EAAW,CACf,MAAO,GACP,KAAM,IAGFsB,EAAiB,KAAK,IAAIpB,EAAS,OAAQC,EAAS,MAAM,EAChE,QAASS,EAAI,EAAGA,EAAIU,EAAgBV,IAAK,CACvC,IAAMW,EAAUrB,EAASU,CAAC,EACpBY,EAAUrB,EAASS,CAAC,EAEpBa,EACJF,IAAY,QAAaC,IAAY,OACrBE,GAAcH,EAAQ,QAASC,EAAQ,QAASH,EAAY,KAAK,MAAM,EACnF,OAEAM,EACJJ,IAAY,QAAaA,EAAQ,YAAc,OAC5C,OAAA,OAAA,OAAA,OAAA,CAAA,EACOE,IAAS,OACT,CACE,OAAQA,EAAK,QAAQ,OACrB,QAASA,EAAK,QAAQ,QACtB,KAAkB/B,EAAa,gBAElC,OAAA,OAAA,OAAA,OAAA,CAAA,EACkBI,EAAgByB,EAAQ,QAASF,CAAU,CAAC,EAAA,CAC3D,KAAkBO,GAAWL,EAAQ,IAAI,CAAC,CAAA,CAC1C,EAAA,CACN,OAAQA,EAAQ,SAAS,CAAA,EAE3B,OAEAM,EACJL,IAAY,QAAaA,EAAQ,YAAc,OAC5C,OAAA,OAAA,OAAA,OAAA,CAAA,EACOC,IAAS,OACT,CACE,OAAQA,EAAK,QAAQ,OACrB,QAASA,EAAK,QAAQ,QACtB,KAAkB/B,EAAa,gBAElC,OAAA,OAAA,OAAA,OAAA,CAAA,EACkBI,EAAgB0B,EAAQ,QAASH,CAAU,CAAC,EAAA,CAC3D,KAAkBO,GAAWJ,EAAQ,IAAI,CAAC,CAAA,CAC1C,EAAA,CACN,OAAQA,EAAQ,SAAS,CAAA,EAE3B,OAEA,CAAE,KAAApB,EAAM,MAAAC,CAAK,EAAK,KAAK,iBAAiBsB,EAAiBE,CAAe,EAC9E7B,EAAS,MAAQI,EACjBJ,EAAS,OAASK,CACpB,CAEA,OAAOL,CACT,CAEA,iBAAiBuB,EAA4BC,EAA0B,CACrE,MAAO,CACL,KAAM,KAAK,mBAAmBD,CAAO,EACrC,MAAO,KAAK,mBAAmBC,CAAO,EAE1C,CAEA,mBAAmBlB,EAAuB,CACxC,IAAMwB,EAAY,2BACZC,EAAe,qBAErB,OAAO,KAAK,WAAW,OAAOxD,GAAsB,OAAQ,CAC1D,KAAM+B,GAAM,MAAQ,GAAeZ,EAAa,OAAO,wBACvD,UAAWY,IAAS,OAAYwB,EAAY,GAAGA,CAAS,kCACxD,aAAcxB,IAAS,OAAYyB,EAAe,GAAGA,CAAY,kCACjE,OAAQzB,GAAM,SAAW,IAAM,SAAWA,GAAM,OAChD,QAASA,GAAM,QACf,WAAYA,GAAM,OACnB,CACH,GCpSF,IAAA0B,GAAuB,SCAvB,IAAAC,EAAuB,SAEVC,EAAsC,CAAA,EAEnDA,EAAiB,mBAAmB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,iCAAmC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0CAA4C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAEA,EAAE,GAAG,aAAaH,EAAEC,EAAE,QAAQ,CAAC,EAAEE,EAAE,EAAE,kBAAmB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,0BAA6B,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,WAAWH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,qCAAuC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0CAA4C,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,4CAA8C,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,eAAeH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,eAAe,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,aAAa,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,OAAO,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAC,aAAa,CAAC,KAAK,WAAY,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAAG,KAAM,CAAA,CAAI,CAAC,EAEr3BJ,EAAiB,sBAAsB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,oCAAqC,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,wCAA0C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,2DAA6D,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,UAAU,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sDAAwD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sDAAwD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gCAAkC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,QAAQH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,WAAW,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAErxBJ,EAAiB,sBAAsB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,YAAYH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,GAAG,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,oBAAoBH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAU,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,oBAAoBH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAuB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,eAAeH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAKA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,IAAI,IAAI,OAAO,IAAGE,EAAE,GAAGH,EAAEC,EAAE,SAASD,EAAEC,EAAEE,EAAC,CAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,CAAC,CAAC,CAAE,CAAC,EAAED,EAAE,IAAG,GAAQG,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGE,EAAE,EAAE,QAAQ,EAAIA,EAAE,EAAE,QAAQ,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,WAAW,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,OAAO,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE3uBJ,EAAiB,oBAAoB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,oBAAoBH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAuB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,eAAeH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,kCAAkC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gBAAgB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,WAAW,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,OAAO,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE5eJ,EAAiB,mBAAmB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,sCAAwC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAEA,EAAE,GAAG,aAAaH,EAAEC,EAAE,MAAM,CAAC,EAAEE,EAAE,EAAE,kCAAoC,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,eAAeH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAEA,EAAE,GAAG,YAAYH,EAAEC,EAAE,MAAM,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,mCAAqC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0FAAkG,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,UAAU,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAC,aAAa,CAAC,KAAK,WAAY,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,EAAE,YAAY,CAAC,KAAK,UAAW,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAAG,KAAM,CAAA,CAAI,CAAC,EAE9uBJ,EAAiB,cAAc,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,YAAYH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,GAAG,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,OAAOH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,WAAW,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,OAAOH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAuB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,eAAeH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAKC,EAAE,EAAEA,EAAE,EAAE,SAASH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,IAAI,IAAI,OAAO,IAAGE,EAAE,GAAGH,EAAEC,EAAE,SAASD,EAAEC,EAAEE,EAAC,CAAEA,EAAE,EAAE,iDAAmD,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,SAASH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,CAAE,CAAC,EAAEF,EAAE,IAAG,GAAQG,EAAE,EAAEA,EAAE,EAAE,SAASH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAGE,EAAE,EAAE,8DAAgE,EAAEA,EAAE,EAAE;EAAOD,CAAC,GAAOC,EAAE,EAAEA,EAAE,EAAE,UAAUH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,IAAI,IAAI,OAAO,IAAGE,EAAE,GAAGH,EAAEC,EAAE,SAASD,EAAEC,EAAEE,EAAC,CAAEA,EAAE,EAAE,8CAAgD,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,UAAUH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,SAAS,EAAEA,EAAE,EAAE;EAAOD,CAAC,CAAE,CAAC,EAAEF,EAAE,IAAG,GAAQG,EAAE,EAAEA,EAAE,EAAE,UAAUH,EAAEC,EAAE,CAAC,EAAED,EAAEC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAGE,EAAE,EAAE,yDAA2D,EAAEA,EAAE,EAAE;EAAOD,CAAC,GAAIC,EAAE,EAAE,gBAAgB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,WAAW,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,OAAO,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE5wCJ,EAAiB,iBAAiB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,0BAA2B,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,UAAUH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEzTJ,EAAiB,iBAAiB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,gHAA4H,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,kBAAoB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,8JAAgK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE/gBJ,EAAiB,mBAAmB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,iGAA2G,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sCAA0C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,yLAA2L,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEjjBJ,EAAiB,mBAAmB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,gGAA0G,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sCAA0C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,+IAAiJ,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEtgBJ,EAAiB,mBAAmB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,8FAAwG,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sCAA0C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,yJAA2J,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE9gBJ,EAAiB,WAAW,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,oGAAgH,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,6LAA+L,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEpfJ,EAAiB,wBAAwB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,WAAY,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,wCAA4C,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,gBAAgBH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,mCAAqC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,MAAM,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,WAAWH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,iCAAmC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,wCAA0C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,4CAA8C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gDAAkD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,kBAAkB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,QAAQH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0BAA0B,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAsB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gBAAgB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAE77BJ,EAAiB,sBAAsB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,yBAA2B,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,YAAYH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,QAAQ,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,yBAA2B,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,YAAYH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAExUJ,EAAiB,wBAAwB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,WAAY,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,wCAA4C,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,gBAAgBH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE,IAAK,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,mCAAqC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,WAAWH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,kCAAoC,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0CAA4C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,4CAA8C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gDAAkD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,oDAAsD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAsB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,aAAaH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,8BAA8B,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0BAA0B,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,oBAAoB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gBAAgB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0CAA4C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,4CAA8C,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gDAAkD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,oDAAsD,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,sBAAsB,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAE,cAAcH,EAAEC,EAAE,CAAC,CAAC,CAAC,EAAEE,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,8BAA8B,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,0BAA0B,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,oBAAoB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,gBAAgB,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,YAAY,EAAEA,EAAE,EAAE;EAAOD,CAAC,EAAEC,EAAE,EAAE,QAAQ,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEhlDJ,EAAiB,gBAAgB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,4DAA8D,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAExNJ,EAAiB,kBAAkB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,kEAAoE,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEhOJ,EAAiB,kBAAkB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,kEAAoE,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EAEhOJ,EAAiB,kBAAkB,EAAI,IAAU,WAAS,CAAC,KAAM,SAAUC,EAAEC,EAAEC,EAAC,CAAI,IAAIC,EAAE,KAAK,OAAAA,EAAE,EAAED,EAAEA,GAAG,EAAE,EAAEC,EAAE,EAAE,8DAAgE,EAASA,EAAE,GAAE,CAAI,EAAE,SAAU,CAAA,EAAI,KAAM,CAAA,CAAI,CAAC,EDvB5N,IAAqBC,GAArB,KAAiC,CAG/B,YAAY,CAAE,kBAAAC,EAAoB,CAAA,EAAI,aAAAC,EAAe,CAAA,CAAE,EAAsB,CAC3E,IAAMC,EAAuB,OAAO,QAAQD,CAAY,EAAE,OACxD,CAACE,EAAmB,CAACC,EAAMC,CAAc,IAAK,CAC5C,IAAMC,EAAyC,WAAQD,EAAgB,CAAE,SAAU,EAAK,CAAE,EAC1F,OAAA,OAAA,OAAA,OAAA,OAAA,CAAA,EAAYF,CAAiB,EAAA,CAAE,CAACC,CAAI,EAAGE,CAAgB,CAAA,CACzD,EACA,CAAA,CAAE,EAGJ,KAAK,qBAAoB,OAAA,OAAA,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQC,CAAgB,EAAKP,CAAiB,EAAKE,CAAoB,CAClG,CAEA,OAAO,QAAQG,EAAsB,CACnC,OAAa,WAAQA,EAAgB,CAAE,SAAU,EAAK,CAAE,CAC1D,CAEA,OAAOG,EAAmBC,EAAcC,EAAuBC,EAA2BC,EAAe,CACvG,IAAMC,EAAc,KAAK,YAAYL,EAAWC,CAAI,EACpD,GAAI,CAEF,OADiB,KAAK,qBAAqBI,CAAW,EACtC,OAAOH,EAAQC,EAAUC,CAAM,CACjD,MAAa,CACX,MAAM,IAAI,MAAM,sCAAsCC,CAAW,GAAG,CACtE,CACF,CAEA,SAASL,EAAmBC,EAAY,CACtC,OAAO,KAAK,qBAAqB,KAAK,YAAYD,EAAWC,CAAI,CAAC,CACpE,CAEQ,YAAYD,EAAmBC,EAAY,CACjD,MAAO,GAAGD,CAAS,IAAIC,CAAI,EAC7B,GEpCK,IAAMK,GAAsB,OAAA,OAAA,OAAA,OAAA,OAAA,OAAA,CAAA,EAC9BC,EAA+B,EAC/BC,EAA+B,EAAA,CAClC,aAAcC,GAAiB,aAC/B,aAAc,EAAI,CAAA,EAOd,SAAUC,GAAKC,EAAgCC,EAAiC,CAAA,EAAE,CACtF,IAAMC,EAAM,OAAA,OAAA,OAAA,OAAA,CAAA,EAAQC,EAAsB,EAAKF,CAAa,EAEtDG,EAAW,OAAOJ,GAAc,SAAsBK,GAAML,EAAWE,CAAM,EAAIF,EAEjFM,EAAa,IAAIC,GAAaL,CAAM,EAEpC,CAAE,YAAAM,CAAW,EAAKN,EAClBO,EAAyB,CAAE,YAAAD,CAAW,EAEtCE,EAAWR,EAAO,aAAe,IAAIS,GAAiBL,EAAYG,CAAsB,EAAE,OAAOL,CAAQ,EAAI,GAE7GQ,EACJV,EAAO,eAAiB,eACpB,IAAIW,GAAmBP,EAAYJ,CAAM,EAAE,OAAOE,CAAQ,EAC1D,IAAIU,GAAmBR,EAAYJ,CAAM,EAAE,OAAOE,CAAQ,EAEhE,OAAOM,EAAWE,CACpB,CCzCO,IAAMG,GAAN,KAAgB,CACX,MAAyB,CAAC,EAE3B,WAAWC,EAA+B,CAC7C,KAAK,MAAM,KAAKA,CAAQ,EACxB,IAAMC,EAAW,SAAS,eACtB,0CACJ,EACA,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,sCAAsC,EAG1D,IAAMC,EAAaF,EAAS,OAAS,SAAM,SACrCG,EAAcH,EAAS,OAAS,cAAgB,cAEhDI,EACFC,EAAC,OAAI,MAAO,aAAaF,CAAW,GAChC,UAAAE,EAAC,OAAI,MAAM,mBACP,UAAAA,EAAC,QAAK,MAAM,cAAe,SAAAH,EAAW,EACtCG,EAAC,QAAK,MAAM,YAAY,kBAAML,EAAS,MAAK,EAC5CK,EAAC,QAAK,MAAM,cAAe,SAAAL,EAAS,OAAO,GAC/C,EACAK,EAAC,OAAI,MAAM,iBAAiB,GAYhC,EAKJ,GAFAJ,EAAS,YAAYG,CAAW,EAE5B,CAACJ,EAAS,OAAQ,CAClB,IAAMM,EAAaN,EAAS,UAE5B,QAAQ,IAAIM,CAAU,EAEtB,IAAMC,EAAgBH,EAAY,cAAc,iBAAiB,EACjE,GAAIG,EACAA,EAAc,UAAsBC,GAAKF,EAAY,CACjD,aAAc,GACd,SAAU,QACV,UAAW,OACX,aAAc,cAElB,CAAC,MAED,OAAM,IAAI,MAAM,uCAAuC,CAE/D,CACJ,CAEO,mBAA0B,CAC7B,IAAMG,EAAiB,SAAS,eAC5B,qCACJ,EACA,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,6CAA6C,EAGjE,IAAMC,EAAa,KAAK,MAAM,OACxBC,EAAc,KAAK,MAAM,OAAQC,GAAMA,EAAE,MAAM,EAAE,OACjDC,EAAcH,EAAaC,EAEjCF,EAAe,gBACXJ,EAAC,OAAI,MAAM,eACP,UAAAA,EAAC,UAAO,oBAAQ,EAChBA,EAAC,OAAI,0BAAcK,GAAW,EAC9BL,EAAC,OAAI,4BAAWM,GAAY,EAC5BN,EAAC,OAAI,4BAAWQ,GAAY,GAChC,CACJ,CACJ,CACJ,EC3EO,IAAMC,GAAN,KAAiB,CAapB,YACYC,EACAC,EACV,CAFU,iBAAAD,EACA,kBAAAC,EAER,KAAK,WAAW,CACpB,CAjBQ,aAAmC,KACnC,eAAqC,KACrC,OAA2B,CAAC,EAC5B,YAAqB,CAAC,EACtB,aAAoB,KACpB,OAAgB,CAAC,EACjB,SAAkB,CAAC,EACnB,UAAqB,GACrB,UAAmC,KACnC,UAAmC,KACnC,aAAiC,KASjC,YAAa,CACjB,IAAMC,EAAY,SAAS,eAAe,KAAK,WAAW,EAC1D,GAAI,CAACA,EAAW,CACZ,QAAQ,MACJ,kCAAkC,KAAK,WAAW,cACtD,EACA,MACJ,CAEA,KAAK,aAAe,KAAK,qBAAqB,EAC9CA,EAAU,YAAY,KAAK,YAAY,EACvC,KAAK,eAAiB,KAAK,aAAa,cACpC,wBACJ,EACA,KAAK,UAAY,IAAIC,GAAe,EAAE,EACtC,KAAK,UAAY,IAAIC,GACrB,KAAK,aAAe,IAAIC,GACxB,KAAK,oBAAoB,CAC7B,CAEO,eAAeC,EAAe,CAC7B,KAAK,WACL,KAAK,UAAU,SAASA,CAAK,CAErC,CACO,SAASC,EAAe,CACvB,KAAK,WACL,KAAK,UAAU,SAASA,CAAK,CAErC,CAEQ,sBAAoC,CACxC,IAAMC,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,sBAClBA,EAAM,GAAK,sBAEX,IAAMC,EACFC,EAAC,OAAI,MAAM,sBACP,UAAAA,EAAC,OAAI,MAAM,4BACP,UAAAA,EAAC,OACG,UAAAA,EAAC,OAAI,MAAM,6BAA6B,uBAExC,EACAA,EAAC,OAAI,MAAM,gCAAgC,GAC/C,EACAA,EAAC,OAAI,MAAM,+BACP,UAAAA,EAAC,KAAE,KAAK,0BAA0B,oBAAQ,EAAI,KAC9CA,EAAC,KAAE,KAAK,wBAAwB,kBAAM,EAAI,KAC1CA,EAAC,KAAE,KAAK,+BAA+B,yBAAa,EAAK,IAAI,IAC5DA,EAAC,KAAE,KAAK,uBAAuB,iBAAK,EAAI,KACzCA,EAAC,KAAE,KAAK,yBAAyB,mBAAO,EAAI,KAC5CA,EAAC,KAAE,KAAK,wBAAwB,kBAAM,EAAI,KAC1CA,EAAC,KAAE,KAAK,wBAAwB,kBAAM,GAC1C,GACJ,EACC,KAAK,oBAAoB,EAC1BA,EAAC,OAAI,MAAM,wBACP,UAAAA,EAAC,OACG,MAAM,wBACN,GAAG,uBAEH,UAAAA,EAAC,OAAI,MAAM,+BACP,SAAAA,EAAC,MAAG,6BAAiB,EACzB,EACAA,EAAC,OAAI,GAAG,sBAAsB,GAClC,EACAA,EAAC,OACG,MAAM,wBACN,GAAG,8BACN,EACDA,EAAC,OAAI,MAAM,wBAAwB,GAAG,sBAClC,UAAAA,EAAC,OAAI,MAAM,+BACP,SAAAA,EAAC,MAAG,yBAAa,EACrB,EACAA,EAAC,OAAI,GAAG,sCAAsC,GAClD,EACAA,EAAC,OACG,MAAM,wBACN,GAAG,wBACN,EACDA,EAAC,OAAI,MAAM,wBAAwB,GAAG,sBAClC,UAAAA,EAAC,OAAI,MAAM,+BACP,SAAAA,EAAC,MAAG,sBAAU,EAClB,EACAA,EAAC,OAAI,GAAG,sCACJ,UAAAA,EAAC,OAAI,GAAG,sCAAsC,EAC9CA,EAAC,OAAG,EACJA,EAAC,UAAO,qBAAS,EACjBA,EAAC,OAAI,GAAG,2CAA2C,GACvD,GACJ,EACAA,EAAC,OACG,MAAM,wBACN,GAAG,uBACN,EACDA,EAAC,OACG,MAAM,wBACN,GAAG,uBACN,GACL,GACJ,EAEJ,OAAAF,EAAM,YAAYC,CAAE,EAEbD,CACX,CAEQ,qBAAsB,CAC1B,OACIE,EAAC,OAAI,MAAM,wBACP,UAAAA,EAAC,UACG,GAAG,mBACH,MAAOC,EAAE,qBAAqB,EAC9B,MAAM,sBAEL,UAAAA,EAAE,WAAW,EAAE,IAAEA,EAAE,aAAa,GACrC,EACAD,EAAC,UACG,GAAG,kBACH,MAAOC,EAAE,sBAAsB,EAC/B,MAAM,uBAEL,UAAAA,EAAE,YAAY,EAAE,IAAEA,EAAE,cAAc,GACvC,GACJ,CAER,CAEQ,qBAA4B,CACZ,SAAS,iBAAiB,sBAAsB,EACxD,QAASC,GAAW,CAC5BA,EAAO,iBAAiB,QAAUC,GAAU,CACxCA,EAAM,eAAe,EACrB,KAAK,aAAa,KAAK,OAAO,CAClC,CAAC,CACL,CAAC,CACL,CAEQ,YAAYC,EAAqB,CACrC,IAAMC,EAAU,SAAS,eACrB,qCACJ,EACA,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,sCAAsC,EAG1D,IAAMC,EACFN,EAAC,OAAI,MAAM,gBACP,SAAAA,EAAC,OAAI,wBAAyB,CAAE,OAAQI,CAAS,EAAG,EACxD,EAGJC,EAAQ,gBAAgBC,CAAY,CACxC,CAEQ,YAAYT,EAAeU,EAAyB,CACxD,IAAMF,EAAU,SAAS,eAAe,qBAAqB,EAC7D,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,uCAAuC,EAG3D,IAAMG,EACFR,EAAC,OAAI,MAAM,kBACP,UAAAA,EAAC,UAAQ,SAAAH,EAAM,EAAS,IAACG,EAAC,OAAK,SAAAO,EAAU,GAC7C,EAGJF,EAAQ,YAAYG,CAAY,CACpC,CAEO,YAAYL,EAA6B,CAE5C,OADA,KAAK,OAAO,KAAKA,CAAK,EACdA,EAAM,MAAM,WAAY,CAC5B,IAAK,aACD,KAAK,YAAYA,EAAM,KAAK,IAAKA,EAAM,KAAK,SAAS,EACrD,MACJ,IAAK,eACD,KAAK,aAAeA,EAAM,KAAK,KAC/B,KAAK,YAAY,KAAK,YAAY,EAClC,MACJ,IAAK,gBACD,KAAK,cAAc,WAAWA,EAAM,IAAI,EACxC,KAAK,cAAc,kBAAkB,EACrC,MACJ,QAII,KACR,CACJ,CACJ,ECxNO,SAASM,GAAYC,EAAc,CACtC,GACIC,EAAG,eAAiB,QACpBA,EAAG,aAAa,MAASD,CAAI,IAAM,OAEnC,KAAM,oBAAsBA,EAAO,IACvC,OAAOC,EAAG,aAAa,MAASD,CAAI,CACxC,CAEA,IAAME,GAAW,oFAEV,SAASC,IAAc,CAC1B,GAAI,OAAOF,EAAO,IACd,cAAQ,MACJ,+IACJ,EACM,IAAI,MAAM,kBAAkB,EAGlC,OAAOA,EAAG,QAAW,MACrBA,EAAG,QAAU,IAAIA,EAAG,QAAQ,MAEhCA,EAAG,QAAQ,SACP,IAAIA,EAAG,QAAQ,IAAI,gBAAgB,EACnCA,EAAG,QAAQ,KAAK,KACpB,EAEAA,EAAG,UAAU,CACT,KAAMF,GACN,WAAYE,EAAG,OACnB,CAAC,EAEDA,EAAG,UAAY,GAEX,OAAOA,EAAG,QAAY,MACtBA,EAAG,QAAU,CAAC,GAElBA,EAAG,QAAQ,QAAU,CAAC,EACtBA,EAAG,QAAQ,cAAgB,SAAUG,EAAU,CAC3C,SAAS,KAAK,OAAOA,EAAI,KAAK,CAClC,EACAH,EAAG,QAAQ,KAAO,SAAUI,EAAY,CACpC,IAAIC,EAAY,SAAS,cAAc,KAAK,EAC5C,gBAAS,KAAK,OAAOA,CAAS,EACvB,CAAE,KAAM,CAACA,CAAS,CAAE,CAC/B,EACAL,EAAG,QAAQ,SAAW,UAAY,CAC9B,MAAO,IACX,EACAA,EAAG,QAAQ,UAAY,UAAY,CAC/B,MAAO,IACX,EACAA,EAAG,QAAQ,QAAQ,YAAc,SAAUM,EAAWC,EAAc,CAChE,SAAS,KAAK,UAAY,2HAA2HN,EAAQ,KAAKK,CAAI,KAAKC,CAAO,cACtL,EAEAP,EAAG,WAAaQ,EAKpB,CAEO,SAASC,GAAeV,EAAcW,EAAkB,CACvDV,EAAG,eAAiB,SACpBA,EAAG,aAAe,CAAE,MAAO,CAAC,CAAE,GAElCA,EAAG,aAAa,MAASD,CAAI,EAAIW,CACrC,CAEA,eAAsBC,GAClBC,EACAC,EAAe,OACfC,EAAgB,GACH,CACbL,GAAeI,EAAe,MAAOD,CAAU,EAC/C,GAAI,CACA,OAAOZ,EAAG,SACL,eAAe,IACLA,EAAG,mBACNa,EACA,GACAD,EACA,EACJ,CACH,EACA,KAAMG,IACH,QAAQ,IAAIA,EAAO,EAAE,EACdA,EACV,EACA,MAAOC,GAAU,CACd,GAAI,CAACF,EAQD,MANqBG,GACjBD,EACAH,EAAe,MACfD,EACA,EACJ,EAGJM,GAAUF,EAAOH,EAAe,MAAOD,CAAU,CACrD,CAAC,CACT,OAASI,EAAO,CACZ,GAAI,CAACF,EAQD,MANqBG,GACjBD,EACAH,EAAe,MACfD,EACA,EACJ,EAGJM,GAAUF,EAA0BH,EAAe,MAAOD,CAAU,CACxE,CACJ,CAEA,SAASM,GACLC,EACAC,EACAd,EACF,CACE,QAAQ,MAAMa,CAAG,EACjB,QAAQ,MAAMA,EAAI,KAAK,EAAE,CAAC,EAAE,CAAC,EAC7B,SAAS,KAAK,UAAY,CACtB,+GACAE,GAAgBF,EAAKC,EAAkBd,CAAI,EAC3C,QACJ,EAAE,KAAK;AAAA,CAAI,CACf,CAEA,SAASe,GACLL,EACAI,EACAd,EACF,CACE,IAAIgB,EAAQN,EAAM,QACdO,EAAW,UAGf,OAFcN,GAAmBD,EAAOI,EAAkBd,CAAI,CAGlE,CAEA,SAASkB,GACLR,EACAI,EACAd,EACF,CACE,OAAOU,EAAM,UAAU,QAAQ,EAAE,IAAKS,GAAU,CAC5C,GAAI,CAACA,EACD,MAAO,KAEX,IAAIC,EAASD,EAAM,OACfE,EAAO,gCAAgCF,EAAM,QAAQ,aACrDG,EAAO,gCAAgCF,CAAM,YAC7CG,EACAJ,EAAM,QAAU,YAAcA,EAAM,QAAU,OACxC,YAAYA,EAAM,KAAK,GACvB,GACNK,EAAS,GAEb,GAAIL,EAAM,SAAW,OACjBK,EAAS;AAAA,cAAiB7B,EAAQ,WAAWwB,EAAM,MAAM,wBAClDL,IAAqBK,EAAM,UAAYnB,EAAM,CACpD,IAAMyB,EAAQzB,EAAK,MAAM;AAAA,CAAI,EACvB0B,EAAYN,EAAS,EACrBO,EAAcF,EAAMC,CAAS,EACnCF,EAAS;AAAA,cAAiB7B,EAAQ,WAAWgC,CAAW,eAC5D,CACA,OAAON,EAAOC,EAAOC,EAAQC,CACjC,CAAC,CACL,CAEA,SAASI,GACLlB,EACAI,EACAd,EACF,CACE,OAAOU,EAAM,UAAU,QAAQ,EAAE,IAAKS,GAAU,CAC5C,GAAI,CAACA,EACD,MAAO,KAEX,IAAIC,EAASD,EAAM,OACfE,EAAO,SAASF,EAAM,QAAQ,MAC9BG,EAAO,WAAWF,CAAM,KACxBG,EACAJ,EAAM,QAAU,YAAcA,EAAM,QAAU,OACxC,YAAYA,EAAM,KAAK,GACvB,GACNK,EAAS,GAEb,GAAIL,EAAM,SAAW,OACjBK,EAAS,GAAKL,EAAM,eACbL,IAAqBK,EAAM,UAAYnB,EAAM,CACpD,IAAMyB,EAAQzB,EAAK,MAAM;AAAA,CAAI,EACvB0B,EAAYN,EAAS,EAE3BI,EADoBC,EAAMC,CAAS,CAEvC,CACA,OAAOL,EAAOC,EAAOC,EAAQC,CACjC,CAAC,CACL,CAEA,SAASb,GACLD,EACAI,EACAd,EACA6B,EAAqB,GACvB,CACE,IAAIC,EAAOpB,EAAM,QACbqB,EAAOrC,EAAG,IAAI,UAAUgB,EAAM,IAAI,EAClCsB,EAAM,GAAGF,CAAI,KAAKC,EAAK,CAAC,CAAC,GACzBE,EAAY,GAChB,GAAIH,IAAS,gBACT,GAAIpB,EAAM,KAAOA,EAAM,IAAI,WAAaA,EAAM,IAAI,UAAU,OAAQ,CAChE,IAAMwB,GACFL,EAAYX,GAAiBU,IAC/BlB,EAAM,IAAKI,EAAkBd,CAAI,EAC7BS,EAAS,CAAC,YAAY,EACxByB,EAAU,OAAS,EACnBzB,EAAO,KACH,GAAGyB,EAAU,MAAM,EAAG,CAAC,EACvB,cACIA,EAAU,OAAS,CACvB,2BACA,GAAGA,EAAU,MAAM,GAAI,EAAE,CAC7B,EAEAzB,EAAO,KAAK,GAAGyB,CAAS,EAE5BD,EAAYxB,EAAO,KAAK;AAAA,KAAQ,CACpC,OACOC,EAAM,WAAaA,EAAM,UAAU,SAC1CuB,GACKJ,EAAY;AAAA,EAAsC;AAAA,IAClDA,EAAYX,GAAiBU,IAC1BlB,EACAI,EACAd,CACJ,EAAE,KAAK;AAAA,KAAQ,GAEvB,OAAK6B,EAGE,eAAelC,EAAQ,KAAKqC,CAAG;AAAA;AAAA,EAAiBC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFrDD,EAAM;AAAA,EAAOC,CAY5B,CtB3PA,IAAME,GAAW,IAAI,GAAG,QAAQ,IAAI,OAAO,EAEpC,SAASC,GAAeC,EAA6B,CAGxD,GAFAC,GAAY,EAERD,EAAQ,KACR,OAAOE,GAAYF,EAAQ,KAAM,OAAQA,EAAQ,aAAa,EAC3D,GAAIA,EAAQ,IACf,OAAO,MAAMA,EAAQ,GAAG,EACnB,KAAMG,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MACN,+BAAiCA,EAAS,UAC9C,EAEJ,OAAOA,EAAS,KAAK,CACzB,CAAC,EACA,KAAMC,GACIF,GAAYE,EAAU,MAAM,CACtC,EAEL,MAAM,IAAI,MAAM,qCAAqC,EAGzD,QAAQ,IAAI,yBAAyB,CACzC","names":["require_compiler","__commonJSMin","exports","Hogan","rIsWhitespace","rQuot","rNewline","rCr","rSlash","rLineSep","rParagraphSep","text","delimiters","len","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","tag","buf","tokens","seenTag","i","lineStart","otag","ctag","addBuf","lineIsWhitespace","isAllWhitespace","j","filterLine","haveSeenTag","noNewLine","next","changeDelimiters","index","close","closeIndex","trim","tagChange","cleanTripleStache","token","s","l","allowedInSuper","buildTree","kind","stack","customTags","instructions","opener","tail","isOpener","isCloser","tags","open","stringifySubstitutions","obj","items","key","esc","stringifyPartials","codeObj","partials","options","serialNo","tree","context","code","template","chooseMethod","createPartial","node","prefix","sym","ctx","write","tripleStache","nodelist","func","name","require_template","__commonJSMin","exports","Hogan","codeObj","text","compiler","options","context","partials","indent","hoganEscape","coerceToString","symbol","partial","template","createSpecializedPartial","section","tail","isArray","i","val","ctx","inverted","start","end","tags","pass","key","returnFound","found","names","doModelGet","cx","findInScope","v","func","oldTags","s","r","textSource","result","name","f","scope","instance","subs","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","rAmp","rLt","rGt","rApos","rQuot","hChars","str","a","require_hogan","__commonJSMin","exports","module","Hogan","src_exports","__export","runStudentCode","DebugPanel","pyTrue","pyFalse","pyNone","pyNotImplemented","pyBool","pyBytes","pyDict","pyFloat","pyFrozenSet","pyFunc","pyInt","pyList","pyNoneType","pyMappingProxy","pyModule","pyObject","pySet","pySlice","pyBuiltinFunctionOrMethod","pyStr","pyTuple","pyType","pyClassMethod","pyStaticMethod","pyProperty","pyBaseException","pySystemExit","pyKeyboardInterrupt","pyGeneratorExit","pyException","pyStopIteration","pyStopAsyncIteration","pyArithmeticError","pyFloatingPointError","pyOverflowError","pyZeroDivisionError","pyAssertionError","pyAttributeError","pyBufferError","pyEOFError","pyImportError","pyModuleNotFoundError","pyLookupError","pyIndexError","pyKeyError","pyMemoryError","pyNameError","pyUnboundLocalError","pyOSError","pyFileNotFoundError","pyTimeoutError","pyReferenceError","pyRuntimeError","pyNotImplementedError","pyRecursionError","pySyntaxError","pyIndentationError","pyTabError","pySystemError","pyTypeError","pyValueError","pyUnicodeError","pyUnicodeDecodeError","pyUnicodeEncodeError","pyExternalError","checkString","checkBool","checkInt","checkAnySet","checkBytes","checkCallable","checkIterable","checkNone","pyIsSubclass","pyIsInstance","pyHasAttr","isTrue","Suspension","Break","chainOrSuspend","tryCatchOrSuspend","retryOptionalSuspensionOrThrow","objectRepr","buildPyClass","iterForOrSuspend","iterArray","richCompareBool","pyCall","pyCallOrSuspend","arrayFromIterable","suspensionToPromise","promiseToSuspension","buildNativeClass","copyKeywordsToNamedArgs","checkArgsLen","checkNoArg","checkNoKwargs","checkOneArg","keywordArrayFromPyDict","keywordArrayToPyDict","pyIter","lookupSpecial","typeLookup","setUpModuleMethods","toPy","toJs","proxy","skulpt_default","isString","obj","defer","res","rej","promise","resolve","reject","makeString","object","copy","a","s","t","m","lastOfPathSeparatorRegExp","cleanKey","key","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","setPath","newValue","k","e","p","last","pushPath","concat","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","regexEscape","str","_entityMap","escape","RegExpCache","capacity","pattern","regExpFromCache","regExpNew","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","c","r","matched","ki","deepFind","tokens","current","i","next","nextPath","j","getCleanedCode","code","consoleLogger","args","type","Logger","_Logger","concreteLogger","options","lvl","prefix","debugOnly","moduleName","baseLogger","EventEmitter","events","listener","event","numListeners","observer","numTimesAdded","ResourceStore","ns","index","lng","ignoreJSONStructure","result","resources","deep","pack","v","postProcessor","module","processors","translator","processor","PATH_KEY","createProxy","state","handler","proxy","keysFromSelector","selector","opts","checkedLoadedFor","shouldHandleAsObject","Translator","_Translator","services","o","opt","resolved","isObject","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","parts","keys","lastKey","returnDetails","namespace","appendNamespaceToCIMode","resUsedKey","resExactUsedKey","noObject","joinArrays","handleAsObjectInI18nFormat","needsPluralHandling","hasDefaultValue","defaultValueSuffix","defaultValueSuffixOrdinalFallback","needsZeroSuffixLookup","defaultValue","resForObjHndl","handleAsObject","resType","resTypeIsArray","newKeyToUse","deepKey","usedDefault","usedKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","send","l","specificDefaultValue","defaultForMissing","language","suffixes","suffix","skipOnVariables","nestBef","nb","na","nestAft","postProcess","postProcessorNames","found","exactUsedKey","usedLng","usedNS","extracted","needsContextHandling","codes","finalKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","possibleKey","optionsKeys","useOptionsReplaceForData","option","LanguageUtil","formattedCode","cleanedLng","lngScOnly","lngOnly","supportedLng","fallbacks","fallbackCode","fallbackCodes","addCode","fc","suffixesOrder","dummyRule","count","PluralResolver","languageUtils","cleanedCode","cacheKey","rule","lngPart","pluralCategory1","pluralCategory2","pluralCategory","deepFindWithDefaults","regexSafe","val","Interpolator","escape$1","escapeValue","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","getOrResetRegExp","existingRegExp","match","replaces","handleFormat","f","missingInterpolationHandler","todo","matchedVar","temp","safeValue","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","keyEndIndex","elem","parseFormatStr","formatStr","formatName","formatOptions","optStr","rest","trimmedKey","createCachedFormatter","fn","cache","optForCache","frm","createNonCachedFormatter","Formatter","cf","formatter","name","format","formats","lastIndex","mem","formatted","valOptions","error","removePending","q","Connector","backend","store","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","err","loaded","loadedKeys","n","fcName","tried","wait","resolver","fallbackValue","isUpdate","clb","get","ret","transformOptions","noop","bindMemberFunctions","inst","I18n","_I18n","defOpts","createClassOnDemand","ClassOrObject","lu","deferred","load","finish","usedCallback","append","li","lngInLngs","setLngProps","done","setLng","fl","keyPrefix","fixedT","resultKey","fallbackLng","lastLng","loadNotPending","loadState","preResult","preloaded","newLngs","ti","rtlLngs","instance","forkResourceStore","mergedOptions","clone","clonedData","prev","acc","createInstance","dir","init","loadResources","reloadResources","use","changeLanguage","getFixedT","exists","setDefaultNamespace","hasLoadedNamespace","loadNamespaces","loadLanguages","resources_default","defaultNS","instance","resources_default","t","keys","isBoolean","val","isElement","isString","isNumber","isObject","isFunction","isComponentClass","Component","isArrayLike","obj","forEach","value","fn","key","keys","isRef","maybeRef","isObject","isUnitlessNumber","prefixKey","prefix","key","prefixes","keys","prop","jsxDomType","JsxDomType","isShadowRoot","el","jsxDomType","JsxDomType","SVGNamespace","XLinkNamespace","XMLNamespace","isVisibleChild","value","isBoolean","className","isObject","keys","k","svg","nonPresentationSVGAttributes","initComponentClass","Class","attr","children","instance","node","attachRef","jsx","tag","_ref","svg","SVGNamespace","isString","attributes","appendChild","values","value","option","isFunction","isObject","isComponentClass","attachRef","ref","node","isRef","isFunction","appendChild","child","isArrayLike","appendChildren","isString","isNumber","appendChildToNode","isElement","isShadowRoot","shadowRoot","children","normalizeAttribute","s","separator","match","style","value","v","isObject","forEach","val","key","isUnitlessNumber","attribute","attrNS","XLinkNamespace","attr","XMLNamespace","dataValue","dataKey","isVisibleChild","className","eventHandler","eventName","useCapture","nonPresentationSVGAttributes","namespace","attributes","keys","DebugHeaderBar","siteName","content","title","jsx","t","hotButtons","DebugFooterBar","content","jsx","t","route","LineType","OutputFormatType","LineMatchingType","DiffStyleType","ColorSchemeType","specials","regex","escapeForRegExp","str","unifyPath","path","hashCode","text","i","chr","len","hash","max","arr","length","getExtension","filename","language","filenameParts","startsWithAny","str","prefixes","startsWith","prefix","baseDiffFilenamePrefixes","getFilename","line","linePrefix","extraPrefix","FilenameRegExp","escapeForRegExp","matchingPrefix","p","getSrcFilename","srcPrefix","getDstFilename","dstPrefix","parse","diffInput","config","files","currentFile","currentBlock","oldLine","oldLine2","newLine","possibleOldName","possibleNewName","oldFileNameHeader","newFileNameHeader","hunkHeaderPrefix","oldMode","newMode","deletedFileMode","newFileMode","copyFrom","copyTo","renameFrom","renameTo","similarityIndex","dissimilarityIndex","index","binaryFiles","binaryDiff","combinedIndex","combinedMode","combinedNewFile","combinedDeletedFile","diffLines","saveBlock","saveFile","startFile","startBlock","values","createLine","currentLine","addedPrefixes","deletedPrefixes","LineType","existHunkHeader","lineIdx","idx","lineIndex","prevLine","nxtLine","afterNxtLine","message","doesNotExistHunkHeader","Diff","oldString","newString","_options$timeout","options","callback","self","done","value","newLen","oldLen","editLength","maxEditLength","maxExecutionTime","abortAfterTimestamp","bestPath","newPos","buildValues","minDiagonalToConsider","maxDiagonalToConsider","execEditLength","diagonalPath","basePath","removePath","addPath","canAdd","addPathNewPos","canRemove","exec","ret","path","added","removed","oldPosInc","last","oldPos","commonCount","left","right","array","i","chars","changeObjects","diff","lastComponent","useLongestToken","components","nextComponent","componentPos","componentLen","component","oldValue","characterDiff","diffChars","oldStr","newStr","longestCommonPrefix","str1","str2","longestCommonSuffix","replacePrefix","string","oldPrefix","newPrefix","replaceSuffix","oldSuffix","newSuffix","removePrefix","removeSuffix","maximumOverlap","string1","string2","overlapCount","a","b","startA","endB","map","k","j","extendedWordChars","tokenizeIncludingWhitespace","wordDiff","Diff","left","right","options","value","parts","segment","tokens","prevPart","part","token","i","changes","lastKeep","insertion","deletion","change","dedupeWhitespaceInChangeObjects","dedupeWhitespaceInChangeObjects","startKeep","deletion","insertion","endKeep","oldWsPrefix","oldWsSuffix","newWsPrefix","newWsSuffix","commonWsPrefix","longestCommonPrefix","replaceSuffix","removePrefix","commonWsSuffix","longestCommonSuffix","replacePrefix","removeSuffix","newWsFull","delWsStart","delWsEnd","newWsStart","newWsEnd","endKeepWsPrefix","deletionWsSuffix","overlap","maximumOverlap","startKeepWsSuffix","deletionWsPrefix","_overlap","wordWithSpaceDiff","Diff","value","regex","extendedWordChars","diffWordsWithSpace","oldStr","newStr","options","lineDiff","Diff","value","options","retLines","linesAndNewlines","line","left","right","sentenceDiff","Diff","value","cssDiff","Diff","value","_typeof","o","jsonDiff","Diff","lineDiff","value","options","undefinedReplacement","_options$stringifyRep","stringifyReplacer","k","v","canonicalize","left","right","canonicalize","obj","stack","replacementStack","replacer","key","i","canonicalizedObj","_typeof","sortedKeys","_key","arrayDiff","Diff","value","levenshtein","a","b","matrix","i","j","newDistanceFn","str","x","y","xValue","yValue","newMatcherFn","distance","findBestMatch","cache","bestMatchDist","bestMatch","cacheKey","md","group","level","bm","a1","b1","aMatch","bMatch","tailA","tailB","a2","b2","group1","groupMatch","group2","result","CSSLineClass","defaultRenderConfig","LineMatchingType","DiffStyleType","ColorSchemeType","separator","distance","newDistanceFn","change","matcher","newMatcherFn","isDevNullName","name","removeInsElements","line","removeDelElements","toCSSClass","lineType","LineType","colorSchemeToCss","colorScheme","prefixLength","isCombined","escapeForHtml","str","deconstructLine","escape","indexToSplit","filenameDiff","file","oldFilename","unifyPath","newFilename","prefixPaths","suffixPaths","oldFilenameParts","newFilenameParts","oldFilenamePartsSize","newFilenamePartsSize","i","j","k","finalPrefix","finalSuffix","oldRemainingPath","newRemainingPath","getHtmlId","hashCode","getFileIcon","templateName","diffHighlight","diffLine1","diffLine2","config","matching","maxLineLengthHighlight","matchWordsThreshold","diffStyle","line1","line2","diff","diffChars","diffWordsWithSpace","changedWords","removed","element","added","chunk","highlightedLine","part","elemType","addClass","escapedValue","baseTemplatesPath","iconsBaseTemplatesPath","defaultFileListRendererConfig","defaultRenderConfig","FileListRenderer","hoganUtils","config","diffFiles","files","file","getHtmlId","filenameDiff","getFileIcon","colorSchemeToCss","defaultLineByLineRendererConfig","defaultRenderConfig","genericTemplatesPath","baseTemplatesPath","iconsBaseTemplatesPath","tagsBaseTemplatesPath","LineByLineRenderer","hoganUtils","config","diffFiles","diffsHtml","file","diffs","colorSchemeToCss","fileDiffTemplate","filePathTemplate","fileIconTemplate","fileTagTemplate","getFileIcon","getHtmlId","filenameDiff","CSSLineClass","matcher","newMatcherFn","newDistanceFn","deconstructLine","block","lines","escapeForHtml","contextLines","oldLines","newLines","left","right","line","prefix","content","blockLinesGroups","i","diffLine","LineType","comparisons","maxLineSizeInBlock","max","elem","isCombined","fileHtml","maxLinesNumber","oldLine","newLine","diff","diffHighlight","preparedOldLine","toCSSClass","preparedNewLine","lineNumberHtml","defaultSideBySideRendererConfig","defaultRenderConfig","genericTemplatesPath","baseTemplatesPath","iconsBaseTemplatesPath","tagsBaseTemplatesPath","SideBySideRenderer","hoganUtils","config","diffFiles","diffsHtml","file","diffs","colorSchemeToCss","fileDiffTemplate","filePathTemplate","fileIconTemplate","fileTagTemplate","getFileIcon","getHtmlId","filenameDiff","CSSLineClass","matcher","newMatcherFn","newDistanceFn","deconstructLine","block","fileHtml","contextLines","oldLines","newLines","left","right","line","prefix","content","accomulated","html","blockLinesGroups","i","diffLine","LineType","comparisons","maxLineSizeInBlock","max","elem","blockHeader","escapeForHtml","isCombined","maxLinesNumber","oldLine","newLine","diff","diffHighlight","preparedOldLine","toCSSClass","preparedNewLine","lineClass","contentClass","Hogan","Hogan","defaultTemplates","c","p","i","t","HoganJsUtils","compiledTemplates","rawTemplates","compiledRawTemplates","previousTemplates","name","templateString","compiledTemplate","defaultTemplates","namespace","view","params","partials","indent","templateKey","defaultDiff2HtmlConfig","defaultLineByLineRendererConfig","defaultSideBySideRendererConfig","OutputFormatType","html","diffInput","configuration","config","defaultDiff2HtmlConfig","diffJson","parse","hoganUtils","HoganJsUtils","colorScheme","fileListRendererConfig","fileList","FileListRenderer","diffOutput","SideBySideRenderer","LineByLineRenderer","TestPanel","testCase","testList","statusIcon","statusClass","testElement","jsx","diffString","diffContainer","html","summaryElement","totalTests","passedTests","t","failedTests","DebugPanel","containerId","clientBridge","container","DebugHeaderBar","DebugFooterBar","TestPanel","title","route","panel","ui","jsx","t","button","event","newState","section","stateContent","signature","newRouteItem","builtinRead","path","skulpt_default","preStyle","setupSkulpt","tag","chart","container","code","message","DebugPanel","saveSkulptFile","contents","startServer","pythonCode","mainFilename","presentErrors","result","error","convertSkulptError","showError","err","filenameExecuted","presentRunError","label","category","buildTraceback","frame","lineno","file","line","scope","source","lines","lineIndex","lineContent","buildTracebackNoHTML","withFrame","name","args","top","traceback","allFrames","x","runStudentCode","options","setupSkulpt","startServer","response","contents"]}